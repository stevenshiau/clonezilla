clonezilla (5.13.17-drbl1) unstable; urgency=medium

  * Time sync mechanism will be disabled if ocs_time_sync="no" is assigned
    in the boot parameters.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/9b6c1d0151/

 -- Steven Shiau <steven@clonezilla.org>  Sat, 27 Dec 2025 14:22:44 +0800

clonezilla (5.13.16-drbl1) unstable; urgency=medium

  * ocs-functions: check_mtd_emmcboot_dev improved for saving/restoring
    cases.  Otherwise it only works for saving mode.
  * ocs-functions: improved converting tmp image for different
    source/destination devices, i.e., >=2 devices won't go. Otherwise it
    will fail.
  * ocs-iso-2-onie: use "zstd -T0", not "zstdmt" to avoid confusion.
  * ocs-cvtimg-comp: removed zstdmt to avoid confusion.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 25 Dec 2025 22:31:42 +0800

clonezilla (5.13.15-drbl1) unstable; urgency=medium

  * Added |mtdblock|mmcblk.*boot to allow special devs.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 18 Dec 2025 15:37:00 +0800

clonezilla (5.13.14-drbl1) unstable; urgency=medium

  * Suppressed useless grep error messages.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 18 Dec 2025 10:24:22 +0800

clonezilla (5.13.13-drbl1) unstable; urgency=medium

  * ocs-live-feed-img: add detection for MTD/EMMC devices.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 18 Dec 2025 10:01:30 +0800

clonezilla (5.13.12-drbl1) unstable; urgency=medium

  * ocs-live-feed-img: added -smtd & -smmcb in BT from raw device pseudo_img_cmd.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 14 Dec 2025 20:37:36 +0800

clonezilla (5.13.11-drbl1) unstable; urgency=medium

  * ocs-live-feed-img: added missing options, including -smtd, -smmcb,
    -rmtd, -rmmcb, -dblk

 -- Steven Shiau <steven@clonezilla.org>  Thu, 11 Dec 2025 16:17:21 +0800

clonezilla (5.13.10-drbl1) unstable; urgency=medium

  * ocs-live-boot-menu: support memtest86+ >=8.0 new file format.
    It has no longer separate .bin (Legacy) and .efi (UEFI) files,
    i.e., a single binary for both UEFI and legacy boot.
  * -

 -- Steven Shiau <steven@clonezilla.org>  Thu, 11 Dec 2025 16:17:19 +0800

clonezilla (5.13.9-drbl1) unstable; urgency=medium

  [ Marcos Diez ]

  * BitLocker partitions now work on the clone_server (ocs-onthefly)

 -- Steven Shiau <steven@clonezilla.org>  Mon, 01 Dec 2025 07:30:00 +0800

clonezilla (5.13.8-drbl1) unstable; urgency=medium

  * Don't unmount $ocsroot $pre_ocsroot_path by default.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 29 Nov 2025 13:37:07 +0800

clonezilla (5.13.7-drbl2) unstable; urgency=medium

  [ Marcos Diez ]

  * BitLocker asks the password again if it is wrong.
  * Improved BitLocker mechanism about echoing passphrase/keys or not.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 25 Nov 2025 07:15:24 +0800

clonezilla (5.13.7-drbl1) unstable; urgency=medium

  * ocs-resize-part: removed useless variables and
    improved for safety and reliability.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 24 Nov 2025 08:08:26 +0800

clonezilla (5.13.6-drbl1) unstable; urgency=medium

  * Bug fixed: ocs-sr can't find devices with PTUUID
    Ref: https://github.com/stevenshiau/clonezilla/issues/168
  * Model and serial from disk or partition might contain
    doulbe quotation mark ("), which breaks dialog menu in Clonezilla.
    The output from ocs-blk-dev-info should remove doulbe quotation mark
    from model and serial.
    https://sourceforge.net/p/clonezilla/bugs/436/

 -- Steven Shiau <steven@clonezilla.org>  Sun, 23 Nov 2025 17:18:33 +0800

clonezilla (5.13.5-drbl1) unstable; urgency=medium

  * Added option -dblk|--decrypt-bitlocker in ocs-sr.
  * Moved deal_with_bitlocker_partitions to task_saveparts from
    check_if_input_device_exist. This makes BitLocker-related codes are the
    same way as LUKS-related codes.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 10 Nov 2025 19:58:38 +0800

clonezilla (5.13.4-drbl1) unstable; urgency=medium

  [ Marcos Diez ]

  * New feature: Bitlocker partitions can be decrypted before backups.
    Ref: https://github.com/stevenshiau/clonezilla/pull/163

 -- Steven Shiau <steven@clonezilla.org>  Sat, 08 Nov 2025 16:39:24 +0800

clonezilla (5.13.3-drbl1) unstable; urgency=medium

  * ocs-live-run-menu: Set TERM as fbterm when running
    program in fbterm so that the box-drawing characters
    can be displayed correctly.
  * Unmount sys/firmware/efi/efivars before unmounting sys/ updating grub or
    initrd in the restored OS.
  * ocs-reset-kbd-lang: the program to reset the keymap and
    locales in Clonezilla live environment was added.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 01 Nov 2025 11:15:37 +0800

clonezilla (5.13.2-drbl1) unstable; urgency=medium

  * Updated get_latest_kernel_ver_in_repository from ocs-functions
    to get the latest linux kernel version.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 28 Oct 2025 21:39:28 +0800

clonezilla (5.13.1-drbl1) unstable; urgency=medium

  * create-ubuntu-live: support resolute, drop plucky.
  * Replaced "--buffer_size" with shorter option "-z" in partclone commands.
  * Added -smtd & -smmcb in the USAGE of ocs-sr.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 28 Oct 2025 20:23:11 +0800

clonezilla (5.12.38-drbl1) unstable; urgency=medium

  * Added 2 options: -smtd & -smmcb for saving an image.
    This allows users to select. By default do not save the
    MTD block device and eMMC boot device.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 17 Oct 2025 16:11:49 +0800

clonezilla (5.12.37-drbl1) unstable; urgency=medium

  * Updated prompts: (1) Inputted device not found and 
    (2) Searching MTD block and eMMC boot devices

 -- Steven Shiau <steven@clonezilla.org>  Wed, 15 Oct 2025 07:50:25 +0800

clonezilla (5.12.36-drbl1) unstable; urgency=medium

  * Added option "-uoab" in ocs-sr & ocs-live-feed-img to
    support using Clonezilla alias block device name in the TUI.
  * get_mapped_kernel_blkname from ocs-functions was renmaed as
    get_mapped_kernel_or_ocs_blkname and now it can be used to
    map kernel device name or Clonezilla alias device name.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 12 Oct 2025 20:29:17 +0800

clonezilla (5.12.35-drbl1) unstable; urgency=medium

  * Improved to make lite server support ocs-?d* (Clonezilla block device).

 -- Steven Shiau <steven@clonezilla.org>  Fri, 10 Oct 2025 19:46:18 +0800

clonezilla (5.12.34-drbl1) unstable; urgency=medium

  * ocs-get-dev-info: improved for better performance.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 09 Oct 2025 22:16:37 +0800

clonezilla (5.12.33-drbl1) unstable; urgency=medium

  * ocs-cmd-screen-sample: added option -v|--verbose. If used, "bash -x" will
    be used for the script.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 07 Oct 2025 08:39:08 +0800

clonezilla (5.12.32-drbl1) unstable; urgency=medium

  * Support imaging MTD block & eMMC boot devices.
    By default these two types of device will be saved when they are found.
    When restoring, if -rmtd|--restore-mtdblock or -rmmcb|--restore-mmcblk
    is assigned, the saved image will be restored.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 05 Oct 2025 19:57:05 +0800

clonezilla (5.12.31-drbl1) unstable; urgency=medium

  * Improved function get_not_busy_disks_or_parts. Make it more efficient.
    Functions conv_uuid_mount_to_tradpart & is_linux_raid_member were
    improved, too.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 04 Oct 2025 14:22:32 +0800

clonezilla (5.12.30-drbl1) unstable; urgency=medium

  * Removed the clonezilla dev cache mechanism since it's not mature.
    Functions check_if_use_disklist_cache & check_if_use_partlist_cache
    were removed.
    Parameter use_dev_list_cache is not honored anymore.
  * Improved functions so they are more efficient:
    check_if_input_device_exist, strip_leading_dev,
    format_dev_name_with_leading_dev,
    format_dev_name_without_leading_dev
  * Improved functions to deal with eMMC boot device: /dev/mmcblk*boot*,
    including is_supported_dev, is_partition, get_part_number
  * function get_diskname from ocs-functions: mtdblock*|mmcblk*boot* return ""
    since we treat it as a partition.

  
  [ Ceasar Sun ]

  * New program: ocs_live_u-bootable_rawdisk (PR #159) from Ceasar Sun.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 04 Oct 2025 12:19:47 +0800

clonezilla (5.12.29-drbl1) unstable; urgency=medium

  * get_part_number from ocs-functions: improved with new dev mtdblockN

 -- Steven Shiau <steven@clonezilla.org>  Tue, 30 Sep 2025 21:06:48 +0800

clonezilla (5.12.28-drbl1) unstable; urgency=medium

  * Add supported block MTD Block Device (/dev/mtdblockN), and treat it
    as a partition in function since it contains no any partitions.
  * Function gen_proc_partitions_map_file from ocs-functions:
    removed devfs part since devfs is no more from Linux kernel >= 2.6.18.
  * The functions is_partition, get_diskname and is_supported_dev from
    ocs-functions were rewritten, with the help of Google's Gemini.
    It should be more efficient and readable now.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 29 Sep 2025 20:51:37 +0800

clonezilla (5.12.27-drbl1) unstable; urgency=medium

  * New sample program: ocs-cmd-screen-sample. It is used as the template
    program for the run-again script.
    Both screen and tmux option can be assigned by "-s" or "-t".
  * Function output_run_again_script in ocs-functions was updated with
    new sample script ocs-cmd-screen-sample.
  * S03prep-drbl-clonezilla: Source ~/.bash_profile from ~/.bashrc for root
    and user accounts so that non-login shell (screen/tmux...) has same PS1.
  * ocs-cvt-dev: only disk type is accepted.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 29 Sep 2025 10:32:08 +0800

clonezilla (5.12.26-drbl1) unstable; urgency=medium

  [ Thomas Tsai ]
  * Added test scripts for debian/tests.

  [ Ceasar Sun ]
  * Improved support for riscv64 arch
  * DTB files collect from imported deb files
  * Save full repacke command( as info) into ./{live/}Clonezilla-Live-Version

 -- Steven Shiau <steven@clonezilla.org>  Thu, 25 Sep 2025 18:11:30 +0800

clonezilla (5.12.25-drbl1) unstable; urgency=medium

  * Variable msg_next_choose_timezon -> msg_next_choose_timezone.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 24 Sep 2025 20:41:37 +0800

clonezilla (5.12.24-drbl1) unstable; urgency=medium

  * Source dev to multi-machines descriptions updated, i.e.,
    Updated the descriptions about "disk-2-mdisks" & "part-2-mparts".
    Updated the descriptions of the option "-cdt"

 -- Steven Shiau <steven@clonezilla.org>  Mon, 22 Sep 2025 21:07:49 +0800

clonezilla (5.12.23-drbl1) unstable; urgency=medium

  * ocs-blk-dev-info: improved to make jq work in some cases.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 20 Sep 2025 11:55:11 +0800

clonezilla (5.12.21-drbl1) unstable; urgency=medium

  [ Ceasar Sun ]
  * ocs-live-swap-kernel: patched to deal with modules.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 18 Sep 2025 18:39:26 +0800

clonezilla (5.12.20-drbl1) unstable; urgency=medium

  * ocs-blkdev-sorter: Skip generating the PV from LVM.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 12 Sep 2025 11:30:27 +0800

clonezilla (5.12.19-drbl1) unstable; urgency=medium

  * live-hook: use /usr/lib/ instead of /lib/, and remove unused codes,

 -- Steven Shiau <steven@clonezilla.org>  Sun, 07 Sep 2025 21:21:38 +0800

clonezilla (5.12.18-drbl1) unstable; urgency=medium

  * Updated code to work with efiboogmgr >= 18-4.
  * Make root's bash prompt use full hostname in live system.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 07 Sep 2025 16:51:25 +0800

clonezilla (5.12.17-drbl1) unstable; urgency=medium

  * Fix: wrong code for PS1 of autologin account.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 06 Sep 2025 12:49:36 +0800

clonezilla (5.12.16-drbl1) unstable; urgency=medium

  * create-ubuntu-live: removed linux-modules-extra for Questing release.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 06 Sep 2025 10:37:56 +0800

clonezilla (5.12.15-drbl1) unstable; urgency=medium

  * Use full hostname, not short one, for the bash prompt in live account.
  * create-ubuntu-live: do not assign hostname. Let ocs-iso/ocs-live-dev
    do that.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 05 Sep 2025 20:37:21 +0800

clonezilla (5.12.14-drbl1) unstable; urgency=medium

  * Added an option to use screen in the "run again" script.
    Thanks to lisz8 for sharing that.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 05 Sep 2025 15:38:23 +0800

clonezilla (5.12.13-drbl1) unstable; urgency=medium

  * Changed the ocs block device path to /dev/ocs-disks/, was in
    /dev/ocs_disks/.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 03 Sep 2025 13:44:02 +0800

clonezilla (5.12.12-drbl1) unstable; urgency=medium

  * 99-ocs-sorted-disks.rules: device changes should trigger the updates
    for ocs-?d*. 

 -- Steven Shiau <steven@clonezilla.org>  Wed, 03 Sep 2025 09:06:14 +0800

clonezilla (5.12.11-drbl1) unstable; urgency=medium

  * Fixed: --batch was not passed to function check_image_if_restorable of
    ocs-functions.
    Ref: https://github.com/stevenshiau/clonezilla/issues/154
  * ocs-scan-disk: Updated the comments and the output will be aligned.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 02 Sep 2025 20:25:56 +0800

clonezilla (5.12.10-drbl1) unstable; urgency=medium

  * ocs-blkdev-sorter: make it affect as a disk is removed.
  * 99-ocs-sorted-disks.rules: removed ENV{ID_FS_UUID_ENC}==""
    so that when USB disk is removed, RUN will be executed.
  * ocs-scan-disk: format the output so that it's easier to read.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 29 Aug 2025 20:59:41 +0800

clonezilla (5.12.9-drbl1) unstable; urgency=medium

  * Improved ocs-blkdev-sorter to make it run in udev:
    1. Add a lock to the script so there is only one instance running at the same time.
    2. Overwrite the log file instead of appending to it.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 28 Aug 2025 21:47:25 +0800

clonezilla (5.12.8-drbl1) unstable; urgency=medium

  * Added udev rule: 99-ocs-sorted-disks.rules to run ocs-blkdev-sorter.
  * drbl-ocs.conf: changed CD_FILE_LIMIT to 700.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 27 Aug 2025 20:40:15 +0800

clonezilla (5.12.7-drbl1) unstable; urgency=medium

  * A new program ocs-blkdev-sorter was added. It will be used in the future
    to have a abstract block device from Clonezilla.
  * The abstract block device name can be used in CML when running ocs-sr &
    ocs-onthefly.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 26 Aug 2025 21:25:04 +0800

clonezilla (5.12.6-drbl1) unstable; urgency=medium

  * drbl-ocs.conf: updated ocs_live_exclude_kernels to
    exclude "-16k" Linux kernel for ARM64 arch.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 21 Aug 2025 16:15:11 +0800

clonezilla (5.12.5-drbl1) unstable; urgency=medium

  * Disabled atd and cron services in live system by default.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 21 Aug 2025 10:16:45 +0800

clonezilla (5.12.4-drbl1) unstable; urgency=medium

  * Added ethdevice-link-timeout=7 in the live client.
    This assigns the ethernet device linking status timeout as 7 secs
    instead of the default 15 secs.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Open_discussion/thread/579168f80f/

 -- Steven Shiau <steven@clonezilla.org>  Wed, 20 Aug 2025 15:31:07 +0800

clonezilla (5.12.3-drbl1) unstable; urgency=medium

  * Made dialog menu of block devs list more efficient.
  * ocs-blk-dev-info: A new program to output block dev info in json format.
  * Output LVM and LUKS partition info in dev-fs.list
  * Bug fixed: Wrong device name due to lacking /dev/ 
    for check_if_containing_thin_lv.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 02 Aug 2025 11:08:02 +0800

clonezilla (5.12.2-drbl1) unstable; urgency=medium

  * ocs-lang-kbd-conf: added options "-f" and "-t". 

 -- Steven Shiau <steven@clonezilla.org>  Sun, 27 Jul 2025 20:09:23 +0800

clonezilla (5.12.1-drbl1) unstable; urgency=medium

  * Removed the duplicated part about ocs-lang-kbd-conf
    since it's run in ocs-live-run-menu.
  * A funtion to to disable stdin non-blocking mode was added in
    ocs-functions and used after fbterm is run in ocs-lang-kbd-conf
    and ocs-live-run-menu.
    This will avoid this issue when read command is used:
    "read: read error: 0: Resource temporarily unavailable"

 -- Steven Shiau <steven@clonezilla.org>  Sun, 27 Jul 2025 12:28:52 +0800

clonezilla (5.11.21-drbl1) unstable; urgency=medium

  * ocs-lang-kbd-conf should be run once inside ocs-live-run-menu.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 26 Jul 2025 20:09:29 +0800

clonezilla (5.11.20-drbl1) unstable; urgency=medium

  * Move language and keymap configurations to login shell. It was before
    /sbin/getty. This is due to fbterm needs interactive tty.
    Therefore /etc/ocs/ocs-live.d/S05-lang-kbd-conf was removed.
  * ocs-lang-kbd-conf: removed unused comments.
  * Move tag file start-ocs-lang-kbd-conf to /run/live from /run/lock/.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 26 Jul 2025 18:54:31 +0800

clonezilla (5.11.19-drbl1) unstable; urgency=medium

  * A better way to run fbterm with suitable font size, and forget about
    TERM variable.
  * Tag file for already being run was changed:
    /run/lock/drbl-kbdchooser -> /run/live/drbl-kbdchooser
  * Renamed function "ask_language_if_supported_with_bterm" as
    "choose_language_in_fb_term".
    Skip checking framebuffer dev in choose_language_in_fb_term due to there
    is no good way to pass environmental variable TERM to fbterm. A
    workaround is to use file tag (/run/live/drbl-langchooser) to check if it's run or not.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 26 Jul 2025 10:49:11 +0800

clonezilla (5.11.18-drbl1) unstable; urgency=medium

  * A workaround to set TERM=fbterm due to fbterm will overwrite
    the environmental variable TERM as linux. We force to set it as
    fbterm when entering the shell.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 25 Jul 2025 19:20:20 +0800

clonezilla (5.11.17-drbl1) unstable; urgency=medium

  * In addition to jfbter/bterm, added fbterm as another option.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 23 Jul 2025 16:13:51 +0800

clonezilla (5.11.16-drbl1) unstable; urgency=medium

  * Updated prompts about time sync.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 21 Jul 2025 20:17:09 +0800

clonezilla (5.11.15-drbl1) unstable; urgency=medium

  * ocs-scan-disk: show ID_PATH_TAG so that it's easier to identify the
    disk.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 21 Jul 2025 16:52:05 +0800

clonezilla (5.11.14-drbl1) unstable; urgency=medium

  * ocs-live-time-sync: live system should not touch the BIOS's clock. 
    It's better to keep the way it is. Hence drop the command
    "hwclock --systohc". 

 -- Steven Shiau <steven@clonezilla.org>  Mon, 21 Jul 2025 15:33:27 +0800

clonezilla (5.11.13-drbl1) unstable; urgency=medium

  * Implemented a mechanism to set timezone as time syncing from BIOS
    when no internet connection.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 20 Jul 2025 11:48:34 +0800

clonezilla (5.11.12-drbl1) unstable; urgency=medium

  * ocs-console-font-size: added a new mechanism to set console font size
    automatically based on the console cols and rows if not assigned.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 13 Jul 2025 17:29:45 +0800

clonezilla (5.11.11-drbl1) unstable; urgency=medium

  * Use the same mechanism to reduce the possibility of random order
    of block devices in GParted live.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 12 Jul 2025 20:24:30 +0800

clonezilla (5.11.10-drbl1) unstable; urgency=medium

  * Added package curl in the requirements.
  * Added new program ocs-live-time-sync and used in ocs-live-netcfg.
  * When internet is available, time sync can be done.
    Bug fixed: image name variable was not protected in function
    create_temp_image_for_different_target_dev_name_if_necessary
    of ocs-functions.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 12 Jul 2025 11:18:15 +0800

clonezilla (5.11.9-drbl1) unstable; urgency=medium

  * Added "efitextmode 0" to the grub.cfg of Clonezilla live.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Open_discussion/thread/8775952851/

 -- Steven Shiau <steven@clonezilla.org>  Fri, 11 Jul 2025 08:48:09 +0800

clonezilla (5.11.8-drbl1) unstable; urgency=medium

  * Added a mechanism to check if LVM thin provisioning existing. If so,
    quit program.
    Ref: https://github.com/stevenshiau/clonezilla/issues/133

 -- Steven Shiau <steven@clonezilla.org>  Tue, 08 Jul 2025 21:55:00 +0800

clonezilla (5.11.7-drbl1) unstable; urgency=medium

  * ocs-iso-2-onie: updated to catch modern Debian, especially the
    mkinitramfs multiple segments.
  * ocs-live-hook.conf: force to add module "loop" in initramfs.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 07 Jul 2025 17:12:40 +0800

clonezilla (5.11.6-drbl1) unstable; urgency=medium

  * drbl-ocs.conf: added ocs_1_cpu_udev in boot parameter
    "supp_boot_param_ocs_live_extra".

 -- Steven Shiau <steven@clonezilla.org>  Sun, 29 Jun 2025 10:32:00 +0800

clonezilla (5.11.5-drbl1) unstable; urgency=medium

  * Recovery iso/zip file name now contains CPU arch.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 28 Jun 2025 16:47:34 +0800

clonezilla (5.11.4-drbl1) unstable; urgency=medium

  * ocs-sr, ocs-onthefly, ocs-restore-mbr, ocs-restore-mdisks:
    Replaced commands with variable so it's easier to read and debug.
    Protect the image dir name variable so that special characters like ()
    can be used as image name.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 27 Jun 2025 21:01:13 +0800

clonezilla (5.11.3-drbl1) unstable; urgency=medium

  * Improved lite server about BT mode to allow image name with special
    characters (e.g., ()).
  * Added missing options, -cm, -cs, -cb2, -cb3, -f in ocs-live-get-img.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 25 Jun 2025 20:38:52 +0800

clonezilla (5.11.2-drbl1) unstable; urgency=medium

  * Improved the RE to find the latest linux kernel from Packages.xz.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 24 Jun 2025 20:07:21 +0800

clonezilla (5.11.1-drbl1) unstable; urgency=medium

  * Update RE to parse latest linux kernel.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 24 Jun 2025 13:15:03 +0800

clonezilla (5.11.0-drbl1) unstable; urgency=medium

  * Protect the image name variables (dir) so that special character
    like "(" or ")" can be used in the name, though it's not recommended to
    do so.
    Allow image name to contain special characters "(" & ")" in the TUI.
    Ref: https://sourceforge.net/p/clonezilla/bugs/431/

 -- Steven Shiau <steven@clonezilla.org>  Tue, 24 Jun 2025 08:06:35 +0800

clonezilla (5.10.8-drbl1) unstable; urgency=medium

  * Fixed: ID tag from udevadm was wrongly truncated.
  * A mechanism was added to have more boot parameters to migigate
    random naming of block devices: scsi_mod.use_blk_mq=0 nvme.poll_queues=1

 -- Steven Shiau <steven@clonezilla.org>  Tue, 20 May 2025 15:30:00 +0800

clonezilla (5.10.7-drbl1) unstable; urgency=medium

  * Simplied the ezio-related variables. Use only
    ezio_seed_max_connect, ezio_seed_max_upload, ezio_upload_timeout
    and assigned their initial values.
    i.e., dropped:
    ezio_seed_max_connect_def, ezio_seed_max_upload_def, ezio_upload_timeout_def

 -- Steven Shiau <steven@clonezilla.org>  Mon, 12 May 2025 07:24:06 +0800

clonezilla (5.10.6-drbl1) unstable; urgency=medium

  * ocs-get-dev-info: do not escape whitespace of blkid output.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Help/thread/6f9d89b8b7/?limit=25#bed4
  * Add 3 options for running ezio:
    ezio_seed_max_connect="6" # Max total connections number
    ezio_seed_max_upload="5" # Max upload connections number
    ezio_upload_timeout="90" # The interval to keep uploading and waiting for other peer (sec)
    These 3 parameters can also be assigned in boot parameters so that
    seeder and leecher of ezio can be controlled.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 11 May 2025 20:23:35 +0800

clonezilla (5.10.5-drbl1) unstable; urgency=medium

  * Make sure partition label does not contain space in
    the dialog menu. This should fix the issue which whiptail shows:
    "Box" is an unknown partition device. Program terminated!.
    Thanks to bagged 9008.
    Ref: https://sourceforge.net/p/clonezilla/bugs/429/

 -- Steven Shiau <steven@clonezilla.org>  Sat, 10 May 2025 20:03:37 +0800

clonezilla (5.10.4-drbl1) unstable; urgency=medium

  * [Ceasar Sun]
    ocs-live-swap-kernel: sync the hook files for update-initramfs.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 10 May 2025 16:09:41 +0800

clonezilla (5.10.3-drbl1) unstable; urgency=medium

  * ocs-live-swap-kernel: fixed firmware destination dir when rsync files.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 09 May 2025 20:10:36 +0800

clonezilla (5.10.2-drbl1) unstable; urgency=medium

  * ocs-live-swap-kernel: firmware will be included.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 09 May 2025 14:56:42 +0800

clonezilla (5.10.1-drbl1) unstable; urgency=medium

  * ocs-ezio-leecher: add timeout option (-w) from ezio >= 2.0.16
    for ezio_ui.py and ezio_cli.py. This allows us to control the
    uploading timeout of the leecher.
  * ocs-ezio-seeder: use ezio_add_torrent.py from ezio >= 2.0.16, i.e.,
    dropped ezio_add_torrent_seed.py.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 07 May 2025 20:42:56 +0800

clonezilla (5.9.10-drbl1) unstable; urgency=medium

  * create-ubuntu-live: support creating Ubuntu Questing-based
    Clonezilla live system. Dropped old ones.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 04 May 2025 12:01:04 +0800

clonezilla (5.9.9-drbl1) unstable; urgency=medium

  * ocs-live-repository: added a prompt about Clonezilla live USB
    when it's found.
  * Set CPUs offline/online jobs in background.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 08 Apr 2025 05:00:36 +0800

clonezilla (5.9.8-drbl1) unstable; urgency=medium

  * ocs-live-repository: bug fixed for syntax error.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 06 Apr 2025 16:04:44 +0800

clonezilla (5.9.7-drbl1) unstable; urgency=medium

  * ocs-find-live-key: Improved to deal with the case that the Clonezilla
    live USB drive is already mounted. Now no matter it's mounted or not,
    the removable medium (1) that is vFAT file system and (2) contains
    the file "Clonezilla-Live-Version" will be treated as Clonezilla
    live USB drive.
  * ocs-live-repository: added dev=///OCS_LIVE_USB so that
    the Clonezilla live USB drive can be assigned as the image repo,
    especially when Clonezilla live USB drive is booted in "To RAM" mode.
    The Clonezilla live USB drive has to be vFAT file system since
    it's used to boot in both uEFI and MBR mode. Hence it is not a good
    choice for image repo since vFAT file system has many restrictions.
    Better to use UUID or LABEL to assign the image repo.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 06 Apr 2025 15:57:53 +0800

clonezilla (5.9.6-drbl1) unstable; urgency=medium

  * Added new program ocs-find-live-key & updated ocs-put-log-usb
    so that it can copy the log files even when Clonezilla live USB drive is
    used in "To RAM" mode.
  * Improved the saving dialog menu and prompt.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 05 Apr 2025 16:19:59 +0800

clonezilla (5.9.5-drbl1) unstable; urgency=medium

  * Improved the mechanism to mitigate the random order of block device
    naming.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 04 Apr 2025 18:29:08 +0800

clonezilla (5.9.4-drbl1) unstable; urgency=medium

  * Added a mechanism to mitigate the random order of block devices.
    It can be enabled by adding the boot parameter "ocs_1_cpu_udev", i.e.,
    when udev is started in initramfs, only 1 CPU is online. After that, all
    CPUs will be enabled.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 04 Apr 2025 16:38:38 +0800

clonezilla (5.9.3-drbl1) unstable; urgency=medium

  * ocs-get-dev-info: bug fixed for parsing wrong fs about apfs.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 20 Mar 2025 18:55:44 +0800

clonezilla (5.9.2-drbl1) unstable; urgency=medium

  * ocs-get-dev-info: the encrypted APFS is outputted
    as different name (apfs_encrypted) otherwise
    Partclone can not handle it.
  * drbl-ocs.conf: enable btrfs support in drbl-ocs.conf
    since Partclone has been updated to 0.3.34 which supports
    btrfs v6.13.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 20 Mar 2025 11:41:01 +0800

clonezilla (5.9.1-drbl1) unstable; urgency=medium

  * Disable devices list cache mechanism since blkid is run
    too many times that makes program run slowly.
  * ocs-functions: drop function get_part_vol_name since it can be replaced by
    ocs-get-dev-info.
  * ocs-get-dev-info: compare only 3th/4th columns of /proc/partitions.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 18 Mar 2025 20:32:28 +0800

clonezilla (5.8.20-drbl1) unstable; urgency=medium

  * [Thomas Tsai]
    ocs-live-swap-kernel: add required modules in initramfs
    for ARM-based Mac.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 04 Mar 2025 21:46:36 +0800

clonezilla (5.8.19-drbl1) unstable; urgency=medium

  * nic-firmware.lst: added ath10k firmware.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 27 Feb 2025 20:47:37 +0800

clonezilla (5.8.18-drbl1) unstable; urgency=medium

  * Default to use "-1" for lz4 compression.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 18 Feb 2025 22:46:06 +0800

clonezilla (5.8.17-drbl1) unstable; urgency=medium

  * Bug fixed: lz4 option was not used correctly.
    Thanks to ottokang for reporting this issue.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 17 Feb 2025 20:51:55 +0800

clonezilla (5.8.16-drbl1) unstable; urgency=medium

  * ocs-live-swap-kernel: support both path in /usr/lib/modules and /lib/modules
    when swaping kernel modules.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 14 Feb 2025 17:56:07 +0800

clonezilla (5.8.15-drbl1) unstable; urgency=medium

  * Merge lz4 and lz4mt, use "lz4 -T0" by default. Hence the following extra_lz4* variables are dropped:
    extra_lz4_opt, extra_lz4mt_opt.
    This will be easier for user to customize that using boot parameters.
    Now only available variables for lz4 are:
    extra_lz4_opt, extra_lz4_dc_opt, extra_lz4_opt_onthefly & extra_lz4_dc_opt_onthefly.
  * S03prep-drbl-clonezilla: add lz4-related boot parameters: extra_lz4_opt, extra_lz4_dc_opt,
    extra_lz4_opt_onthefly & extra_lz4_dc_opt_onthefly

 -- Steven Shiau <steven@clonezilla.org>  Fri, 14 Feb 2025 17:51:47 +0800

clonezilla (5.8.14-drbl1) unstable; urgency=medium

  * ocs-live-swap-kernel: path for newer Linux kernel modules is
    /usr/lib/modules, not /lib/modules anymore.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 10 Feb 2025 20:46:20 +0800

clonezilla (5.8.13-drbl1) unstable; urgency=medium

  * ocs-onthefly: Let ocs-sr do the "-plu" job. Otherwise it will be
    duplicated.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 09 Feb 2025 10:15:47 +0800

clonezilla (5.8.12-drbl1) unstable; urgency=medium

  * The changes for the option "-plu" were done for ocs-sr/ocs-onthefly.
    Add a boot parameter "put_log_usb" so that "-plu" can be assigned as yes/no.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 08 Feb 2025 20:46:54 +0800

clonezilla (5.8.11-drbl1) unstable; urgency=medium

  * Replace lz4mt with "lz4 -T0" since lz4 >= 1.10 support multicores.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 06 Feb 2025 21:15:33 +0800

clonezilla (5.8.10-drbl1) unstable; urgency=medium

  * Move gen_checksums_for_img_if_assigned to task_postprocessing in
    ocs-functions.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 26 Jan 2025 21:20:10 +0800

clonezilla (5.8.9-drbl1) unstable; urgency=medium

  * ocs-live-swap-kernel: add option "-l" to umount for
    kernel pseudo-filesystem: squashfs-root/{dev,proc,sys,run}
    This will avoid the efivarfs is busy as
    squashfs-root/sys/firmware/efi/efivars.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 16 Jan 2025 19:53:22 +0800

clonezilla (5.8.8-drbl1) unstable; urgency=medium

  * Add an option in expert mode (-plu) so that user can
    copy clonezilla-related log files to Clonezilla live
    USB drive.A new file ocs-put-log-usb is used to copy
    log files to Clonezilla live USB drive.
  * Use $ocs_log_dir (/var/log/clonezilla/) as log dir. All the
    Clonezilla-related log files will be under that dir.
    Bug fixed: wrong total number for chosen checksum method.
    Thanks to barkoder.
    Ref: https://github.com/stevenshiau/clonezilla/issues/127#issuecomment-2587011681

 -- Steven Shiau <steven@clonezilla.org>  Tue, 14 Jan 2025 20:25:39 +0800

clonezilla (5.8.7-drbl1) unstable; urgency=medium

  * Fixed the wrong format of live info in grub menu.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 06 Jan 2025 07:47:37 +0800

clonezilla (5.8.6-drbl1) unstable; urgency=medium

  * Format the output of live system ifno in grub menu.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 05 Jan 2025 22:01:58 +0800

clonezilla (5.8.5-drbl1) unstable; urgency=medium

  * Add time tag in grub boot menu for live system.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 05 Jan 2025 15:23:51 +0800

clonezilla (5.8.4-drbl1) unstable; urgency=medium

  * Improve the outputs and prompts about checksum messages in
    check_checksums_for_img of ocs-functions.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 05 Jan 2025 14:19:35 +0800

clonezilla (5.8.3-drbl1) unstable; urgency=medium

  * Keep the partition size for "Apple Boot partition (recovery HD)".
    Thanks to Ryan Carsten Schmidt for this suggestion.
    Ref: https://sourceforge.net/p/clonezilla/bugs/425/
  * Update some comments and prompts in ocs-expand-gpt-pt.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 04 Jan 2025 15:40:11 +0800

clonezilla (5.8.2-drbl1) unstable; urgency=medium

  * Restored to use the fail-mbr.bin from package drbl, not from partclone
    since it will be dropped in the future.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 01 Jan 2025 15:07:46 +0800

clonezilla (5.8.1-drbl1) unstable; urgency=medium

  * Disable btrfs support since partclone does not support it well.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 29 Dec 2024 09:10:15 +0800

clonezilla (5.7.12-drbl2) unstable; urgency=medium

  * Update control file for packaging. 

 -- Steven Shiau <steven@clonezilla.org>  Fri, 13 Dec 2024 11:41:25 +0800

clonezilla (5.7.12-drbl1) unstable; urgency=medium

  * Bug fixed: an extra "-" file was created when inspecting the checksums
    of files in a file system.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 13 Dec 2024 11:25:10 +0800

clonezilla (5.7.11-drbl1) unstable; urgency=medium

  * Improve the checksums mechanism for Clonezilla image. Make it read once
    and pass to multiple checksum programs.
    Thanks to barkoder.
    Ref: https://github.com/stevenshiau/clonezilla/issues/127

 -- Steven Shiau <steven@clonezilla.org>  Wed, 11 Dec 2024 23:01:11 +0800

clonezilla (5.7.10-drbl1) unstable; urgency=medium

  * Improve the checksum creation for LV and interactive mode.
    Do not wait for input from stdin otherwise it will skip the rest of device in
    dev-fs.list. Skip file checksum creation about Linux swap &
    MS_Reserved_Partition partitions.
  * Improve the checksum inspection mechanism. Make the log file in a
    directory to avoid confusion.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 08 Dec 2024 12:41:01 +0800

clonezilla (5.7.9-drbl1) unstable; urgency=medium

  * Generate the checksums of files in a file system in batch mode, not
    right after the image of device is saved.
    Thanks to barkoder for asking this.
    Ref: https://github.com/stevenshiau/clonezilla/issues/126

 -- Steven Shiau <steven@clonezilla.org>  Sat, 07 Dec 2024 14:29:02 +0800

clonezilla (5.7.8-drbl1) unstable; urgency=medium

  * A workdaround to avoid grub has no video output on some systems
    Ref: https://savannah.gnu.org/bugs/?65503#comment2
    https://sourceforge.net/p/clonezilla/bugs/424/
    Thanks to Fab Stz.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 28 Nov 2024 07:52:21 +0800

clonezilla (5.7.7-drbl1) unstable; urgency=medium

  * The files create-(debian|ubuntu|gparted)-live:
    A workaround to run bootstrap "debootstrap". Not always using mmdebstrap.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 08 Nov 2024 11:21:00 +0800

clonezilla (5.7.6-drbl1) unstable; urgency=medium

  * Arch riscv64 support are added to more ocs files.
  * The dirs syslinux and utils in live system are
    only for x86, not for arm64 and riscv64.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 04 Nov 2024 18:40:13 +0800

clonezilla (5.7.5-drbl1) unstable; urgency=medium

  * ocs-iso/ocs-live-dev: fit the riscv64 linux kernel name vmlinux-*, not
    vmlinuz-*.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 03 Nov 2024 16:10:58 +0800

clonezilla (5.7.4-drbl1) unstable; urgency=medium

  * ocs-iso/ocs-live-dev: add supporting riscv64 arch.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 03 Nov 2024 14:33:22 +0800

clonezilla (5.7.3-drbl1) unstable; urgency=medium

  * Improved creating riscv64 live system.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 02 Nov 2024 23:10:24 +0800

clonezilla (5.7.2-drbl1) unstable; urgency=medium

  * create-debian-live: support creating live system for riscv64 arch.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 31 Oct 2024 15:10:22 +0800

clonezilla (5.7.1-drbl1) unstable; urgency=medium

  * create-ubuntu-live: Support creating Plucky-based Clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 29 Oct 2024 09:42:33 +0800

clonezilla (5.6.23-drbl1) unstable; urgency=medium

  * ocs-live-feed-img: missing -edio option.
    Thanks to Sainthol.
    https://sourceforge.net/p/clonezilla/discussion/Help/thread/dede4020e7/?limit=25#a008
  * Typo fixed. Thanks to Rachad-Alabi-ADEKAMBI.
    Ref: https://github.com/stevenshiau/clonezilla/pull/125

 -- Steven Shiau <steven@clonezilla.org>  Thu, 10 Oct 2024 14:17:09 +0800

clonezilla (5.6.22-drbl1) unstable; urgency=medium

  * Replace reboot with "systemctl -f reboot" so that root over NFS won't
    hang when rebooting. Same for poweroff command.
    The option HALT_REBOOT_OPT is set as "-f" in drbl-ocs.conf.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 02 Oct 2024 23:02:55 +0800

clonezilla (5.6.21-drbl1) unstable; urgency=medium

  * clonezilla: add missing option "-n" in the usage.
    Thanks to tim-cyb for reporting this.
    Ref: https://github.com/stevenshiau/clonezilla/issues/119

 -- Steven Shiau <steven@clonezilla.org>  Sat, 28 Sep 2024 12:52:34 +0800

clonezilla (5.6.20-drbl1) unstable; urgency=medium

  * Remove sudo when halting & rebooting in the GParted live menu since it is
    not necessary and the GUI won't start.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 28 Sep 2024 09:51:30 +0800

clonezilla (5.6.19-drbl1) unstable; urgency=medium

  * Output more info in the clonezilla log file.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 19 Sep 2024 20:20:54 +0800

clonezilla (5.6.18-drbl1) unstable; urgency=medium

  * ocs-scan-disk: use lsblk so the codes is neater. The block device with
    file system (e.g., sda has ntfs file system) can be correctly shown now.
    Ref: https://github.com/stevenshiau/clonezilla/issues/67

 -- Steven Shiau <steven@clonezilla.org>  Sun, 08 Sep 2024 11:15:32 +0800

clonezilla (5.6.17-drbl1) unstable; urgency=medium

  * Batch mode did not just quit when failing to restore a partition.
    Thanks to Ron for reporting this.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/07b08bf1e4/?limit=25#4637/b907
  * Merged zstd and zstdmt, use "zstd -T0" by default. Hence the following extra_zstdmt_* variables are dropped:
    extra_zstdmt_opt, extra_zstdmt_dc_opt, extra_zstdmt_opt_onthefly & extra_zstdmt_dc_opt_onthefly.
    This will be easier for user to customize that using boot parameters.
    Now only available variables for zstd are:
    extra_zstd_opt, extra_zstd_dc_opt, extra_zstd_opt_onthefly & extra_zstd_dc_opt_onthefly.
    Thanks to trfl for asking.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/27e0b4559d/?limit=25#0d85/99ae

 -- Steven Shiau <steven@clonezilla.org>  Thu, 05 Sep 2024 20:09:12 +0800

clonezilla (5.6.16-drbl1) unstable; urgency=medium

  * Make 1st-disk skip mounted disk. Thanks to trfl.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/27e0b4559d/
  * Bug fixed: OOM issue about checksums of all files
    The feature to verify checksums of all files inside the restored
    filesystems may OOM because it produces a very large logfile in
    ramdisk. Fix: filter the log to only include failed files
    Thanks to trfl.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/27e0b4559d/
  * ocs-onthefly: -j2 and -e2 should not be on when running ocs-sr. It
    should be assigned by user.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/b3ce8cfeb0/

 -- Steven Shiau <steven@clonezilla.org>  Fri, 30 Aug 2024 23:06:07 +0800

clonezilla (5.6.15-drbl1) unstable; urgency=medium

  * live-build >= 1:20240810 does not generated
    /EFI/boot/bootia32.efi for amd64 distribution. Corresponding changes
    for create-gparted-live, ocs-iso & ocs-live-dev were done.
  * create-gparted-live: polkitd & pkexec have replaced policykit-1 in
    Debian Sid repo.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 23 Aug 2024 15:43:06 +0800

clonezilla (5.6.14-drbl1) unstable; urgency=medium

  *  Allow "%" in the autoname format of image name in TUI when saving an image.
     Thanks to Batiste DONDOGLIO for reporting this.
     Ref: https://sourceforge.net/p/clonezilla/discussion/Help/thread/1063f63aa9/

 -- Steven Shiau <steven@clonezilla.org>  Tue, 06 Aug 2024 20:25:54 +0800

clonezilla (5.6.13-drbl1) unstable; urgency=medium

  * Replace the command to clean super blocks of fakeraid.
    Use mdadm, no more using dmraid since dmraid is not maintained anymore.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 15 Jul 2024 17:18:56 +0800

clonezilla (5.6.12-drbl1) unstable; urgency=medium

  * A workaround to solve LUKS+CIFS+Encrypt issue.
    There is an issue for a combination of the source disk being LUKS,
    the image repo being SMB share, and choosing to encrypt the saved image.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/67c5389b20/

 -- Steven Shiau <steven@clonezilla.org>  Thu, 11 Jul 2024 16:10:05 +0800

clonezilla (5.6.11-drbl1) unstable; urgency=medium

  * ocs-resize-part: add option "-f" for fatresize in batch mode.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 09 Jul 2024 10:54:05 +0800

clonezilla (5.6.10-drbl1) unstable; urgency=medium

  * get-latest-ocs-live-ver: add "-V" for sort since we need to have version
    sorting.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 29 Jun 2024 16:09:54 +0800

clonezilla (5.6.9-drbl1) unstable; urgency=medium

  * Bug fixed: ocs-onthefly failing in local part cloning in command line mode, while
    interactive mode works.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/f2b2b8aa7c/

 -- Steven Shiau <steven@clonezilla.org>  Sun, 09 Jun 2024 12:08:02 +0800

clonezilla (5.6.8-drbl1) unstable; urgency=medium

  * gl-screenshot: image preview w/o assigning size

 -- Steven Shiau <steven@clonezilla.org>  Wed, 05 Jun 2024 10:10:18 +0800

clonezilla (5.6.7-drbl1) unstable; urgency=medium

  * Removed thin-provisioning-tools in the packages list for GParted live
    since it's not available in Debian repo anymore.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 05 Jun 2024 08:33:47 +0800

clonezilla (5.6.6-drbl1) unstable; urgency=medium

  * Force to use zenity as the dialog in GParted live's program gl-screenshot.
    No more using gdialog or Xdialog since they are not available in Debian
    repo.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 04 Jun 2024 20:36:12 +0800

clonezilla (5.6.5-drbl1) unstable; urgency=medium

  * Support zst kernel module and firmware name when exacting NIC firmware.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/3ef47e6fbe/

 -- Steven Shiau <steven@clonezilla.org>  Tue, 28 May 2024 22:35:03 +0800

clonezilla (5.6.4-drbl1) unstable; urgency=medium

  * Set a bigger scrollback for screen in live system.
    It's easier to debug.
  * Support oracular, drop lunar in create-ubuntu-live.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 12 May 2024 17:33:58 +0800

clonezilla (5.6.3-drbl1) unstable; urgency=medium

  * Add missing function USAGE in ocs-live-nicbonding.
  * Fixed: ocs_nic_type was not exported so that ocs-live-nicbonding failed
    to run in ocs-live-netcfg.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 11 May 2024 05:29:39 +0800

clonezilla (5.6.2-drbl1) unstable; urgency=medium

  * create-gparted-live: remove deborphan in packages list.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 18 Apr 2024 22:19:23 +0800

clonezilla (5.6.1-drbl1) unstable; urgency=medium

  * fix: only rotating file when it exists.
  * Prompt about spawned by server (DRBL or Clonezilla lite server) is updated.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 07 Apr 2024 20:21:12 +0800

clonezilla (5.5.33-drbl1) unstable; urgency=medium

  * New format messages sending to ocsmgrd. A comma (,) is
    used to separate the messages.
  * Rotate log files & receive new format messages from clients.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 07 Apr 2024 17:30:50 +0800

clonezilla (5.5.32-drbl1) unstable; urgency=medium

  * fix: not message was sent to ocsmgrd in BT mode.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 27 Mar 2024 22:47:49 +0800

clonezilla (5.5.31-drbl1) unstable; urgency=medium

  * ocs-functions: update disable_sudo_use_pty,
    negate it explicitly, not just comment it.
    This should avoid distortion of gpm with jfbterm.
    Thanks to ottokang for reporting this issue.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 16 Mar 2024 20:56:03 +0800

clonezilla (5.5.30-drbl1) unstable; urgency=medium

  * create-*live: add option -bt so that bootstrap program (debootstrap or
    mmdebstrap) can be assigned.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 13 Mar 2024 19:20:14 +0800

clonezilla (5.5.29-drbl1) unstable; urgency=medium

  * drbl-ocs.conf: add the variable mmdebstrap_ver_required

 -- Steven Shiau <steven@clonezilla.org>  Wed, 13 Mar 2024 11:46:03 +0800

clonezilla (5.5.28-drbl1) unstable; urgency=medium

  * create-ubuntu-live: include apt in debootstrap option
    so that mmdebstrap will work.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 13 Mar 2024 07:33:24 +0800

clonezilla (5.5.27-drbl1) unstable; urgency=medium

  * Do not remove orphan packages when creating live system
    since some are required.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 12 Mar 2024 22:20:24 +0800

clonezilla (5.5.26-drbl1) unstable; urgency=medium

  * Do not run disable_apt_lang_translation in create-*-live. It's not
    required and will hinder mmdebstrap.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 12 Mar 2024 18:32:16 +0800

clonezilla (5.5.25-drbl1) unstable; urgency=medium

  * Removed "ip=" from boot parameters.
    Thanks to Robert Spitzenpfeil for mentioning that.
    Ref: https://sourceforge.net/p/clonezilla/bugs/415/

 -- Steven Shiau <steven@clonezilla.org>  Sat, 02 Mar 2024 15:05:34 +0800

clonezilla (5.5.24-drbl1) unstable; urgency=medium

  * Applied Helmut Grohne's patch.
    Thanks to Georges Khaznadar, too.
    Ref: https://bugs.debian.org/1064450
  * Updated packaging files from Debian. Thanks to Georges Khaznadar.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 28 Feb 2024 15:17:33 +0800

clonezilla (5.5.23-drbl1) unstable; urgency=medium

  * Make get_latest_kernel_ver_in_repository work for Debian and Ubuntu
    kernel package naming, i.e., all of these should be OK:
    linux-image-6.5.0-5-amd64, linux-image-6.6.9-amd64, linux-image-6.5.0-9-generic.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 03 Jan 2024 20:22:41 +0800

clonezilla (5.5.22-drbl1) unstable; urgency=medium

  * Improved the function get_latest_kernel_ver_in_repository of
    ocs-functions to get the correct version number for new naming of Debian
    linux kernel package name, i.e., less "-" in new format, e.g.,
    linux-image-6.5.0-5-amd64 -> linux-image-6.6.9-amd64

 -- Steven Shiau <steven@clonezilla.org>  Wed, 03 Jan 2024 19:20:04 +0800

clonezilla (5.5.21-drbl1) unstable; urgency=medium

  * Update function get_latest_kernel_ver_in_repository of ocs-functions,
    exclude some unwanted kernel, e.g., -rt-amd64.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 03 Jan 2024 15:46:51 +0800

clonezilla (5.5.20-drbl1) unstable; urgency=medium

  * The netboot files will be modified at stopping when the client is
    using netboot.
  * Show Clonezilla live version in grub netboot in the lite client.
  * Show the massive deployment mode in the boot menu of netboot clients.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 18 Dec 2023 18:23:43 +0800

clonezilla (5.5.19-drbl1) unstable; urgency=medium

  * A better mechanism learned from newer Debian to load unifont in Debian.
    This should solve the issue blocked by grub security policy when loading
    fonts.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 14 Dec 2023 15:14:27 +0800

clonezilla (5.5.18-drbl2) unstable; urgency=medium

  * Removed dmraid from requirements. It does not exist in Debian Sid anymore. 
    Ref: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=864423

 -- Steven Shiau <steven@clonezilla.org>  Mon, 04 Dec 2023 20:56:59 +0800

clonezilla (5.5.18-drbl1) unstable; urgency=medium

  * ocs-ezio-leecher: Use Ezio simple output mode when the terminal is
    smaller than 80x24.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 04 Dec 2023 20:42:46 +0800

clonezilla (5.5.17-drbl1) unstable; urgency=medium

  * ocs-prep-cache: fixed testing wrong file name.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 25 Nov 2023 11:39:18 +0800

clonezilla (5.5.16-drbl1) unstable; urgency=medium

  * create-ubuntu-live: support Noble, retired Kinetic.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 07 Nov 2023 11:07:26 +0800

clonezilla (5.5.15-drbl1) unstable; urgency=medium

  * Support an extra dir "root" for the root fs with grub reinstallation.
    This is for the case that Fedora >= 38 uses an extra dir "root"
    for root file system, i.e., /root/ under the root partition. 
    Older system just puts the dirs (boot, usr, var, lib) in the / of root file system.
    Thanks to Bob Bobsled for reporting this issue.
    Ref: https://sourceforge.net/p/clonezilla/mailman/message/42287717/

 -- Steven Shiau <steven@clonezilla.org>  Thu, 02 Nov 2023 14:50:09 +0800

clonezilla (5.5.14-drbl1) unstable; urgency=medium

  * create-ubuntu-live: bug fixed. Append "(-|$)" after linux modules version.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 30 Oct 2023 20:08:11 +0800

clonezilla (5.5.13-drbl1) unstable; urgency=medium

  * create-ubuntu-live: bug fixed. Append "-" after linux modules version.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 30 Oct 2023 18:38:38 +0800

clonezilla (5.5.12-drbl1) unstable; urgency=medium

  * Separate the direct IO options for reading and writing NVMe SSD.
  * Add the option "-edio" to enable direct IO when using Partclone to save or
    restore NVMe SSD.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 05 Oct 2023 20:16:21 +0800

clonezilla (5.5.11-drbl1) unstable; urgency=medium

  * Only NVMe SSD will use --direct-io of Partclone.
    The --direct-io of Partclone for partition to partition cloning is
    implemented.
  * ocs-park-disks: only park HDD, not SSD.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 30 Sep 2023 13:47:47 +0800

clonezilla (5.5.10-drbl1) unstable; urgency=medium

  * Add the mechanism to use direct IO for partclone if the destination disk
    is NVMe/SSD.
  * ocs-resize-part: workaround to avoid fatresize bug.
    A workaround to avoid fatresize 1.1.0 bug. We do not extend it to the boundary.
    Just try to resize it smaller.
    Ref: https://github.com/ya-mouse/fatresize/issues/18

 -- Steven Shiau <steven@clonezilla.org>  Thu, 28 Sep 2023 15:45:50 +0800

clonezilla (5.5.9-drbl1) unstable; urgency=medium

  * Since grub commands "linux/initrd" works for uEFI boot,
    no matter it's secure boot or not. Just use them,
    not using linuxefi/initrdefi.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 18 Aug 2023 10:40:02 +0800

clonezilla (5.5.8-drbl1) unstable; urgency=medium

  * ocs-prep-cache: improved the device cache mechanism so that a whole disk
    with LV/LUKS will be used correctly.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 12 Aug 2023 11:17:03 +0800

clonezilla (5.5.7-drbl1) unstable; urgency=medium

  * Log more info about local LV cloning.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 07 Aug 2023 12:21:44 +0800

clonezilla (5.5.6-drbl1) unstable; urgency=medium

  * Bug fixed: cloning paritition loop for multiple LVs. 
    Thanks for all the bug reporters.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/f6a7e860c9

 -- Steven Shiau <steven@clonezilla.org>  Sun, 06 Aug 2023 10:59:17 +0800

clonezilla (5.5.5-drbl1) unstable; urgency=medium

  * Improved the mechanism for the reserved word name "all" when in the
    restoredisk/restoreparts mode. The reserved name "unmounted_disk" and
    "unmounted_parts" for restoredisk and restoreparts modes were added,
    respectively.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 01 Aug 2023 17:10:27 +0800

clonezilla (5.5.4-drbl1) unstable; urgency=medium

  * Separate the stdout and stderr of ezio to different log files in
    ocs-ezio-seeder and ocs-ezio-leecher.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 29 Jul 2023 17:33:16 +0800

clonezilla (5.5.3-drbl1) unstable; urgency=medium

  * Better mechanism to kill ocs related services when stopping drbl-ocs or
    ocs-live-feed-img.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 28 Jul 2023 10:03:46 +0800

clonezilla (5.5.2-drbl1) unstable; urgency=medium

  * stop_ocs_service: only kill the process older than 30 secs.
  * gparted-live-hook: use root:root in chown, not root.root.
  * ocs-ezio-seeder: wait for 2 secs instead of 0.5 secs
    after starting ezio process.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 27 Jul 2023 20:24:58 +0800

clonezilla (5.5.1-drbl1) unstable; urgency=medium

  * Add the mechanism for multicast deployment from raw devices.
    Note:
    The options -bdt and -bsdf of ocs-live-feed-img are deprecated. They
    are replaced by -cdt and -csdf, it means cast (including bittorrent
    and multicast), not only for bittorrent only.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 21 Jul 2023 16:30:18 +0800

clonezilla (5.4.12-drbl1) unstable; urgency=medium

  * Improved the start/stop mechanism of ezio process.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 13 Jul 2023 16:18:46 +0800

clonezilla (5.4.11-drbl1) unstable; urgency=medium

  * ocs-live-feed-img: implement options -ssnf & -iui.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/416d0fe630/
  * Allow bt_restoredisk mode to restore image to different device name.
    However, ezio has to be improved so that the display device name can be
    from save_path, not torrent name.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/09d819bcbf/?limit=25#e267/46b4
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/70b7ca6263/?limit=25#2d08

 -- Steven Shiau <steven@clonezilla.org>  Thu, 06 Jul 2023 09:43:33 +0800

clonezilla (5.4.10-drbl1) unstable; urgency=medium

  * ocs-functions: add function get_disk_id_path and show disk ID path in
    the disk info.
  * ocs-scan-disk: show disk ID path in the disk info.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 28 Jun 2023 20:30:48 +0800

clonezilla (5.4.9-drbl1) unstable; urgency=medium

  * S03prep-drbl-clonezilla: parse ocs_screen_blank.
    When ocs_screen_blank="no" is assigned in the boot parameters,
    screen_not_blank won't run.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 08 Jun 2023 20:29:43 +0800

clonezilla (5.4.8-drbl1) unstable; urgency=medium

  * ocs-live-boot-menu: Add comment "memtest86+ia32.bin -> mt86+x32.mbr".

 -- Steven Shiau <steven@clonezilla.org>  Thu, 18 May 2023 19:49:44 +0800

clonezilla (5.4.7-drbl1) unstable; urgency=medium

  * Allow choosing NIC in lite server mode when multiple network cards exist.
    Thanks to Date Huang and Nate Carr for asking this.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Open_discussion/thread/6fedbfd6c3

 -- Steven Shiau <steven@clonezilla.org>  Sun, 07 May 2023 09:44:51 +0800

clonezilla (5.4.6-drbl1) unstable; urgency=medium

  * create-ubuntu-live: add v86d in runtime when creating.
    Since Ubuntu >= 23.04 removed v86d, we will add v86d in runtime.
    This is not done in Debian-based as v86d is still in Debian repository.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 13 Apr 2023 06:05:57 +0800

clonezilla (5.4.5-drbl1) unstable; urgency=medium

  * ocs-cvtimg-comp:
    Suppress the syntax error about size when dd image is converted.
    Rename the existing destination image name if it exists.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Help/thread/e182121ea0

 -- Steven Shiau <steven@clonezilla.org>  Tue, 28 Mar 2023 13:50:31 +0800

clonezilla (5.4.4-drbl1) unstable; urgency=medium

  * If block dev has a file system found in the image when restoring,
    treat it as a partition.
  * ocs-onthefly: disable devices list cache mechanism if /dev/md* exists.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 19 Mar 2023 19:51:57 +0800

clonezilla (5.4.3-drbl1) unstable; urgency=medium

  * ocs-sr: if /dev/md* exists, list both disk and parts in TUI, and disable
    devices list cache mechanism.
  * Bug fixed: devices list cache failed to disabled.
    If use_dev_list_cache is set as no, then check_if_use_disklist_cache and
    check_if_use_partlist_cache in ocs-functions should not create any cache
    info.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 18 Mar 2023 15:33:51 +0800

clonezilla (5.4.2-drbl1) unstable; urgency=medium

  * Functions check_if_disk_busy and is_partition of ocs-functions were improved.
    Fake/firmware RAID support should be improved.
    Thanks to Michael McGrath.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Open_discussion/thread/8627eabf99/?limit=25&page=1#9b16/b174

 -- Steven Shiau <steven@clonezilla.org>  Thu, 16 Mar 2023 13:17:01 +0800

clonezilla (5.4.1-drbl1) unstable; urgency=medium

  * Add option "-K" (--ignoreactivationskip) to vgchange so that snapshots
    can be dealed with. Thanks to Felipe Piero Benjamin Solari Agela
    (fsolari _at_ pucp.edu.pe) for suggesting this.
  * Removed the stale workaround for Ubuntu DNS.
    Do not link /etc/resolv.conf to ../run/systemd/resolve/stub-resolv.conf.
    Ref:
    https://sourceforge.net/p/clonezilla/bugs/404/
    https://github.com/stevenshiau/clonezilla/issues/87
  * Set allow_disk_with_fs as yes in the function check_input_partition of
    ocs-functions.
    This makes ocs-prep-cache to be the same behaviors as that in ocs-sr
    and ocs-onthelfy. The should make /dev/md127 to be shown in the TUI when
    restoring partitions.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Open_discussion/thread/8627eabf99/?limit=25&page=1#9b16/b174

 -- Steven Shiau <steven@clonezilla.org>  Tue, 14 Mar 2023 22:45:58 +0800

clonezilla (5.4.0-drbl1) unstable; urgency=medium

  * Update programs to work with ezio v2.0. 
  * Remove extra "stop" in parameters when stopping lighttpd.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 21 Feb 2023 15:21:10 +0800

clonezilla (5.3.17-drbl1) unstable; urgency=medium

  * Bugs fixed: 
    (1) Failed to dump raw data if dd mode is forced when saving.
    (2) Duplicated codes about restoring swap image were removed.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 27 Jan 2023 16:53:51 +0800

clonezilla (5.3.16-drbl1) unstable; urgency=medium

  * Add function to_ocs_dev_img_name to better deal with device-related
    image name. The LUKS device, classic device, and LVM device names
    can be process better now.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 26 Jan 2023 21:42:04 +0800

clonezilla (5.3.15-drbl1) unstable; urgency=medium

  * The swap partition is shown in the saveparts dialog menu.
  * Swap partition can be saved in two modes: only keep UUID/label or
    dumped by dd. A better mechanism is implemented to deal with these two
    scenarios.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 25 Jan 2023 21:31:52 +0800

clonezilla (5.3.14-drbl1) unstable; urgency=medium

  * Put Clonezilla live version and related packages info in clonezilla.log
    when ocs-sr or ocs-onthelfy is run.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 24 Jan 2023 19:37:35 +0800

clonezilla (5.3.13-drbl1) unstable; urgency=medium

  * Instead of bailing out in error when failing to open LUKS device,
    an option was provided to use dd mode to save LUKS device.
    Thanks to Swmi Petaramesh for suggesting that.
    Ref: https://sourceforge.net/p/clonezilla/bugs/402/

 -- Steven Shiau <steven@clonezilla.org>  Tue, 24 Jan 2023 18:44:24 +0800

clonezilla (5.3.12-drbl2) unstable; urgency=medium

  * Bug fixed: option -fsck-y failed to run.
    Thanks to Dupuis for reporting this.
    Ref: https://sourceforge.net/p/clonezilla/bugs/401/

 -- Steven Shiau <steven@clonezilla.org>  Mon, 23 Jan 2023 21:35:02 +0800

clonezilla (5.3.11-drbl1) unstable; urgency=medium

  * Exclude kdump and rescue initrams when seeking cryttab.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 23 Jan 2023 20:22:46 +0800

clonezilla (5.3.10-drbl1) unstable; urgency=medium

  * ocs-chkimg: check the LUKS swap device info instead of dd image.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 23 Jan 2023 14:44:04 +0800

clonezilla (5.3.9-drbl1) unstable; urgency=medium

  * LUKS swap device should keep UUID and label only, not using dd mode.
    Thanks to Swmi Petaramesh for reporting this.
    Ref: https://sourceforge.net/p/clonezilla/bugs/400/

 -- Steven Shiau <steven@clonezilla.org>  Mon, 23 Jan 2023 09:57:47 +0800

clonezilla (5.3.8-drbl1) unstable; urgency=medium

  * Improve get_luks_mapped_dev_name_from_os of ocs-functions. Support more
    device format in crypttab.
  * ocs-get-dev-info: support querying label

 -- Steven Shiau <steven@clonezilla.org>  Wed, 18 Jan 2023 11:22:46 +0800

clonezilla (5.3.7-drbl1) unstable; urgency=medium

  * Try to get the Clonezilla live version no. in /live/ first.
    Thanks to Swmi Petaramesh.
  * Bug fixe: The LUKS devices in crypttab of initramfs can be more than 1.
    Thanks to Swmi Petaramesh.
    Ref: https://sourceforge.net/p/clonezilla/bugs/397/

 -- Steven Shiau <steven@clonezilla.org>  Thu, 12 Jan 2023 08:43:56 +0800

clonezilla (5.3.6-drbl1) unstable; urgency=medium

  * Support mkinitcpio in updating initramfs mechanism.
    This is for restoring Arch/Manjaro Linux.
  * Add linking LUKS image file, not copying it.
    Thanks to Stephen Hawes for reporting this issue.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/8757c20ada/

 -- Steven Shiau <steven@clonezilla.org>  Mon, 09 Jan 2023 22:53:25 +0800

clonezilla (5.3.5-drbl1) unstable; urgency=medium

  * Add program ocs-live-ver to show clonezilla live version. 

 -- Steven Shiau <steven@clonezilla.org>  Sun, 08 Jan 2023 22:39:18 +0800

clonezilla (5.3.4-drbl1) unstable; urgency=medium

  * Improved LUKS mechanism to support multiple LUKS devices.
    Thanks to Swmi Petaramesh for reporting this issue.
    Ref: https://sourceforge.net/p/clonezilla/bugs/397/

 -- Steven Shiau <steven@clonezilla.org>  Sun, 08 Jan 2023 11:51:47 +0800

clonezilla (5.3.3-drbl1) unstable; urgency=medium

  * By default the opentracker service is disabled in Clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 30 Dec 2022 10:27:52 +0800

clonezilla (5.3.2-drbl1) unstable; urgency=medium

  * Replace ocs-bttrack with opentracker since python2 is not available in
    Debian Sid anymore.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 30 Dec 2022 08:57:23 +0800

clonezilla (5.3.1-drbl1) unstable; urgency=medium

  * ocs-live-boot-menu: wrong path to test file if mt86+x64.efi exists or
    not.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 27 Nov 2022 19:35:06 +0800

clonezilla (5.3.0-drbl1) unstable; urgency=medium

  * Support memtest86+ v6 naming & mechanism.
    Memtest86+ v6.00 now supports legacy BIOS and uEFI booting.
    Both x86 and x86-64 are supported, too. In DRBL/Clonezilla
    we use shorter file name so that it works in FAT file system:
    memtest86+.bin -> mt86+x32.mbr
    memtest86+x32.bin -> mt86+x32.mbr
    memtest86+x32.efi -> mt86+x32.efi
    memtest86+x64.bin -> mt86+x64.mbr
    memtest86+x64.efi -> mt86+x64.efi

 -- Steven Shiau <steven@clonezilla.org>  Sat, 26 Nov 2022 14:27:55 +0800

clonezilla (5.2.7-drbl1) unstable; urgency=medium

  * Use OWNER:GROUP, not OWNER.GROUP in chown command

 -- Steven Shiau <steven@clonezilla.org>  Fri, 28 Oct 2022 18:15:06 +0800

clonezilla (5.2.6-drbl1) unstable; urgency=medium

  * Add device to partclone log file name and rotate it,
    not overwrite it.
  * Move "set timeout" to the head of grub.cfg.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 13 Oct 2022 16:03:39 +0800

clonezilla (5.2.5-drbl1) unstable; urgency=medium

  * Add options -k0/-k1 in the beginner mode of ocs-onthefly.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 27 Sep 2022 20:34:17 +0800

clonezilla (5.2.4-drbl1) unstable; urgency=medium

  * Replace "\/" as "/" in grep pattern to avoid grep >= 3.8
    showing warnings.
  * The command egrep was replaced by "grep -E", and fgrep was replaced by
    "grep -F" to avoid grep >= 3.8 showing warnings.
  * Add authentication example for grub config file.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 12 Sep 2022 20:13:09 +0800

clonezilla (5.2.3-drbl1) unstable; urgency=medium

  * Disable glances service in live system.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 24 Aug 2022 14:26:04 +0800

clonezilla (5.2.2-drbl1) unstable; urgency=medium

  * /etc/default/espeakup has changed its variable, so modify default_voice
    instead of VOICE.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 09 Jul 2022 22:34:46 +0800

clonezilla (5.2.1-drbl1) unstable; urgency=medium

  * Disable ufw service when making live system.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 05 Jul 2022 14:30:08 +0800

clonezilla (5.1.12-drbl1) unstable; urgency=medium

  * Do not let sudo to spawn pseudo-terminal when running a job. Otherwise
    ocs-live-run-menu will be run twice, and it will make the console weird.
    Ref: https://groups.google.com/g/ocs-clonezilla/c/tB93Vjz9CVw
    Thanks to ottokang for reporting this bug.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 12 Jun 2022 16:51:08 +0800

clonezilla (5.1.11-drbl1) unstable; urgency=medium

  * Add image size info file (Info-img-size.txt) in the image dir.
  * Replace buggy /usr/share/terminfo/j/jfbterm from ncurses-term.
    Thanks to ottokang for reporting this bug.
  * Add more options in boot parameters to be parsed, including:
    extra_pbzip2_opt, extra_lbzip2_opt, extra_plzip_opt, extra_lz4mt_opt,
    and extra_xz_opt.
    Thanks to ottokang for this request.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 12 Jun 2022 12:46:45 +0800

clonezilla (5.1.10-drbl1) unstable; urgency=medium

  * Add extra_pigz_opt extra_zstdmt_opt to be parsed in boot parameters.
    This will be easier for user to customized.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 06 Jun 2022 10:34:08 +0800

clonezilla (5.1.9-drbl1) unstable; urgency=medium

  * The option --rsyncable of zstd causes bad performance.
    It can be 5 times slower
    for v1.4.x, and worse for v1.5.2.
    Hence by default we do not use it.
    Ref: https://github.com/facebook/zstd/issues/3150

 -- Steven Shiau <steven@clonezilla.org>  Sat, 04 Jun 2022 15:01:51 +0800

clonezilla (5.1.8-drbl1) unstable; urgency=medium

  * ocs-live-swap-kernel: update-intitramfs needs /boot/config-$ver, so add
    it before running it.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 31 May 2022 18:59:11 +0800

clonezilla (5.1.7-drbl1) unstable; urgency=medium

  * ask_nic_dev of ocs-functions: more flexible method to get NIC names.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/6026cbd187/

 -- Steven Shiau <steven@clonezilla.org>  Thu, 26 May 2022 21:50:14 +0800

clonezilla (5.1.6-drbl1) unstable; urgency=medium

  * Update ocs-memtester, make RAM size more readable
  * ocs-live-feed-img: corresponding changes due to the modification in
    set_drbl_ocs_extra_param.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 26 May 2022 08:38:27 +0800

clonezilla (5.1.5-drbl1) unstable; urgency=medium

  * create-ubuntu-live: update distribution name/arch.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 22 May 2022 16:36:37 +0800

clonezilla (5.1.4-drbl1) unstable; urgency=medium

  * Bug fixed: recovery iso/zip failed due to output file is not assigned
    in create_clonezilla_live_recovery_iso_zip of ocs-sr.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 22 May 2022 16:18:36 +0800

clonezilla (5.1.3-drbl1) unstable; urgency=medium

  * create-ubuntu-live: drop support for hirsute, add support kinetic

 -- Steven Shiau <steven@clonezilla.org>  Thu, 12 May 2022 11:30:12 +0800

clonezilla (5.1.2-drbl1) unstable; urgency=medium

  * ocs-sr: add an option "-luks" so that opening LUKS or not
    can be assigned in the command line prompt.
  * ocs-onthefly: force to use "-luks no" so that LUKS device
    can be cloned.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 10 May 2022 10:35:54 +0800

clonezilla (5.1.1-drbl1) unstable; urgency=medium

  * Add a prompt to decide if opening LUKS dev or not.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 02 May 2022 10:46:40 +0800

clonezilla (5.1.0-drbl1) unstable; urgency=medium

  * New feature: initial APFS support.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 28 Apr 2022 05:45:25 +0800

clonezilla (5.0.12-drbl1) unstable; urgency=medium

  * ocs-iso/ocs-live-dev: check_if_in_netboot_env should be in the live env
    after booting, not in the mode that downloaded live media exists.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 19 Apr 2022 18:56:49 +0800

clonezilla (5.0.11-drbl1) unstable; urgency=medium

  * Show the prompt that ocs-iso/ocs-live-dev can not be run in
    netboot env.
    Thanks to Constantino Michailidis.
    Ref: https://sourceforge.net/p/clonezilla/patches/19/

 -- Steven Shiau <steven@clonezilla.org>  Tue, 19 Apr 2022 17:16:48 +0800

clonezilla (5.0.10-drbl1) unstable; urgency=medium

  * Option "-k0" was added to drbl-ocs and ocs-live-feed-img, too.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 17 Apr 2022 21:49:39 +0800

clonezilla (5.0.9-drbl1) unstable; urgency=medium

  * ocs-expand-*-pt: Improved the mechanism about creating proportional
    partition table. Especially that GPT in the last partition should not
    be expanded.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 13 Apr 2022 11:37:32 +0800

clonezilla (5.0.8-drbl1) unstable; urgency=medium

  * update-efi-nvram-boot-entry: when there is no reference
    label/uuid/boot_file in NVRAM, try to guess one based on
    the dir in /efi/ dir for uEFI boot entry.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 11 Apr 2022 14:01:36 +0800

clonezilla (5.0.7-drbl1) unstable; urgency=medium

  * ocs-resize-part: Give warning, not failure for Unknown or
  * Implemented a better to check GPT/MBR format of a disk.
    This is a workaround to deal with ChromeOS Flex partition table.
    Ref:
    https://lists.gnu.org/archive/html/bug-parted/2022-04/msg00001.html
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/688ce74fb1

 -- Steven Shiau <steven@clonezilla.org>  Sat, 09 Apr 2022 22:06:37 +0800

clonezilla (5.0.6-drbl1) unstable; urgency=medium

  * To make it consistent, put "-k0" even it's in beginner mode in the
    dialog menu of ocs-onthefly.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 29 Mar 2022 21:58:36 +0800

clonezilla (5.0.5-drbl1) unstable; urgency=medium

  * Add the dummy option "-k0" for creating partition in ocs-sr and
    ocs-onthefly. It's the same as default action. Just easier for
    us to explain.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 27 Mar 2022 12:55:43 +0800

clonezilla (5.0.4-drbl1) unstable; urgency=medium

  * Improved functions related to turn_off_swap_and_LVM2, including
    turn_off_swap, turn_off_swap_and_LVM2 itself, and check_if_disk_busy.
    Basically make turn_off_swap_and_LVM2 accept the device about be off.
    The goal in the future is to only inactive the destination device (swap,
    LV) before saving or restoring. Not disable all in the beginning of
    ocs-sr or ocs-onthefly.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 12 Mar 2022 15:10:15 +0800

clonezilla (5.0.3-drbl1) unstable; urgency=medium

  * Add the program ocs-memtester, which can be used to run
    memtester easier.
  * ocs-live-boot-menu: add memtester in the uEFI bootmenu.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 20 Feb 2022 21:44:33 +0800

clonezilla (5.0.2-drbl1) unstable; urgency=medium

  * Bug fixed: ocs-onthefly via net failed, this was due
    to the options -a/-f should not be passed to ocs-sr.
    Thanks to m2acgi for reporting this issue and providing the patch.
    Ref:
    https://github.com/stevenshiau/clonezilla/issues/68#issuecomment-1042540967

 -- Steven Shiau <steven@clonezilla.org>  Sat, 19 Feb 2022 09:25:17 +0800

clonezilla (5.0.1-drbl1) unstable; urgency=medium

  * Avoid running efibootmgr with empty label in update-efi-nvram-boot-entry.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 04 Feb 2022 20:14:21 +0800

clonezilla (5.0.0-drbl1) unstable; urgency=medium

  * Add LUKS support. Basically a better mechanism than using dd is
    implemented.
  * Renamed cnvt-ocs-dev as ocs-cvt-dev, and prep-ocsroot as ocs-prep-repo.
  * Corresponding changes were done for related files.
  * No more using dislocker-find to identify BitLocker since newer blkid can identify it.
    Use a neater way to run blkid to get the file system of a partition.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 03 Feb 2022 21:43:05 +0800

clonezilla (4.6.15-drbl1) unstable; urgency=medium

  * The variable use_os_prober should skip linux-boot-prober, too.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 18 Jan 2022 17:12:48 +0800

clonezilla (4.6.14-drbl1) unstable; urgency=medium

  * Bug fixed: pixz has no option to stdout with "-d".
    Therefore program pixz was replaced by xz since
    using "-T 0" works the same.
    Thanks to nurupo for reporting this issue.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 18 Jan 2022 11:57:17 +0800

clonezilla (4.6.13-drbl1) unstable; urgency=medium

  * The netboot client for interactive mode will inherit the
    locale from lite server.
  * Boot parameter use_os_prober="no" now skips running os-prober.
    Thanks to Bernard Michaud for this idea.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/b96b4eee21/?limit=25#d97b

 -- Steven Shiau <steven@clonezilla.org>  Mon, 17 Jan 2022 22:24:21 +0800

clonezilla (4.6.12-drbl1) unstable; urgency=medium

  * Add a mechanism to skip using devices list cache. If the boot parameter
    use_dev_list_cache=no in the boot parameter, then the devices list cache
    mechanism won't be used.
  * Add support Greek locales. Thanks to Stamatis Mavrogiorgis for providing
    the language file.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 09 Jan 2022 12:00:58 +0800

clonezilla (4.6.11-drbl1) unstable; urgency=medium

  * Rename /tmp/split_error.* as /tmp/img_out_err.*.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 03 Jan 2022 07:34:58 +0800

clonezilla (4.6.10-drbl1) unstable; urgency=medium

  * Bug fixed: ignore the 1st 2 columns in /proc/partitions when
    comparing it for the cache files in the function
    check_if_use_disklist_cache of ocs-functions.
  *  ocs-get-dev-info: better way to run dislocker-find so that when it
    failed to load some lib, it won't show the device's fs is bitlocker.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 21 Dec 2021 19:44:26 +0800

clonezilla (4.6.9-drbl1) unstable; urgency=medium

  * Due to sudo >= 1.9.8p2-1 will new a pts (e.g., /dev/pts/0) instead of
    keeping the tty from SUDO_USER. Hence a new environmental variable
    SUDO_TTY from sudo will be used to make clonezilla main menu only starts
    in tty1. Make both CURRENT_TTY and SUDO_TTY mechanism work.
    The environmental variable SUDO_TTY is passed to ocs-lang-kbd-conf &
    ocs-live-run-menu by:
    sudo -i SUDO_TTY="$(tty)" ocs-lang-kbd-conf
    sudo -i SUDO_TTY="$(tty)" ocs-live-run-menu

 -- Steven Shiau <steven@clonezilla.org>  Mon, 20 Dec 2021 10:59:15 +0800

clonezilla (4.6.8-drbl1) unstable; urgency=medium

  * update-efi-nvram-boot-entry: bug fixed for 2 or more ESPs on the same
    machine, unmount should be done within for loop.
  * ocs-prep-cache: ignore the 1st 2 columns in /proc/partitions when
    comparing it for the cache files, since partprobe might change the major
    and minor numbers in /proc/partitions, while the blocks and device names
    (3rd & 4th columns) will remain the same after partprobe is run.
  * ocs-chkimg: treat not link & not split image as a special case. Read it
    directly. Do not use cat to get best performance.
  * When restoring, not link & not split image as a special case. Read it
    directly. Do not use cat to get best performance.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 19 Dec 2021 18:55:11 +0800

clonezilla (4.6.7-drbl1) unstable; urgency=medium

  * ocs-chkimg: output more messages to log files.
  * Bug fixed: variables in for loop should be escaped when outputting to
    log file.
  * Reverted the split_flag mechanism when restoring which as implemented
    in 4.6.6. This is because that some uncompression program can not deal
    with (follow) symbolic files. E.g., "pixz -d" has no option to process
    a symbolic file. This is crucial when we want to restore the image
    saved from different source device. The program create-ocs-tmp-img
    uses symbolic files for that.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 14 Dec 2021 08:58:19 +0800

clonezilla (4.6.6-drbl1) unstable; urgency=medium

  * Unicast retoring by partclone was improved. If the image file is not
    split, no need to use cat. Just read it from the uncompressing program.
    This makes the performance better.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 12 Dec 2021 17:54:53 +0800

clonezilla (4.6.5-drbl1) unstable; urgency=medium

  * Do not modify /etc/drbl/drbl-ocs.conf if the image repo is FAT. Just 
    set the environmental variable VOL_LIMIT_IN_INTERACTIVE to 4096 once.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 06 Dec 2021 11:51:47 +0800

clonezilla (4.6.4-drbl1) unstable; urgency=medium

  * By default do not split the image file of a partition, i.e., use "-i 0"
    when saving an image by ocs-sr.
    If the image repo is FAT, VOL_LIMIT_IN_INTERACTIVE will
    be set as 4096 when running ocs-sr in saving mode.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 05 Dec 2021 19:32:56 +0800

clonezilla (4.6.3-drbl1) unstable; urgency=medium

  * ocs-btsrv: ezio uses --cache only as it's available. 
    This is compatible when older version of ezio is used.
  * Support dracut from CentOS 6 which exists in different path and no
    option"--tmpdir" for the restored CentOS 6.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 29 Nov 2021 16:40:18 +0800

clonezilla (4.6.2-drbl1) unstable; urgency=medium

  * create-ubuntu-live: removed support for groovy, add jammy.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 27 Nov 2021 12:38:42 +0800

clonezilla (4.6.1-drbl1) unstable; urgency=medium

  * ocs-btsrv: no more assigning RAM size when running ezio.
    Use the default value from libtorrent since ezio >= 1.2.1
    has removed the option --cache.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 27 Nov 2021 12:15:17 +0800

clonezilla (4.5.16-drbl1) unstable; urgency=medium

  * ocs-live-netcfg: add exit in the menu when choosing wired or wireless
    NIC type.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 27 Oct 2021 20:04:09 +0800

clonezilla (4.5.15-drbl1) unstable; urgency=medium

  * ocs-live-netcfg: rewrite so it's easier to read.
    Changes:
    Boot parameter ocs_use_wifi was changed to ocs_nic_type.
    ocs-live-netcfg: no more option -r and -w.
    Merge them as option -w|--nic-type TYPE. TYPE can be "wired" or "wireless".

 -- Steven Shiau <steven@clonezilla.org>  Tue, 26 Oct 2021 15:00:21 +0800

clonezilla (4.5.14-drbl1) unstable; urgency=medium

  * ocs-live-netcfg: add support for wifi device.
  * S03prep-drbl-clonezilla: Add boot parameter ocs_use_wifi. It can be
    assigned as "yes" or "no" (default).

 -- Steven Shiau <steven@clonezilla.org>  Mon, 25 Oct 2021 16:34:16 +0800

clonezilla (4.5.13-drbl1) unstable; urgency=medium

  * update-efi-nvram-boot-entry: avoid duplicated boot entries.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 18 Oct 2021 22:04:37 +0800

clonezilla (4.5.12-drbl1) unstable; urgency=medium

  * update-efi-nvram-boot-entry: improved to refer to saved nvram data
    (efi-nvram.dat). In addition, multiple boot entries can be processed,
    too.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/9ffa31f838

 -- Steven Shiau <steven@clonezilla.org>  Sun, 17 Oct 2021 20:36:18 +0800

clonezilla (4.5.11-drbl1) unstable; urgency=medium

  * Bug fixed. The get_disk_list from ocs-functions: 
    need to check if is_partition. Otherwise if sda, e.g.,
    has a file system, it will be listed in both disks and partitions.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 08 Oct 2021 07:54:53 +0800

clonezilla (4.5.10-drbl1) unstable; urgency=medium

  * Function get_not_busy_disks_or_parts: a bug was fixed, which
    failed to process dev with /dev/mapper, e.g., /dev/mapper/ventoy.
    Thanks to yellowsoar for reporting this issue.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/b5d15a6edf

 -- Steven Shiau <steven@clonezilla.org>  Thu, 07 Oct 2021 19:11:10 +0800

clonezilla (4.5.9-drbl1) unstable; urgency=medium

  * Avoid duplication in cache file dev_fs_size_type.cache
    by ocs-prep-cache.
    E.g., /dev/sdb is a block device with fs.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 06 Oct 2021 22:27:33 +0800

clonezilla (4.5.8-drbl1) unstable; urgency=medium

  * Optimize get_not_busy_disks_or_parts so that ocs-scan-disk runs
    faster 1st time.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 06 Oct 2021 09:37:42 +0800

clonezilla (4.5.7-drbl1) unstable; urgency=medium

  * Replace "which" with "command -v" in the script because "which"
    command is deprecated.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 03 Oct 2021 14:01:43 +0800

clonezilla (4.5.6-drbl1) unstable; urgency=medium

  * Bug fixed: missing disk-related processing in get_not_busy_disks_or_parts.
    Those linux_raid_member and assigned excluding devices about disks were
    not processed.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 02 Oct 2021 14:24:44 +0800

clonezilla (4.5.5-drbl1) unstable; urgency=medium

  * S03prep-gparted-live: Skip starting gparted if no-gparted-start
    is assigned in the boot parameters.
    Ref: http://gparted-forum.surf4.info/viewtopic.php?pid=35995

 -- Steven Shiau <steven@clonezilla.org>  Sat, 25 Sep 2021 15:20:37 +0800

clonezilla (4.5.4-drbl1) unstable; urgency=medium

  * Improve the cache mechanism to speed up the device scan and file
    system/size/type.
    This makes get_not_busy_disks_or_parts and other functions about
    scanning the device's file system/size/type faster.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 23 Sep 2021 15:05:43 +0800

clonezilla (4.5.3-drbl1) unstable; urgency=medium

  * Add a cache mechanism to speed up the device scan.
    This makes get_not_busy_disks_or_parts run faster.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 15 Sep 2021 09:34:45 +0800

clonezilla (4.5.2-drbl1) unstable; urgency=medium

  * Improve the progress messages when searching disk or partition.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 10 Sep 2021 15:33:53 +0800

clonezilla (4.5.1-drbl1) unstable; urgency=medium

  * Bug fixed: not searching live-media-path from boot parameters.
    Thanks to JDFandango for reporting this issue.
    Ref: https://github.com/stevenshiau/clonezilla/issues/59

 -- Steven Shiau <steven@clonezilla.org>  Sat, 04 Sep 2021 13:47:34 +0800

clonezilla (4.5.0-drbl1) unstable; urgency=medium

  * Change version number since some major changes were done.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 29 Aug 2021 10:26:42 +0800

clonezilla (4.4.13-drbl1) unstable; urgency=medium

  * Allow reserved image names to be used in TUI.
    The description about reserved image names is shown in TUI.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 28 Aug 2021 12:07:58 +0800

clonezilla (4.4.12-drbl1) unstable; urgency=medium

  * Improved is_partition from ocs-functions to judge /dev/md*
    is disk or partition when restoring an image.
  * Suppress the stderr when running ocs-get-dev-info.
  * Improved cnvt-ocs-dev to convert md device and files blkdev.list & blkid.list.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 17 Aug 2021 11:41:45 +0800

clonezilla (4.4.11-drbl1) unstable; urgency=medium

  * prep-ocsroot: pass ocs_sr_type to is_partition so that it can judge for
    disk/partition of /dev/md*
    Suppress stderr when running ocs-get-dev-info in is_block_device_with_fs.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 09 Aug 2021 20:40:39 +0800

clonezilla (4.4.10-drbl1) unstable; urgency=medium

  * is_partition of ocs-functions: /dev/md is not partition if md?p? exists.
    E.g., /dev/md126, but there is /dev/md126p1, then /dev/md126 is not a partition.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Open_discussion/thread/8627eabf99

 -- Steven Shiau <steven@clonezilla.org>  Sun, 08 Aug 2021 22:01:27 +0800

clonezilla (4.4.9-drbl1) unstable; urgency=medium

  * ocs-restore-mdisks: support wildcard for device name.
    E.g.,
    ocs-restore-mdisks -b -a choose -p "-g auto -e1 auto -e2 -r -j2 -c -scr
    -p true" focal-mbr-20210531 sd*

 -- Steven Shiau <steven@clonezilla.org>  Tue, 27 Jul 2021 20:08:15 +0800

clonezilla (4.4.8-drbl1) unstable; urgency=medium

  * update-efi-nvram-boot-entry: should test if shimx64.efi exists before
    grubx64.efi.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/0fcee8469a/
  * ocs-restore-mdisks: countdown 15 secs, not 7 secs,
    before going on for the device name is assigned as "all"
  * create-gparted-live: include gvfs to address the issue that yelp does
    not open GParted help manual.
    Ref: https://sourceforge.net/p/gparted/mailman/message/37321623/

 -- Steven Shiau <steven@clonezilla.org>  Sat, 17 Jul 2021 20:42:01 +0800

clonezilla (4.4.7-drbl1) unstable; urgency=medium

  * ocs-restore-mdisks: "all" can be used as all non-busy local disks

 -- Steven Shiau <steven@clonezilla.org>  Tue, 13 Jul 2021 23:06:59 +0800

clonezilla (4.4.6-drbl1) unstable; urgency=medium

  * Update USAGE about the option -j2 for ocs-sr. 
    Add warning messages about skipping option "-j2" (clone_hidden_data)
    when it's in restoreparts.
    Ref: https://sourceforge.net/p/clonezilla/bugs/361/

 -- Steven Shiau <steven@clonezilla.org>  Mon, 05 Jul 2021 20:44:58 +0800

clonezilla (4.4.5-drbl1) unstable; urgency=medium

  * Bug fixed: ntfsclone without compression image was not detected
    correctly.
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/560dea1695

 -- Steven Shiau <steven@clonezilla.org>  Thu, 01 Jul 2021 14:08:49 +0800

clonezilla (4.4.4-drbl1) unstable; urgency=medium

  * Add short options -bm & -em for the beginner/expert modes in:
    drbl-ocs, ocs-live-feed-img, ocs-onthefly, ocs-restore-mdisks,
    and ocs-sr.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 26 Jun 2021 11:09:58 +0800

clonezilla (4.4.3-drbl1) unstable; urgency=medium

  * Support mounting bitlocker device as image repository.
    Thanks to fiddyschmitt for requesting this.
    Ref: https://github.com/stevenshiau/clonezilla/issues/58

 -- Steven Shiau <steven@clonezilla.org>  Mon, 21 Jun 2021 20:02:11 +0800

clonezilla (4.4.2-drbl1) unstable; urgency=medium

  * ocs-clean-part-fs is renamed as ocs-clean-disk-part-fs.
  * Add the mechanism to clean the RAID metadata in disk in
    ocs-clean-disk-part-fs.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 18 Jun 2021 21:53:16 +0800

clonezilla (4.4.1-drbl1) unstable; urgency=medium

  * Improve the mechanism to expand LVM when -k1 (hence -r) is enabled.
  * ocs-expand-lvm: add a new program to expand LVM.
  * ocs-resize-part: instead of checking device format, check if it exists.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 16 Jun 2021 11:01:16 +0800

clonezilla (4.3.29-drbl1) unstable; urgency=medium

  * Bug fixed: image checking should be before encrypted image is unmounted.
    Thanks to Brian Connolly for reporting this issue.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 09 Jun 2021 21:44:57 +0800

clonezilla (4.3.28-drbl1) unstable; urgency=medium

  * ocs-live-hook-functions: Update get_non_free_net_firmware_for_ubuntu
    to use new mechanism to get NIC firmware.
  * create-ubuntu-live: add support Ubuntu impish
  * ocs-get-nic-fw-lst: new added program for get nic-firmware.lst.
  * nic-firmware.lst: new added for putting nic firmware on Ubuntu-based
    Clonezilla live.
  * ocs-functions: variable rc_saveparts/rc_savepts.
    Improve test for variable rc_saveparts/rc_savedisk.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 25 May 2021 13:15:50 +0800

clonezilla (4.3.27-drbl1) unstable; urgency=medium

  * ocs-live-final-action: Move ocs-park-disks before "countdown 7".
  * Depends on smartmontools.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 13 May 2021 07:16:45 +0800

clonezilla (4.3.26-drbl1) unstable; urgency=medium

  * ocs-live-boot-menu: add big font using nomodeset. 

 -- Steven Shiau <steven@clonezilla.org>  Tue, 11 May 2021 15:27:00 +0800

clonezilla (4.3.25-drbl1) unstable; urgency=medium

  * Add "VGA with large font & To RAM" (using nomodeset) in the boot menu,
    and move "KMS with large font & To RAM" to submenu. 
    This can be an alternative solution for jfbterm not working in
    KMS mode for some VGA cards.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 11 May 2021 15:19:27 +0800

clonezilla (4.3.24-drbl1) unstable; urgency=medium

  * Add ocs-park-disks in do_ocs_live_run_final of ocs-live-final-action.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 09 May 2021 17:08:46 +0800

clonezilla (4.3.23-drbl1) unstable; urgency=medium

  * Add ocs-park-disks before rebooting/halting in Clonezilla live.
    Ref: https://sourceforge.net/p/clonezilla/bugs/364/
    Thanks DDD for this requesting.
  * ocs_*veracrypt-vh: add check if root.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 08 May 2021 15:50:58 +0800

clonezilla (4.3.22-drbl1) unstable; urgency=medium

  * Improve to process the volume header of Veracrypt.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/76c9794d/
    Add two files: ocs-save-veracrypt-vh & ocs-restore-veracrypt-vh

 -- Steven Shiau <steven@clonezilla.org>  Sun, 02 May 2021 21:20:33 +0800

clonezilla (4.3.21-drbl1) unstable; urgency=medium

  * Put --archive-areas in the same command with --distribution for
    create-*-live. This should work with live-build 202104 version, a
    workaround to avoid lb config --archive-areas "main non-free" failing
    in create-gparted-live.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 28 Apr 2021 14:36:14 +0800

clonezilla (4.3.20-drbl1) unstable; urgency=medium

  * Add "--force" for vgcfgrestore to force metadata restore
    even with thin pool LVs.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 21 Apr 2021 21:53:00 +0800

clonezilla (4.3.19-drbl1) unstable; urgency=medium

  * Add boot parameter echo_ocs_repository, so that when
    it's assigned as "no", the prompt about mounting image repository
    can be hidden.
    Thanks to ottokang for asking this.
  * Update singularity-debian-ocs.def: include ezio instead of ezio-static

 -- Steven Shiau <steven@clonezilla.org>  Tue, 13 Apr 2021 21:48:49 +0800

clonezilla (4.3.18-drbl1) unstable; urgency=medium

  * Set default prompt for boot menu of gparted/drbl live. Previous changes
    affected those 3 modes of boot menus.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 05 Apr 2021 11:28:17 +0800

clonezilla (4.3.17-drbl1) unstable; urgency=medium

  * Disable sleep and hibernate for live system.
    Ref: https://gitlab.gnome.org/GNOME/gparted/-/issues/149

 -- Steven Shiau <steven@clonezilla.org>  Sun, 04 Apr 2021 20:16:20 +0800

clonezilla (4.3.16-drbl1) unstable; urgency=medium

  * ocs-live-boot-menu: update "framebuffer To RAM" menu prompt as
    "VGA 800x600 & To RAM"
  * Manually applied the patches for timeout and exit code for ocs-iso and
    ocs-live-dev.
    Ref:
    https://gitlab.com/stevenshiau/clonezilla/-/merge_requests/44
    https://gitlab.com/stevenshiau/clonezilla/-/merge_requests/45
    Thanks to Vitaly for these MRs.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 03 Apr 2021 12:47:09 +0800

clonezilla (4.3.15-drbl1) unstable; urgency=medium

  * ocs-live-feed-img: make timeout_max shorter as "60".

 -- Steven Shiau <steven@clonezilla.org>  Fri, 02 Apr 2021 23:03:52 +0800

clonezilla (4.3.14-drbl1) unstable; urgency=medium

  * ask_nic_dev of ocs-functions: not to detect wifi device linking status.
    Add wl.* to net device list.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 02 Apr 2021 21:44:38 +0800

clonezilla (4.3.13-drbl1) unstable; urgency=medium

  * ocs-live-boot-menu: Switch KMS+To RAM and To RAM between 1st and 2nd
    level of menus. Drop grub 1 support. Make grub to use grub 2, 
    not grub 1 anymore.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 02 Apr 2021 21:05:23 +0800

clonezilla (4.3.12-drbl1) unstable; urgency=medium

  * Remove words "Default settings" from the boot menu.
    Thanks to Lord65 for this suggestion.
  * Update netboot menu only when /tftpboot/nbi_img exists. This would avoid
    giving error messages when running in singularity container for data
    move.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 02 Apr 2021 15:46:50 +0800

clonezilla (4.3.11-drbl1) unstable; urgency=medium

  * Move image check of the restoring mode to
    task_processing_after_parameters_checked of ocs-functions.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 28 Mar 2021 19:49:10 +0800

clonezilla (4.3.10-drbl1) unstable; urgency=medium

  * Move image checking to be after creating Info-* files.
  * Add "To RAM" in the 1st layer of live boot menu.
    Thanks to Lord65 for this suggestion.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 23 Mar 2021 23:08:31 +0800

clonezilla (4.3.9-drbl1) unstable; urgency=medium

  * Bug fixed: forgot to put "shift;;" in drbl-ocs.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 21 Mar 2021 14:22:43 +0800

clonezilla (4.3.8-drbl1) unstable; urgency=medium

  * ocs-live-boot-menu: comment "rmmod tpm".

 -- Steven Shiau <steven@clonezilla.org>  Wed, 17 Mar 2021 11:11:29 +0800

clonezilla (4.3.7-drbl1) unstable; urgency=medium

  * ocs-sr: change -sspt as -scpt. Add option to force choosing disk name in
    saveparts mode in expert mode.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 16 Mar 2021 21:33:18 +0800

clonezilla (4.3.6-drbl1) unstable; urgency=medium

  * Add -gb/-cb in drbl-ocs & ocs-sr.
    Rename check_md5_sha1_sums_for_img as check_checksums_for_img
    Rename gen_md5_sha1_sums_for_img_if_assigned as
    gen_checksums_for_img_if_assigned. And both of them are rewritten
    so that it's easier to add more programs.
    Thanks to Ramon Fischer for this suggestion.
    Ref: https://github.com/stevenshiau/clonezilla/issues/52
  * Switch to use b2sum instead of md5sum in chksum_cmd_for_files_in_dev
    of drbl-ocs.conf.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 09 Mar 2021 18:21:32 +0800

clonezilla (4.3.5-drbl1) unstable; urgency=medium

  * Bug fixed: wrong info was saved to Info-saved-by-cmd.txt when ocs-sr
    is run in non-interactive mode.
  * A typo was fixed:
    msg_continue_with_weired_partition_table ->
    msg_continue_with_weird_partition_table.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 07 Mar 2021 22:11:36 +0800

clonezilla (4.3.4-drbl1) unstable; urgency=medium

  * Add -ssnf, --skip-set-netboot-first in the dcs, i.e., drbl-ocs so that the 
    variable efi_netboot_1st_in_nvram in drbl-ocs.conf can be changed
    when running dcs.
  * Add the option -sspt, --skip-save-part-table for ocs-sr & drbl-ocs.
  * ocs_chkimg: do not exit if no partition table. This allows the image
    saved for whole disk as a file system (e.g., /dev/sda) by saving saveparts.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 07 Mar 2021 16:15:32 +0800

clonezilla (4.3.3-drbl1) unstable; urgency=medium

  * ocs-live-hook-functions: Add prompt in function set_ntp_off

 -- Steven Shiau <steven@clonezilla.org>  Tue, 23 Feb 2021 20:54:04 +0800

clonezilla (4.3.2-drbl1) unstable; urgency=medium

  * Bug fixed: Set ntp off in live-hook for Clonezilla/DRBL/GParted live.
    The previous method does not work.
    Thanks Jay B. for identify this issue.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 20 Feb 2021 22:42:23 +0800

clonezilla (4.3.1-drbl1) unstable; urgency=medium

  * prep-ocsroot: Drop portmap, keep rpcbind only
  * create-gparted-live: increase ramfs_size_def to 7516192768.
  * create-drbl-live: Increase ramfs_size_def to 16106127360

 -- Steven Shiau <steven@clonezilla.org>  Sat, 20 Feb 2021 15:21:00 +0800

clonezilla (4.2.32-drbl2) unstable; urgency=medium

  * Repacket due to temp file existing in the deb. 

 -- Steven Shiau <steven@clonezilla.org>  Tue, 16 Feb 2021 21:54:50 +0800

clonezilla (4.2.32-drbl1) unstable; urgency=medium

  * create-gparted-live: include package nwipe in GParted live. 
    Thanks to bruno.forcier for asking this.
    Ref: http://gparted-forum.surf4.info/viewtopic.php?id=17972

 -- Steven Shiau <steven@clonezilla.org>  Tue, 16 Feb 2021 20:28:02 +0800

clonezilla (4.2.31-drbl1) unstable; urgency=medium

  * Exclude loop device as 1st-disk is used for device name in ocs-sr,
    since /dev/loop0 is for filesystem.squashfs from Clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 13 Feb 2021 15:21:11 +0800

clonezilla (4.2.30-drbl1) unstable; urgency=medium

  * Bug fixed: missing TUI when -rescue is used for partclone in device to
    device cloning. Thanks to huh for reporting this.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 20 Jan 2021 20:49:51 +0800

clonezilla (4.2.29-drbl1) unstable; urgency=medium

  * prep-ocsroot: Make fsck dialog to be different from the saving mode.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 20 Jan 2021 09:57:29 +0800

clonezilla (4.2.28-drbl1) unstable; urgency=medium

  * ocs-sr: make --rescue work for ocs-onthefly to call ocs-sr.
    Thanks to huh for reporting this issue:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/ba2d28a4ef/

 -- Steven Shiau <steven@clonezilla.org>  Tue, 19 Jan 2021 21:41:28 +0800

clonezilla (4.2.27-drbl1) unstable; urgency=medium

  * prep-ocsroot: add an option to fsck repository file system before
    mounting local one.
    Thanks to Bohdan for this idea. 
    Ref: https://gitlab.com/stevenshiau/clonezilla/-/issues/53

 -- Steven Shiau <steven@clonezilla.org>  Mon, 18 Jan 2021 22:36:14 +0800

clonezilla (4.2.26-drbl1) unstable; urgency=medium

  * Better mechanism to find LIVE_MEDIA in function get_live_media_mnt_point
    of ocs-functions.
  * Update comment about "autoname-" in ocs-functions.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 17 Jan 2021 17:59:27 +0800

clonezilla (4.2.25-drbl1) unstable; urgency=medium

  * Use datefmt_* instead of date_F_* for "autoname-", and let user assign
    %, so that it's easier to assign. E.g.,
    autoname-fox-datefmt_%Y%m%d -> fox-20210109
    autoname-fox-datefmt_%Y-datefmt_%m%d -> fox-2021-0109

 -- Steven Shiau <steven@clonezilla.org>  Sat, 09 Jan 2021 20:10:37 +0800

clonezilla (4.2.24-drbl1) unstable; urgency=medium

  * Add more keyname about the image name: "autoname-":
    month, day, hour, minute, date_F_*
    date_F_* is like: date_F_y, where y is the format from program "date",
    e.g., date_F_y is the value got from "date +%y",
    i.e., last two digits of year (00..99).

 -- Steven Shiau <steven@clonezilla.org>  Fri, 08 Jan 2021 19:56:46 +0800

clonezilla (4.2.23-drbl1) unstable; urgency=medium

  * ocs-live-repository: 
    Expand samba_server with version assigned as: smb1, smb1.0, smb2,
    smb2.0, smb2.1, smb3, smb3.0, smb3.11, and smb3.1.1.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 05 Jan 2021 09:34:23 +0800

clonezilla (4.2.22-drbl1) unstable; urgency=medium

  * prep-ocsroot: add options for auto and 3.1.1 SMB protocol. Default
    choice is "auto".
  * Add support for scheme smb1, smb2, smb3 in ocs-live-repository so that
    the cifs version can be assigned. Thanks to ottokang for this idea.
    Ref:
    https://groups.google.com/g/ocs-clonezilla/c/M0eEV9ClO4k/m/FlW06koMBwAJ

 -- Steven Shiau <steven@clonezilla.org>  Fri, 01 Jan 2021 21:10:46 +0800

clonezilla (4.2.21-drbl1) unstable; urgency=medium

  * ocs-sr: Support customized auto-gen image name.
    Key name: productname + FQDN + UUID + MAC + year + date + time
    It can be any combination, just beginning with autoname-
    Ff key name is not shown, it will be shown as itself.
    E.g., autoname-fox-year-date-time-uuid ->
          fox-2020-1227-2336-564d41fc-9d80-20ac-c844-bda6a392d4c6
  * Due to the above new feature, the "autoname-wpfx=" mechanism
    is dropped.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 28 Dec 2020 09:37:50 +0800

clonezilla (4.2.20-drbl1) unstable; urgency=medium

  * ocs-live-boot-menu: add language setting for grub

 -- Steven Shiau <steven@clonezilla.org>  Tue, 22 Dec 2020 07:56:12 +0800

clonezilla (4.2.19-drbl1) unstable; urgency=medium

  * Add a reserverd name autoname-wpfx= for saving.
  * Change the date-time format for auto*name as like
    my-2020-1220-0221-img, was my-2020-12-20-0221-img.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 20 Dec 2020 11:06:28 +0800

clonezilla (4.2.18-drbl1) unstable; urgency=medium

  * Allow something lie /dev/md126 can be a partition, too.
  * Show file system and partition size in the TUI when listing partitions
    in restoreparts.
  * create-ocs-tmp-img: Use "-f" instead of "-e" to test a normal file in
    the btzone dir otherwise noise from cp will be shown.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 19 Dec 2020 14:32:38 +0800

clonezilla (4.2.17-drbl1) unstable; urgency=medium

  * ocs-sr: dump md-related info in the image dir.
  * ocs-live-feed-img: Reduce timeout_max to 120 secs from 300 secs.
  * ocs-get-dev-info: Partition type is not reset if it's not swap.
    This allows linux_raid_member to be identified.
  * ocs-chkimg: skip checking md device's MBR and partition table.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 16 Dec 2020 15:30:46 +0800

clonezilla (4.2.16-drbl1) unstable; urgency=medium

  * Reduce ezio_cache_ratio from 0.7 to 0.5 in drbl-ocs.conf.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 08 Dec 2020 08:16:08 +0800

clonezilla (4.2.15-drbl1) unstable; urgency=medium

  * Update prompt and usage of ocs-btsrv.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 03 Dec 2020 15:29:06 +0800

clonezilla (4.2.14-drbl1) unstable; urgency=medium

  * Output the ezio seeding & leeching logs  in ocs-btsrv,
    not in function task_restoreparts.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 03 Dec 2020 15:21:19 +0800

clonezilla (4.2.13-drbl1) unstable; urgency=medium

  * Add leecher log: /var/log/ocs-leecher.log.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 03 Dec 2020 06:33:49 +0800

clonezilla (4.2.12-drbl1) unstable; urgency=medium

  * Bug fixed: jfbterm was not used in i686 live due to wrong keyword to 
    be grepped in ocs-lang-kbd-conf. This made no way to choose language
    for i686 version of Clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 01 Dec 2020 21:14:59 +0800

clonezilla (4.2.11-drbl1) unstable; urgency=medium

  * Make "service dnsmasq restart" as "systemctl stop dnsmasq; 
    systemctl start dnsmasq" in ocs-live-feed-img.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 30 Nov 2020 21:09:21 +0800

clonezilla (4.2.10-drbl1) unstable; urgency=medium

  * The devices to be deployed by BT mode will be run together.
    No more one device by another device.
  * Add leecher mode (-l|--for-leecher) in ocs-btsrv.
  * Add package f3 in Clonezilla/DRBL/GParted live.
    Thanks to timgmooney _at_ hotmail com for this suggestion.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 29 Nov 2020 16:15:03 +0800

clonezilla (4.2.9-drbl1) unstable; urgency=medium

  * As suggested by ottokang _at gmail com and
    https://lwn.net/Articles/244829/, noatime implies nodiratime.
    There remove nodiratime in the option of mount command.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 25 Nov 2020 15:13:20 +0800

clonezilla (4.2.8-drbl1) unstable; urgency=medium

  * Bug fixed: save_ocs_sr_related_vars should be replaced with
    new function name save_ocs_related_vars not used in ocs-chkimg and
    ocs-live-feed-img.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 24 Nov 2020 07:57:14 +0800

clonezilla (4.2.7-drbl1) unstable; urgency=medium

  * Bug fixed: in interactive mode, ocs-onthefly and ocs-sr should wait
    for pressing enter before asking final action. It was not working for
    device to device cloning, recovery iso/zip creation, etc.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 23 Nov 2020 22:15:44 +0800

clonezilla (4.2.6-drbl1) unstable; urgency=medium

  * ocs-sr: run save_ocs_sr_related_vars on all modes. Save more variables
    in the function save_ocs_sr_related_vars of ocs-functions.
    This would make some more modes stop before asking the final action by
    default.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 23 Nov 2020 20:12:54 +0800

clonezilla (4.2.5-drbl1) unstable; urgency=medium

  * ocs-sr: destination disk can be assigned by serialno when restoring.
  * ocs-onthefly: source and destination device can be assigned by serialno.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 22 Nov 2020 12:28:12 +0800

clonezilla (4.2.4-drbl1) unstable; urgency=medium

  * GParted live: Update the calculator in the menu as galculator.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 21 Nov 2020 16:51:46 +0800

clonezilla (4.2.3-drbl1) unstable; urgency=medium

  * create-gparted-live: Replace calcoo with galculator and add yelp.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 21 Nov 2020 12:08:00 +0800

clonezilla (4.2.2-drbl1) unstable; urgency=medium

  * ocs-sr: update usage about short serial number
  * ocs-get-dev-info: add option -l so that the default output about serial
    no of a disk can be shown in long format. Default is short one.
    Thanks to LinuxOpa.
    Ref: https://sourceforge.net/p/clonezilla/support-requests/143/

 -- Steven Shiau <steven@clonezilla.org>  Fri, 20 Nov 2020 09:42:35 +0800

clonezilla (4.2.1-drbl1) unstable; urgency=medium

  * Make ptuuid/serialno/uuid/partuuid case insensitive when using 
    as the input parameter of ocs-sr.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 18 Nov 2020 10:38:49 +0800

clonezilla (4.2.0-drbl1) unstable; urgency=medium

  * Rename ocs-get-part-info as ocs-get-dev-info.
  * When ocs-sr is in saving mode, the DEVICE name can also be
    assigned by:
    For disk: PTUUID or SERIALNO, e.g., 
    PTUUID=03c8b280-47aa-4881-aca5-9b9c66fe28c7. 
    If there are spaces in SERIALNO, replace every space by \"_\"
    For partition: UUID or PARTUUID, 
    e.g., UUID=0b51ce79-7bc0-4111-8a40-839461a9b12f"

 -- Steven Shiau <steven@clonezilla.org>  Wed, 18 Nov 2020 09:59:08 +0800

clonezilla (4.1.9-drbl1) unstable; urgency=medium

  * Implement a better mechanism to get block device about UUID.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 17 Nov 2020 22:29:18 +0800

clonezilla (4.1.8-drbl1) unstable; urgency=medium

  * Support assigning input device using UUID/serial no when saving image:
    savedisk: PTUUID, SERIALNO
    saveparts: UUID, PARTUUID
    E.g.,
    ocs-sr -q2 -c -j2 -z9p -i 4096 -sfsck -senc -p choose savedisk
    myimg SERIALNO=36000c292124c4d6554f924089bd9b83a
    serialno=36000c29045c0eab7f80c902114867c19 PTUUID="f722833a"

 -- Steven Shiau <steven@clonezilla.org>  Mon, 16 Nov 2020 22:48:46 +0800

clonezilla (4.1.7-drbl2) unstable; urgency=medium

  * Remove gptsync since it's not available in Debian repository,
    and add scsitools blktool safecopy in GParted live packages list.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 02 Nov 2020 20:17:53 +0800

clonezilla (4.1.6-drbl1) unstable; urgency=medium

  * Bug fixed: avoid creating VG more than once.
    VG might exist in more than one PV. If so, we only have to create it once.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Help/thread/13f8ed6643

 -- Steven Shiau <steven@clonezilla.org>  Thu, 29 Oct 2020 20:58:15 +0800

clonezilla (4.1.5-drbl1) unstable; urgency=medium

  * Update create-ubuntu-live for hirsute support, and remove the support
    for eoan.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 25 Oct 2020 12:59:19 +0800

clonezilla (4.1.4-drbl1) unstable; urgency=medium

  * Bug fixed: cnvt-ocs-dev now can process the image repository path
    with whitespace.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/cf543265b2
  * Save OS-related info in the image dir as the file name
    Info-OS-prober.txt
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Help/thread/7ddac80b9f

 -- Steven Shiau <steven@clonezilla.org>  Sat, 24 Oct 2020 13:15:58 +0800

clonezilla (4.1.3-drbl1) unstable; urgency=medium

  * Improve part to part (local and remote) for ocs-onthefly.
    The previous version did not work for local part to part in interactive
    mode, while it works for running in batch command mode. It did not work
    for local disk to disk in batch command mode, but works for interactive
    mode.
  * ocs-sr's option -f|--from-part-in-img is changed as -f|--from-part since
    it now supports both from an image and a device.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 16 Oct 2020 19:27:34 +0800

clonezilla (4.1.2-drbl1) unstable; urgency=medium

  * Use -np|--net-pipe  PROGRAM instead of -u|--use-netcat
    so that it's easier to switch, and it can be
    selected in the expert mode.
  * Revert to use netcat as the default net pipe program since the nuttcp in
    Debian/Ubuntu repository is to old and buggy (6.1.2, the latest one now
    is 8.2.2).
  * If a disk has not any partition, it can not be the source for
    ocs-onthefly. It will just quit to avoiding confusion.
  * Add "--rsyncable" for zstd saving.
    Since zstdmt is equivalent to zstd -T0, remove "-T${cpu_no}" in
    extra_zstdmt_opt.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 10 Oct 2020 23:27:23 +0800

clonezilla (4.1.1-drbl1) unstable; urgency=medium

  * clonezilla: wrong option for ocs-onthefly in ocs_interactive, now it
    should be "-d" instead of "-t".

 -- Steven Shiau <steven@clonezilla.org>  Fri, 09 Oct 2020 10:19:15 +0800

clonezilla (4.1.0-drbl1) unstable; urgency=medium

  * Implement a better mechanism to run ocs-onthefly:
    Now ocs-onthefly mainly uses ocs-sr to save the pseudo image,
    and let partclone do the device to device clone. This is similar to that
    of Clonezilla lite server.
    Due to this improvement, some major changes for ocs-othefly in order to
    sync with that of ocs-sr:
    1. These options have been changed to totally different meanings:
       -d|--destination|--target was -t|--target
       -po|--port was -p|--port
       --net-filter was -i|--filter
       -p|-pa|--postaction was -pa|--postaction
       -u|--use-nuttcp was -u|--use-netcat
    2. New options:
       -t|--no-restore-mbr
       -t1|--restore-raw-mbr
       -t2|--no-restore-ebr
    By default, the network cloning is changed to use zstd to compress
    the data instead of gzip, and the network piping program is changed
    to nuttcp from netcat since the latter has too many diverse versions.
  * ocs-update-initrd: Remove useless prompt.
  * cnvt-ocs-dev: dev-fs.list should be converted, too.
    Add a tag file device_name_converted.info in the converted image.
  * For drbl-ocs.conf:
    Remove: PARTCLONE_RESTORE_ONTHEFLY_OPT_INIT
    Add:
    ONTHEFLY_NET_PIPE="nuttcp"
    NC_PORT_DEFAULT="9000"
    PARTCLONE_LOG="/var/log/partclone.log"

 -- Steven Shiau <steven@clonezilla.org>  Fri, 09 Oct 2020 00:40:40 +0800

clonezilla (4.0.4-drbl1) unstable; urgency=medium

  * Dump the S.M.A.R.T. data of drive in the image dir.
    Thanks to KrashDummy for this idea.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/7484b15424/
  * Update usage message of ocs-sr, about option -sfs.
  * Show the ocs-sr command in ocs-live-feed-img.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 29 Sep 2020 14:28:05 +0800

clonezilla (4.0.3-drbl1) unstable; urgency=medium

  * Switch to use nuttcp for net pipe and zstd for filter
    in ocs-onthefly.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 23 Sep 2020 21:49:43 +0800

clonezilla (4.0.2-drbl1) unstable; urgency=medium

  * Disable NetworkManager service in the live-hook when
    creating clonezilla live system.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 22 Sep 2020 20:39:10 +0800

clonezilla (4.0.1-drbl1) unstable; urgency=medium

  * Do not suppress the stdout/stderr messages when running dd in
    ocs-restore-[em]br.
  * ocs-expand-gpt-pt/ocs-expand-mbr-pt: 
    No need to check since we are creating new partition table and should
    not care about the destination disk's format is GPT or MBR.
    Add prompt about the option -icds when failing to creating the partition
    table on the smaller disk.
  * Deal with more than one EFI part in a machine having same UUID.
    Avoid update-efi-nvram-boot-entry failing in this case.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 21 Sep 2020 21:36:52 +0800

clonezilla (4.0.0-drbl1) unstable; urgency=medium

  * Format the parameters of ocs-* command about the device name
    so that it can be with or without /dev/, e.g., /dev/sda or sda.
    Thanks to Tsutsukakushi and MichaIng.
    Ref: https://gitlab.com/stevenshiau/clonezilla/-/merge_requests/4
  * Jump the version to 4 since the version number of 3.40 is already too big.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 18 Sep 2020 22:27:18 +0800

clonezilla (3.40.8-drbl1) unstable; urgency=medium

  * Update comments about grub netboot host specific boot mechanism.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 13 Sep 2020 13:05:28 +0800

clonezilla (3.40.7-drbl1) unstable; urgency=medium

  * Add option -rvd to ocs-onthefly so that we can choose to remove
    the NTFS volume dirty flag in source NTFS file system before
    cloning it.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 10 Sep 2020 21:42:35 +0800

clonezilla (3.40.6-drbl1) unstable; urgency=medium

  * Update wget bterm-unifont and nic-firmware in live-hook since the
    package might be in new category.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 08 Sep 2020 16:23:02 +0800

clonezilla (3.40.5-drbl1) unstable; urgency=medium

  * Add support for loop devices: Disk images attaches as block
    devices. Thanks to MichaIng.
    Ref: https://gitlab.com/stevenshiau/clonezilla/-/merge_requests/43

 -- Steven Shiau <steven@clonezilla.org>  Thu, 20 Aug 2020 19:29:27 +0800

clonezilla (3.40.4-drbl1) unstable; urgency=medium

  * Newer zip can create zip file larger than 2 GB. Hence ocs-live-dev
    should use zip to create the recovery zip file, not force to change that
    to tar.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 18 Aug 2020 12:40:11 +0800

clonezilla (3.40.3-drbl1) unstable; urgency=medium

  * Add network-manager-gnome to drbl live since wicd was removed.
    network-manager for clonezilla/drbl live was wrong, should be
    NetworkManager. However, it's can be up, so remove it.
  * Remove qemu-kvm but keep qemu-util, replace xvnc4viewer by
    xtightvncviewer since the former is broken in Sid.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 15 Aug 2020 13:00:19 +0800

clonezilla (3.40.2-drbl1) unstable; urgency=medium

  * Keep ttf-unifont, unifont, xfonts-unifont, xfonts-utils
    to avoid unifont.pcf.gz being removed in the ocs-live hook when
    building Clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 09 Aug 2020 10:27:04 +0800

clonezilla (3.40.1-drbl1) unstable; urgency=medium

  * Add Korean support. Thanks to Hyeonmin Oh and .

 -- Steven Shiau <steven@clonezilla.org>  Sun, 09 Aug 2020 07:02:30 +0800

clonezilla (3.39.14-drbl1) unstable; urgency=medium

  * Export linux_cmd and initrd_cmd in grub.cfg, i.e., make them as global
    variables so that the submenu can use that, too.
    Thanks to Chuck for identifying this issue.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/a7b696d13e/

 -- Steven Shiau <steven@clonezilla.org>  Fri, 03 Jul 2020 08:21:43 +0800

clonezilla (3.39.13-drbl1) unstable; urgency=medium

  * Bug fixed: the CPU arch tag file was missing when running
    ocs-iso, create-gparted-live and create-drbl-live.
    Thanks to Chuck for reporting this issue.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 02 Jul 2020 12:47:11 +0800

clonezilla (3.39.12-drbl1) unstable; urgency=medium

  * Bug fixed: wrong commands for parsing $linux_cmd

 -- Steven Shiau <steven@clonezilla.org>  Tue, 30 Jun 2020 16:20:27 +0800

clonezilla (3.39.11-drbl1) unstable; urgency=medium

  * Add a mechanism to create CPU arch tag file in the release root dir.
  * A better mechanism to deal with linuxefi/initrdefi or linux/initrd in
    the grub config.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 29 Jun 2020 16:24:58 +0800

clonezilla (3.39.10-drbl1) unstable; urgency=medium

  * The function get_input_dev_name in ocs-functions should not skip
    LVM if the device is whole block disk (e.g., /dev/sdb which is PV)
  * create-gparted-live: use new package name netsurf-gtk instead of old
    one: netsurf

 -- Steven Shiau <steven@clonezilla.org>  Fri, 19 Jun 2020 10:46:52 +0800

clonezilla (3.39.9-drbl1) unstable; urgency=medium

  * Bug fixed: The function is_block_device_with_fs of ocs-function
    should not treat "LVM2_member" as a file system.
    Thanks to Carlos Trentini for reporting this.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/726d3dd6a8/
  * ocs-iso, ocs-live-dev: sync syslinux-related files when copying syslinux
    exec files.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 16 Jun 2020 13:28:05 +0800

clonezilla (3.39.8-drbl1) unstable; urgency=medium

  * When creating recovery iso/zip file, if it's in Clonezilla live environment,
    we have those syslinux files. Use that first so the version mismatch can be avoided.
    Ref: https://sourceforge.net/p/clonezilla/support-requests/127/

 -- Steven Shiau <steven@clonezilla.org>  Mon, 08 Jun 2020 21:29:53 +0800

clonezilla (3.39.7-drbl1) unstable; urgency=medium

  * ocs-sr: ocs-chkimg should not overwrite /var/lib/clonezilla/ocs-vars.
    Hence backup it before running ocs-chkimg in the restoring mode.
    Thanks for Denis reporting this issue:
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/3f52bb4542

 -- Steven Shiau <steven@clonezilla.org>  Sun, 07 Jun 2020 13:15:40 +0800

clonezilla (3.39.6-drbl1) unstable; urgency=medium

  * Add ID for two grub boot menus in the menu generated by
    ocs-live-boot-menu:
    --id live-default
    --id live-kms-toram
    This will be easier for drbl-sl to locate the boot parameters.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 31 May 2020 07:01:26 +0800

clonezilla (3.39.5-drbl1) unstable; urgency=medium

  * Make my email address consistent at clonezilla org for all the files.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 29 May 2020 23:42:51 +0800

clonezilla (3.39.4-drbl1) unstable; urgency=medium

  * grub netboot cfg dir is now at /tftpboot/nbi_img/grub/,
    while for backward compatibility, we still link it to
    /tftpboot/nbi_img/grub-efi.cfg.
  * Use ocswp-grub2.png instead of ocswp.png for grub netboot client.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 29 May 2020 21:05:56 +0800

clonezilla (3.39.3-drbl1) unstable; urgency=medium

  * Bug fixed: No need to run gen-grub-efi-nb-menu in ocs-live-feed-img
    since it's run inside drbl-gen-grub-efi-nb.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 28 May 2020 15:37:26 +0800

clonezilla (3.39.2-drbl1) unstable; urgency=medium

  * Bug fixed: the grub2 menu created by ocs-live-boot-menu should use
    linuxefi/initrdefi.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 27 May 2020 21:39:42 +0800

clonezilla (3.39.1-drbl1) unstable; urgency=medium

  * ocs-onthefly: bug fix for missing last-lba line
    Previous solution neglecting the last-lba line in sfdisk dumped file
    should not be used in the case that option -k1 is used in ocs-onthefly.
    Thanks to Alex Hughes and JR Bregante for reporting this issue.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/68e1be5cfe/
    https://sourceforge.net/p/clonezilla/discussion/Open_discussion/thread/491c9eb9ce
  * ocs-function: follow the change linuxefi/initrdefi
    Follow the change in gen-grub-efi-nb-menu, the grub command in the
    grub config file is now linuxefi/initrdefi instead of linux/initrd.
    Hence the corresponding functions have to be
    changed:
    remove_runlevel_1_in_grub_efi_cfg_block
    remove_runlevel_1_in_grub_efi_cfg_block
  * ocsmgrd: generate grub netboot file with new name.
    To avoid conflict with the patch of grub in CentOS/Fedora,
    for GRUB EFI NB MAC/IP config style, the netboot file is now like
    grub.cfg-drbl-00:50:56:01:01:01
    and
    grub.cfg-drbl-192.168.177.2
    not grub.cfg-01-* anymore.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 27 May 2020 09:42:09 +0800

clonezilla (3.38.16-drbl1) unstable; urgency=medium

  * Add reserved words 'all' and 'all-but-usb' for the image and device
    name. This is especially for using in the BT from device mode in
    ocs-live-feed-img.
  * Update USAGE for ocs-sr about the reserved word 'all' for saving mode.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 09 May 2020 18:31:47 +0800

clonezilla (3.38.15-drbl1) unstable; urgency=medium

  * Update ocs-live-repository so that ram_disk is one of the option.
    It can be done by using ram://.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 08 May 2020 14:36:34 +0800

clonezilla (3.38.14-drbl1) unstable; urgency=medium

  * Fix wrong syntax in create-ubuntu-live.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 05 May 2020 14:43:22 +0800

clonezilla (3.38.13-drbl1) unstable; urgency=medium

  * Add support for creating groovy-based live system.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 05 May 2020 14:32:41 +0800

clonezilla (3.38.12-drbl1) unstable; urgency=medium

  * Neglect the line "last-lba:..." for the GPT partition table.
    This allows something like:
    64 GB disk with a 20 GB NTFS partition, disk clone to >= 20 GB disk.
    This is harmless when same sizes of disk cloning or smaller to larger
    case.
    The option -icds is required when larger disk is cloned/restored to
    smaller one, no need to use -k1 in this case.
    Thanks to panreyes for this idea.
    Ref: https://sourceforge.net/p/clonezilla/bugs/342/

 -- Steven Shiau <steven@clonezilla.org>  Tue, 28 Apr 2020 22:16:38 +0800

clonezilla (3.38.11-drbl1) unstable; urgency=medium

  *  Add batch mode, and instead of countdown, pause it when rc is not 0
     for ocs-run-boot-param.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 14 Apr 2020 07:04:01 +0800

clonezilla (3.38.10-drbl1) unstable; urgency=medium

  * Countdown 10 secs when there is a failure ocs-run-boot-param.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 12 Apr 2020 16:05:47 +0800

clonezilla (3.38.9-drbl1) unstable; urgency=medium

  * Update USAGE, add  checking required programs & improve exit function
    of ocs-live-swap-kernel.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 06 Apr 2020 10:28:28 +0800

clonezilla (3.38.8-drbl1) unstable; urgency=medium

  * Add a new program ocs-live-swap-kernel which can be used to swap
    Linux kernel and modules in clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 22 Mar 2020 22:12:33 +0800

clonezilla (3.38.7-drbl1) unstable; urgency=medium

  * Improve decide_MKSQUASHFS_OPTIONS so that it can be
    optionally assigned with an arg.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 21 Mar 2020 10:23:43 +0800

clonezilla (3.38.6-drbl1) unstable; urgency=medium

  * Improve get_latest_kernel_ver_in_repository to 
    make get_latest_kernel_ver_in_repository work for creating
    Debian-based and Ubuntu-based live system. 

 -- Steven Shiau <steven@clonezilla.org>  Sun, 15 Mar 2020 12:07:23 +0800

clonezilla (3.38.5-drbl1) unstable; urgency=medium

  * Add support for creating Clonezilla live in armhf arch.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 14 Mar 2020 17:16:46 +0800

clonezilla (3.38.4-drbl1) unstable; urgency=medium

  * Bug fixed: To RAM option was not put in the large font+To RAM
    boot menu.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 11 Mar 2020 20:40:12 +0800

clonezilla (3.38.3-drbl1) unstable; urgency=medium

  * put --distribution before --mode in the lb config in create-ubuntu-live. 

 -- Steven Shiau <steven@clonezilla.org>  Wed, 11 Mar 2020 11:18:52 +0800

clonezilla (3.38.2-drbl1) unstable; urgency=medium

  * Improve get_latest_kernel_ver_in_repository to work with arm64.
  * Put lb config --distribution in the beginning for create-*-live,
    otherwise live-build 20191221 won't work.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 11 Mar 2020 10:56:54 +0800

clonezilla (3.38.1-drbl1) unstable; urgency=medium

  * Replace pzstd by zstdmt.
    Thanks to Lord65 (lord5319 _at_ gmail com) for this idea.
    Ref: https://github.com/facebook/zstd/pull/1192#issuecomment-397599977
  * Change large font boot menu as large font + toram.
  * Improve the codes to create Clonezilla live arm64 release.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 10 Mar 2020 20:56:09 +0800

clonezilla (3.37.22-drbl1) unstable; urgency=medium

  * Improve ocs-restore-mdisks by adding option -a|--last-action to separate
    the last action before it's finished.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 02 Mar 2020 21:14:59 +0800

clonezilla (3.37.21-drbl1) unstable; urgency=medium

  * Fix the issue ocs-restore-mdisks failed to return to cmd:
    https://sourceforge.net/p/clonezilla/discussion/Open_discussion/thread/366eeabc42/
    ocs-live-final-action was improved for usage.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 01 Mar 2020 15:02:12 +0800

clonezilla (3.37.20-drbl1) unstable; urgency=medium

  * Bug fixed TYPE=isw_raid_member should not be a supported file system for
    ocs-get-part-info to give. Thanks to Domenic DiSorbo for reporting this
    issue.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 21 Feb 2020 12:20:08 +0800

clonezilla (3.37.19-drbl1) unstable; urgency=medium

  * Move the stdout (-) to the last option for lrzip.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 28 Jan 2020 23:58:24 +0800

clonezilla (3.37.18-drbl1) unstable; urgency=medium

  * Add Variables for the buffer size of dd & partclone.dd in drbl-ocs.conf:
    dd_buffer_size & partclone_dd_bs.
    They are used in the related functions of ocs-functions.
    Thanks to cagnulein for reporting this issue.
    Ref: https://gitlab.com/stevenshiau/clonezilla/merge_requests/42

 -- Steven Shiau <steven@clonezilla.org>  Thu, 26 Dec 2019 08:53:17 +0800

clonezilla (3.37.17-drbl1) unstable; urgency=medium

  * Let a bare block device with a file system (e.g, /dev/sda, not /dev/sda1),
    which we treat as a partition, can be chosen as the destination disk
    when not saving.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 24 Dec 2019 20:46:00 +0800

clonezilla (3.37.16-drbl1) unstable; urgency=medium

  * New upstream partclone_create_torrent.py, use python3:
    https://raw.githubusercontent.com/tjjh89017/ezio/migrate_to_py3/utils/partclone_create_torrent.py
  * Slightly improve BT return status so that ocs-live-feed-img won't
    continue running the rest. Not finished, need improvements in the
    future.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 05 Dec 2019 14:22:20 +0800

clonezilla (3.37.15-drbl1) unstable; urgency=medium

  * Add options -z7/-z8/-z8p/-z9/-z9p to drbl-ocs.
    Ref: https://sourceforge.net/p/drbl/bugs/22/

 -- Steven Shiau <steven@clonezilla.org>  Tue, 03 Dec 2019 21:50:05 +0800

clonezilla (3.37.14-drbl1) unstable; urgency=medium

  * Fix expand tools from using the wrong filename for '.info' files.
    See merge request stevenshiau/clonezilla!41

 -- Steven Shiau <steven@clonezilla.org>  Sun, 01 Dec 2019 21:42:14 +0800

clonezilla (3.37.13-drbl1) unstable; urgency=medium

  * Remove nonempty from sshfs mouting
    since fuse3 has used it by default.
    Ref: https://github.com/libfuse/libfuse/commit/0bef21e8

 -- Steven Shiau <steven@clonezilla.org>  Wed, 20 Nov 2019 14:36:45 +0800

clonezilla (3.37.12-drbl1) unstable; urgency=medium

  * Temporarily remove swift repository from the list of prep-ocsroot
    since cloudfuse package is not maintained anymore.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 19 Nov 2019 17:16:08 +0800

clonezilla (3.37.11-drbl1) unstable; urgency=medium

  * Generate locales in the post script of singularity definition file

 -- Steven Shiau <steven@clonezilla.org>  Tue, 19 Nov 2019 15:00:27 +0800

clonezilla (3.37.10-drbl1) unstable; urgency=medium

  * A workaround was added to avoid partclone wrongly detects device is
    busy in Singularity environment:
    https://github.com/sylabs/singularity/issues/4182
    Otherwise Partclone will fail due to block device status not found

 -- Steven Shiau <steven@clonezilla.org>  Tue, 19 Nov 2019 05:59:04 +0800

clonezilla (3.37.9-drbl1) unstable; urgency=medium

  * Add a workaround for singularity-debian-ocs.def so that
    the weird keyboard-configuration won't be asked interactively.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 08 Nov 2019 10:50:08 +0800

clonezilla (3.37.8-drbl1) unstable; urgency=medium

  * Make create-ubuntu-live work for Ubuntu Focal.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 06 Nov 2019 13:40:03 +0800

clonezilla (3.37.7-drbl1) unstable; urgency=medium

  * Only mail the results to root as MTA is running.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 18 Oct 2019 08:36:15 +0800

clonezilla (3.37.6-drbl1) unstable; urgency=medium

  * Exclude "-oracle" Linux kernel (e.g., linux-image-5.0.0-1004-oracle)
    so that the generic kernel can be used in Clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 16 Oct 2019 05:39:57 +0800

clonezilla (3.37.5-drbl1) unstable; urgency=medium

  * An option "-ps" or "--play-sound" was added in expert mode so that when
    Clonezilla job is done, a sound can be played.
    Thanks to David McCracken (daveski at localnet com) for suggesting this.
  * Bug fixed: machine-id should not be created in 2nd partition if it
    exists due to the flag is not reset.
    Thanks to czfan for reporting this issue:
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/ccb439f3da/

 -- Steven Shiau <steven@clonezilla.org>  Tue, 15 Oct 2019 22:52:53 +0800

clonezilla (3.37.4-drbl1) unstable; urgency=medium

  * Fix recovery Clonezilla live iso/zip issue with ocs-iso
    and ocs-live-dev due to the recently modified syslinux
    x86 and x64 path.
    Thanks to Steeve Gagne for reporting this issue.
    Ref: https://sourceforge.net/p/clonezilla/bugs/331/

 -- Steven Shiau <steven@clonezilla.org>  Sun, 22 Sep 2019 22:09:20 +0800

clonezilla (3.37.3-drbl1) unstable; urgency=medium

  * Use function to get the variable mail_client in ocs-functions
    so that it can be reused in both multicast and BT functions.
  * When stopping then starting ocs-live-feed-img, clean stale
    netboot files only when the mode is to run dhcpd.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 21 Sep 2019 18:43:03 +0800

clonezilla (3.37.2-drbl1) unstable; urgency=medium

  * Bug fixed:The assigned IP address of eth port in
    ocs-live-feed-img should be paswd to ocs-btsrv.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 19 Sep 2019 15:29:38 +0800

clonezilla (3.37.1-drbl1) unstable; urgency=medium

  * Implement the code to work with bare block device with file system, e.g,
    /dev/md0 with file system ext4. This type of device will be treated as
    a partition.
  * Format the inputted variable dest_dev of ocs-live-get-img as
    device name without /dev, e.g. sda instead of /dev/sda
  * Rewrite ocs-live-feed-img and ocs-functions so they are more readable.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 17 Sep 2019 16:30:10 +0800

clonezilla (3.36.12-drbl1) unstable; urgency=medium

  * Add --dest-dev to ocs-live-get-img so that the destination disk in the
    BT client can be different from the source disk.
  * Add -bt-iface for ocs-live-feed-img so that the ethernet port can be
    assigned in BT mode.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 11 Sep 2019 21:37:09 +0800

clonezilla (3.36.11-drbl1) unstable; urgency=medium

  * A workaround to start lighttpd when PID=1 program is not systemd, which
    makes "systemctl start lighttpd" fail.
  * Add the option "-icol" to ocs-live-get-img.
  * Update the comments in singularity-debian-ocs.def.
    Rename singularity-debian-ocs as singularity-debian-ocs.def.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 08 Sep 2019 18:28:21 +0800

clonezilla (3.36.10-drbl1) unstable; urgency=medium

  * Add an option -icol for ocs-live-feed-img which can be used to skip
    checking the running environment is Clonezilla live or not.
    Move the part about network configuration and dhcp mode as a function.
  * Add a Singularity recipe sample file singularity-debian-ocs which
    can be used to create a Singularity image.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 07 Sep 2019 13:11:08 +0800

clonezilla (3.36.9-drbl1) unstable; urgency=medium

  * Use different variables for amd64 and x86 live system from drbl.conf
    when creating clonezilla/drbl live:
    PKG_FROM_DBN_WHICH_OCS_LIVE_NEED_X86_64_ONLY
    PKG_FROM_DBN_WHICH_OCS_LIVE_NEED_X86_ONLY

 -- Steven Shiau <steven@clonezilla.org>  Tue, 03 Sep 2019 07:04:03 +0800

clonezilla (3.36.8-drbl1) unstable; urgency=medium

  * Add prompt about removing MBR partition table. 

 -- Steven Shiau <steven@clonezilla.org>  Mon, 02 Sep 2019 14:42:23 +0800

clonezilla (3.36.7-drbl1) unstable; urgency=medium

  * Add contrib and update default distribution for create-debina-live,
    create-drbl-live and create-gparted-live.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 01 Sep 2019 21:41:02 +0800

clonezilla (3.36.6-drbl1) unstable; urgency=medium

  * create-usb-2P-pt-sf: Change the default fs for 1st part as vfat.
    In addition, add an new option -f so that the file system for 1st
    partition can be assigned.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 26 Aug 2019 22:10:35 +0800

clonezilla (3.36.5-drbl1) unstable; urgency=medium

  * Add boot parameter enforcing=0 for live system. This can make
    poweroff/reboot more smoothly.
  * Run "ocs-btsrv stop" instead of "ocs-live-feed-img stop". This should
    keep the same mechanism for the previous versions in the boot menu
    of clients.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 21 Aug 2019 15:11:46 +0800

clonezilla (3.36.4-drbl1) unstable; urgency=medium

  * stop_ocs_service of ocs-functions wrongly parses -m option.
    Make PXE and uEFI netboot have same menu when stop_ocs_service is run
    for NFSroot mode.
  * Stop ocs-related services when lite service is done so that
    poweroff/reboot will work smoothly.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 20 Aug 2019 10:37:47 +0800

clonezilla (3.36.3-drbl1) unstable; urgency=medium

  * Switch to use gen-torrent-from-ptcl to create torrent file from
    torrent.info, not using transmission-create anymore. This could
    save a lot of time when the source image is big.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 19 Aug 2019 21:52:25 +0800

clonezilla (3.36.2-drbl1) unstable; urgency=medium

  * Rename the file torrent.info as something like sda1.torrent.info when
    running BT from device mode in ocs-gen-bt-metainfo.
    That file can be useful for debugging.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 19 Aug 2019 13:12:42 +0800

clonezilla (3.36.1-drbl1) unstable; urgency=medium

  * Deprecate the option -m for ocs-btsrv since we will switch to use kill
    to terminate the tracker.
  * Due to an issue of using gen-torrent-from-ptcl to
    convert the torrent.info to torrent file, temporarily revert to use
    transmission-create to generate the torrent file.
    In addition, drop the "-k 60" parameter for ezio seeder
    (ezio_seeder_opt).

 -- Steven Shiau <steven@clonezilla.org>  Sun, 18 Aug 2019 13:16:52 +0800

clonezilla (3.35.12-drbl1) unstable; urgency=medium

  * Avoid torrent.info created by Partclone being included in the torrent
    file. 

 -- Steven Shiau <steven@clonezilla.org>  Fri, 16 Aug 2019 09:41:14 +0800

clonezilla (3.35.11-drbl1) unstable; urgency=medium

  * Modify parameters about BT in drbl-ocs.conf:
    Switch to use gen-torrent-from-ptcl (ezio-ptcl)
    Remove "-t 3" from ezio_seeder_opt, now
    ezio_seeder_opt="-k 60"
  * Use gen-torrent-from-ptcl to create torrent file from torrent.info,
    which is generated by Partclone when creating BT slices.
    This can:
    (1) Avoid the issue that torrent.info not found in the
        BT client's hard drive.
    (2) Increase the performance when creating torrent file. Program
        transmission-create was used to scan the slices dir that might take
        a lot of time. While gen-torrent-from-ptcl (partclone_create_torrent.py)
        requires the small summary file "torrent.info" only.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 15 Aug 2019 22:20:05 +0800

clonezilla (3.35.10-drbl1) unstable; urgency=medium

  * Improve the check_input_* functions. Make them wait for press a key then
    continue when not in the batch mode. This could avoid the last dialog
    menu overwrite the error messages.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 13 Aug 2019 20:15:25 +0800

clonezilla (3.35.9-drbl1) unstable; urgency=medium

  * Update samples/custom-ocs-3, add more checking.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 12 Aug 2019 23:00:07 +0800

clonezilla (3.35.8-drbl1) unstable; urgency=medium

  * Add a new sample program custom-ocs-3.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 12 Aug 2019 12:43:55 +0800

clonezilla (3.35.7-drbl1) unstable; urgency=medium

  * Improved the disk full test function:
    /usr/share/drbl/sbin/ocs-functions:disk_full_test()
    Should use mktemp instead of the fixed file name.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/d3f3bfb5/

 -- Steven Shiau <steven@clonezilla.org>  Tue, 30 Jul 2019 15:02:14 +0800

clonezilla (3.35.6-drbl1) unstable; urgency=medium

  * Only re-gen the machine id in the right fs when running
    ocs-tux-postprocess.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 23 Jul 2019 10:49:44 +0800

clonezilla (3.35.5-drbl1) unstable; urgency=medium

  * Update the mechanism to generate new machine-id for restored GNU/Linux.
    Thanks to Peter Sun for reporting the issue and providing the solution.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 22 Jul 2019 21:22:11 +0800

clonezilla (3.35.4-drbl1) unstable; urgency=medium

  * Add hotkey for boot menu "To RAM" (R) and KMS (K) modes.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 21 Jul 2019 16:28:49 +0800

clonezilla (3.35.3-drbl1) unstable; urgency=medium

  * Add option -iui for ocs-onthefly, and implement the ocs-update-initrd
    for restored GNU/Linux.
  * Bug fixed: the source IP address for disk to remote disk was not shown
    in the source (server) side when there is one NIC configured.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 19 Jul 2019 00:03:01 +0800

clonezilla (3.35.2-drbl1) unstable; urgency=medium

  * Reuse ocs-gen-grub2-efi-bldr for drbl-usb-netinstall. Make appropriate
    changes for uEFI booting use case.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 12 Jul 2019 09:42:05 +0800

clonezilla (3.35.1-drbl1) unstable; urgency=medium

  * Deprecate Partimage, i.e. no more depending on Partimage.
    Since it's not in the Debian Buster repository.
    It's only recommended to install, not a required package.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 05 Jul 2019 14:19:12 +0800

clonezilla (3.34.8-drbl1) unstable; urgency=medium

  * Enable ntfs module in live initramfs.
    Ref: http://gparted-forum.surf4.info/viewtopic.php?id=17840

 -- Steven Shiau <steven@clonezilla.org>  Wed, 26 Jun 2019 20:10:15 +0800

clonezilla (3.34.7-drbl1) unstable; urgency=medium

  * Make sure label will have one name only in update-efi-nvram-boot-entry.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 18 Jun 2019 08:21:45 +0800

clonezilla (3.34.6-drbl1) unstable; urgency=medium

  * Give warning about failing to create initrd in the restored OS due to different
    system architecture (e.g., i686 vs x86-64) for ocs-update-initrd.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 12 Jun 2019 13:52:50 +0800

clonezilla (3.34.5-drbl1) unstable; urgency=medium

  * Bind mount /sys before running chroot for dracut,
    otherwise for RHEL 8, it will run very slow.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 11 Jun 2019 13:26:50 +0800

clonezilla (3.34.4-drbl1) unstable; urgency=medium

  * Improve the mechanism to clean and sort the boot entries in the NVRAM.
    The duplicated or useless boot entries will be cleaned.
    Make the codes in update-efi-nvram-boot-entry more readable.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 10 Jun 2019 21:24:04 +0800

clonezilla (3.34.3-drbl1) unstable; urgency=medium

  * Add a mechanism to clean unused uEFI boot entry in NVRAM.
  * Use /tmp instead of /var/tmp for dracut. This could avoid the failure
    for running dracut when /var is not in the chroot / environment.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 09 Jun 2019 10:44:46 +0800

clonezilla (3.34.2-drbl1) unstable; urgency=medium

  * Improve the mechanism to update uEFI nvram boot entry. It's the same way
    as boot-local-efi.cfg.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 03 Jun 2019 21:45:18 +0800

clonezilla (3.34.1-drbl1) unstable; urgency=medium

  * Default to run ocs-update-initrd for the restored OS when running ocs-sr.
    This helps to make initramfs work for different hardware.
    The option "-iui" can be used for ocs-sr to ignore running ocs-update-initrd.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 02 Jun 2019 20:17:44 +0800

clonezilla (3.33.36-drbl1) unstable; urgency=medium

  * Add prompt about entering uEFI firmware setup.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 29 May 2019 11:00:41 +0800

clonezilla (3.33.35-drbl1) unstable; urgency=medium

  * uEFI boot menu of GParted live was corrected. It was Clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 25 May 2019 18:00:15 +0800

clonezilla (3.33.34-drbl1) unstable; urgency=medium

  * Program gparted-console-font-size was improved, no need to load language
    file.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 23 May 2019 10:03:54 +0800

clonezilla (3.33.33-drbl1) unstable; urgency=medium

  * Improve ocs-live-boot-menu, so the new sorted uEFI menu
    works for GParted live

 -- Steven Shiau <steven@clonezilla.org>  Thu, 23 May 2019 06:52:16 +0800

clonezilla (3.33.32-drbl1) unstable; urgency=medium

  * Tune more menus for uEFI boot menu, including:
    1. Make wording more consistent
    2. Show countdown and can be skipped by pressing Esc key when running sleep
       (sleep --verbose --interruptible 10).

 -- Steven Shiau <steven@clonezilla.org>  Fri, 17 May 2019 21:54:14 +0800

clonezilla (3.33.31-drbl1) unstable; urgency=medium

  * Add two more menus in uEFI boot menu:
    1. uEFI firmware setup
    2. Clonezilla live version info

 -- Steven Shiau <steven@clonezilla.org>  Fri, 17 May 2019 20:45:42 +0800

clonezilla (3.33.30-drbl1) unstable; urgency=medium

  * Integrated backup plan in boot-local-efi.cfg. Hence the regexp
    issue in Ubuntu's grub2 can be workarounded.
    Ref: https://bugs.launchpad.net/bugs/1829331

 -- Steven Shiau <steven@clonezilla.org>  Fri, 17 May 2019 11:50:52 +0800

clonezilla (3.33.29-drbl1) unstable; urgency=medium

  * Add backup plan for local boot in the Clonezilla live boot menu
    in case boot-local-efi.cfg fails, since there is
    a bug in Ubuntu's grub commands, including regexp, probe...:
    https://bugs.launchpad.net/bugs/1829331

 -- Steven Shiau <steven@clonezilla.org>  Thu, 16 May 2019 21:58:20 +0800

clonezilla (3.33.28-drbl1) unstable; urgency=medium

  * A better mechanism (boot-local-efi.cfg) to detect EFI boot loader
    and boot it was implemented.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 15 May 2019 15:03:40 +0800

clonezilla (3.33.27-drbl1) unstable; urgency=medium

  * Add hotkey l (large font) for syslinux boot menu.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 14 May 2019 08:28:50 +0800

clonezilla (3.33.26-drbl1) unstable; urgency=medium

  * Sorted the boot menu, and added a hotkey (l) for large font boot
    menu in Clonezilla live uEFI booting.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 13 May 2019 15:37:57 +0800

clonezilla (3.33.25-drbl1) unstable; urgency=medium

  * Append dirs "boot,.disk,utils" to toram parameter. This would make To
    RAM option can be used for creating recovery iso/zip.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 11 May 2019 13:31:05 +0800

clonezilla (3.33.24-drbl1) unstable; urgency=medium

  * Add option "-t 1 -k 60" for ezio on server side.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 09 May 2019 16:23:41 +0800

clonezilla (3.33.23-drbl1) unstable; urgency=medium

  * Bug fixed: add a large font menu for uEFI mode in Clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 08 May 2019 16:58:53 +0800

clonezilla (3.33.22-drbl1) unstable; urgency=medium

  * Add a large font menu for uEFI mode in Clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 08 May 2019 16:35:09 +0800

clonezilla (3.33.21-drbl1) unstable; urgency=medium

  * Add a boot menu "KMS with large fonts" for Clonezilla live.
  * No need to press enter when batch mode is off about warning MBR disk > 4 TB.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 08 May 2019 11:35:17 +0800

clonezilla (3.33.20-drbl1) unstable; urgency=medium

  * Make create-ubuntu-live work for eoan.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 29 Apr 2019 06:09:04 +0800

clonezilla (3.33.19-drbl1) unstable; urgency=medium

  * Bug fixed: can't create disk image if swap is provided by logical volume
    listed in crypttab.
    Thanks to Constantino Michailidis for providing the patch file.
    Ref: https://sourceforge.net/p/clonezilla/bugs/314/

 -- Steven Shiau <steven@clonezilla.org>  Tue, 09 Apr 2019 05:24:52 +0800

clonezilla (3.33.18-drbl1) unstable; urgency=medium

  * Add sleep .1 before cat /proc/partitions to file.
    Thanks to Zibarov Volodymyr.
    Ref: https://sourceforge.net/p/clonezilla/bugs/318/

 -- Steven Shiau <steven@clonezilla.org>  Thu, 28 Mar 2019 22:51:16 +0800

clonezilla (3.33.17-drbl1) unstable; urgency=medium

  * Bug fixed: should only keep libgl1-mesa-dri, while remove other packages.
    i.e., assign unnecessary_packages="xorg-docs-core xfonts-100dpi
    xfonts-75dpi xfonts-scalable" for GParted live.
  * Add USB NIC modules in initramfs of live system.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_server_edition/thread/de7c4f810a/

 -- Steven Shiau <steven@clonezilla.org>  Thu, 28 Mar 2019 03:08:22 +0800

clonezilla (3.33.16-drbl1) unstable; urgency=medium

  * Keep more x-related packages in GParted live:
    xorg-docs-core xfonts-100dpi xfonts-75dpi xfonts-scalable

 -- Steven Shiau <steven@clonezilla.org>  Thu, 21 Mar 2019 20:38:01 +0800

clonezilla (3.33.15-drbl1) unstable; urgency=medium

  * Replace leafpad by geany in DRBL live and GParted live 
    since leafpad is no more in Debian repository.
  * Keep libgl1-mesa-dri in GParted live because many x-related packages
    depend on it.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 21 Mar 2019 18:12:06 +0800

clonezilla (3.33.14-drbl1) unstable; urgency=medium

  * Make rsync follow link in ocs-iso-2-onie.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 08 Mar 2019 19:55:14 +0800

clonezilla (3.33.13-drbl1) unstable; urgency=medium

  * Keep the pseudo image dir by adding a tag file 00-pseudo-img-note.txt
    inside it.
  * Change ezio_seeder_extra_opt as ezio_seeder_opt.
    Add two more options: ezio_leecher_opt and ezio_common_opt in
    drbl-ocs.conf. These three options can also be overwritten 
    if it's assigned in boot parameters.
  * Assign "-t 1" for ezio_leecher_opt so that ezio will timeout in 1 min.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 07 Mar 2019 12:58:44 +0800

clonezilla (3.33.12-drbl1) unstable; urgency=medium

  * Bug fixed: label parsed from EFI boot entry was wrong
    when multiple OSs are available. This should fix the issue that bricks
    Dell's machine:
    https://sourceforge.net/p/clonezilla/bugs/310/
    Thanks to Dell US & Taiwan, and AMI Taiwan.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 18 Feb 2019 06:50:47 +0800

clonezilla (3.33.11-drbl1) unstable; urgency=medium

  * Suppress error message of mkswapfile service stop only when it's added
    in systemd.
    Bug fixed: live USB version of Clonezilla live should not link
    /home/partimag to /run/live/medium/home/partimag/ when there is no
    images exist in /run/live/medium/home/partimag/. The find command was
    wrong.
  * Bugs fixed: -p poweroff failed for saveparts.
    Option "-p poweroff" did not work when saving partition image with
    image checking is enabled. Previous fix only works for savedisk.
    Thanks to ski-777 for reporting this.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/ff5b0d60

 -- Steven Shiau <steven@clonezilla.org>  Sun, 10 Feb 2019 21:48:06 +0800

clonezilla (3.33.10-drbl1) unstable; urgency=medium

  * Bug fixed: failed to detect ezio process for BT from image.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 23 Jan 2019 16:35:24 +0800

clonezilla (3.33.9-drbl1) unstable; urgency=medium

  * Bug fixed: in LV only, no partition case the BT service
    was not started.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 23 Jan 2019 10:34:56 +0800

clonezilla (3.33.8-drbl1) unstable; urgency=medium

  * Enable secure boot support when creating Debian live system
    (create-debian-live).
    However, it's still not ready for secure boot:
    https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=920144

 -- Steven Shiau <steven@clonezilla.org>  Tue, 22 Jan 2019 15:26:44 +0800

clonezilla (3.33.7-drbl1) unstable; urgency=medium

  * Set ezio_cache_ratio as 0.7 since we use one ezio process only for all
    the partitions and LVs.
  * Only one ezio process only for both parts and LVs. This is easier to
    allow ezio to control the cache size.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 21 Jan 2019 22:09:24 +0800

clonezilla (3.33.6-drbl1) unstable; urgency=medium

  * The nuttcp in ocs-onthefly should run with -P and -p so that
    multiple nuttcp processes can be run simultaneously.
    Add dialog for choosing compression algorithm in expert mode.
    Option "-u" was added in the dialog of expert mode.
  * To avoid OOM killer to kill ezio, we use the multi torrent files support
    (ezio >= 1.1.6) and limit the cache size. It can be tuned by
    ezio_cache_ratio in drbl-ocs.conf.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 17 Jan 2019 22:47:42 +0800

clonezilla (3.33.5-drbl1) unstable; urgency=medium

  * Bug fixed: better way to check ptcl_2_torrent_prog
    in ocs-gen-bt-metainfo.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 14 Jan 2019 15:12:47 +0800

clonezilla (3.33.4-drbl1) unstable; urgency=medium

  * Add a mechanism to reuse image for BT from disk mode. The option
    -mdst-img can be used to assign the existing pseudo image.
  * Add a backup plan to use gen-torrent-from-ptcl when ezio-static is used,
    no partclone_create_torrent.py is available.
  * Add gen-torrent-from-ptcl as a backup for partclone_create_torrent.py
    when ezio-static package is used.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 14 Jan 2019 14:50:53 +0800

clonezilla (3.33.3-drbl1) unstable; urgency=medium

  * Add nuttcp as an option for ocs-onthefly, the -u, --use-nuttcp can be
    used.
  * Bug fixed: For CentOS 7, the ncat need the option "--recv-only" in the
    client.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 13 Jan 2019 19:41:36 +0800

clonezilla (3.33.2-drbl1) unstable; urgency=medium

  * New mechanism was added: instead of using Partclone image as the BT
    source, the local device (whole disk or partitions) can be as the
    source, too.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 12 Jan 2019 15:53:18 +0800

clonezilla (3.33.1-drbl1) unstable; urgency=medium

  * Enlarge ramfs_size_def as 7 GB for create-debian-live and
    create-ubuntu-live.
  * Add a new program ocs-gen-bt-metainfo for later use.
  * Add an option for skipping file system save. This is used to create a
    pseudo image for BT from device. (not ready yet)
  * Two more variables were added in drbl-ocs.conf: p_length_transmission
    and bt_buffer_size. Later version will need them.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 11 Jan 2019 21:08:33 +0800

clonezilla (3.32.22-drbl1) unstable; urgency=medium

  * To RAM option should also copy EFI dir so that the recovery iso/zip
    script works.
    Thanks to Mr. Brandon Lancaster for reporting this issue.
  * Not to check source device busy in network mode for ocs-onthefly. Thanks
    to Xuewen Wang for providing this patch.
    Ref: https://github.com/stevenshiau/clonezilla/pull/42

 -- Steven Shiau <steven@clonezilla.org>  Mon, 31 Dec 2018 14:01:30 +0800

clonezilla (3.32.21-drbl1) unstable; urgency=medium

  * Blacklist Dell machine for update-efi-nvram-boot-entry due to these
    issues:
    https://sourceforge.net/p/clonezilla/discussion/Open_discussion/thread/9fc9c4dee3/
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/76ba35a226/
    https://sourceforge.net/p/clonezilla/bugs/310/ 

 -- Steven Shiau <steven@clonezilla.org>  Mon, 17 Dec 2018 11:52:07 +0800

clonezilla (3.32.20-drbl1) unstable; urgency=medium

  * Use https instead of http to show related URL.
    http://clonezilla.org -> https://clonezilla.org
    http://drbl.org -> https://drbl.org
    http://gparted.org -> https://gparted.org

 -- Steven Shiau <steven@clonezilla.org>  Fri, 14 Dec 2018 08:30:05 +0800

clonezilla (3.32.19-drbl1) unstable; urgency=medium

  * Make all the modes of files in Clonezilla live zip be writable
    so that the uncompressed files can be removed easily with rm -rf.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 11 Dec 2018 21:59:53 +0800

clonezilla (3.32.18-drbl1) unstable; urgency=medium

  * Let live-build deal with DRBL and GParted live's uEFI boot.
    Due to this, the changes:
    1. /boot/grub/efiboot.img is /boot/grub/efi.img now.
    2. /EFI/boot/grub.cfg is moved to /boot/grub/grub.cfg now.
  * Add options (-rs and -er) for create-{drbl|gparted}-live to use
    RAMFS as live-build working dir.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 08 Dec 2018 14:25:52 +0800

clonezilla (3.32.17-drbl1) unstable; urgency=medium

  * Disable espeakup service when creating DRBL/Clonezilla live
    due to it's auto started in espeakup >= 1:0.80-11.
    Ref: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=911120
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/aed3724275
    Thanks to Eduardo for reporting this.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 06 Dec 2018 09:01:03 +0800

clonezilla (3.32.16-drbl1) unstable; urgency=medium

  * A workaround to avoid TERM "xterm-256color" crashing Partclone:
    https://sourceforge.net/p/clonezilla/bugs/305/
    Thanks to Laurent B for reporting this.
  * Option "-p poweroff" did not work when saving image with image
    checking is enabled. Thanks to Eduardo for reporting this.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 04 Dec 2018 22:45:41 +0800

clonezilla (3.32.15-drbl1) unstable; urgency=medium

  * Add an option (-r) for create-debian-live and create-ubuntu-live to use
    RAMFS as live-build working dir.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 02 Dec 2018 20:54:25 +0800

clonezilla (3.32.14-drbl1) unstable; urgency=medium

  * Add support for creating Ubuntu 19.04 live system. 
    The mechanism to add non-free firmwares was broken due to Ubuntu 19.04
    start using UsrMerge, and it was fixed in this release.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 21 Nov 2018 10:36:17 +0800

clonezilla (3.32.13-drbl1) unstable; urgency=medium

  * Bug fixed: return code for checksum was wrong.
    Thanks to Korver.Kirk (Kirk.Korver _at_ IGT com) for reporting this.
    Ref: https://sourceforge.net/p/clonezilla/mailman/message/36454003/

 -- Steven Shiau <steven@clonezilla.org>  Sun, 18 Nov 2018 14:55:19 +0800

clonezilla (3.32.12-drbl1) unstable; urgency=medium

  * Set buffer size of BT slices as 16 MB. Thanks to Date Huang.
    Ref: https://gitlab.com/stevenshiau/clonezilla/merge_requests/38

 -- Steven Shiau <steven@clonezilla.org>  Tue, 30 Oct 2018 21:17:39 +0800

clonezilla (3.32.11-drbl1) unstable; urgency=medium

  * Bug fixed: remove the extra "-r" option in partclone.dd
    for multicast restoring.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 28 Oct 2018 14:13:16 +0800

clonezilla (3.32.10-drbl1) unstable; urgency=medium

  * Bug fixed: failed to create correct files for BT mechanism when the file
    system is in dd mode. This bug was introduced when ".dd-ptcl-img." file
    format was added.
  * Stop using "--allowed_dir" for ocs-bttrack in ocs-btsrv. This makes
    starting tracker very slow when there are huge number of files in the
    dir.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 28 Oct 2018 10:31:54 +0800

clonezilla (3.32.9-drbl1) unstable; urgency=medium

  * Make unknown fs as "dd", and the image name for partition like:
    sda3.dd-img.aa is now a legacy. It's replaced by
    sda3.dd-ptcl-img.lzma.aa.
    Rewrite the same mechanism in ocs-onthefly.
  * Bug fixed: Failed to detect lzma compression for the partition image
    file $pt.dd-img.aa. Thanks to Phil P.
    Ref: https://sourceforge.net/p/clonezilla/bugs/307/

 -- Steven Shiau <steven@clonezilla.org>  Wed, 24 Oct 2018 10:48:42 +0800

clonezilla (3.32.8-drbl1) unstable; urgency=medium

  * Bug fixed: remove "-i" from fatresize options in ocs-resize-part.
    Thanks to MaDaTyGo for reporting this.
    Ref: https://github.com/stevenshiau/clonezilla/issues/41

 -- Steven Shiau <steven@clonezilla.org>  Sun, 21 Oct 2018 14:37:36 +0800

clonezilla (3.32.7-drbl1) unstable; urgency=medium

  * Disable network-manager by default in DRBL/Clonezilla live. This can
    avoid it automatically starts dhclient, and later conflicts with
    ocs-live-netcfg.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 10 Oct 2018 12:09:36 +0800

clonezilla (3.32.6-drbl1) unstable; urgency=medium

  * Merge variables locale_to_keep_for_X and locale_to_keep_for_no_X as
    locale_to_keep in live-hook of clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 30 Sep 2018 19:17:07 +0800

clonezilla (3.32.5-drbl1) unstable; urgency=medium

  * Keep locales for the name without ".UTF-8", e.g., keep locales for
    both en_US.UTF-8 and en_US when running localepurge as Clonezilla live
    is created.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 29 Sep 2018 16:28:07 +0800

clonezilla (3.32.4-drbl1) unstable; urgency=medium

  * In addition to massive-deployment mode, the interactive-client mode was
    added so that lite server can provide the ability to enter interactive
    mode of Clonezilla live in the clients.
  * Add boot parameter secure_boot_client so that the mechanism of
    secure boot for uEFI client can be enabled with a boot parameters.
    The secure boot mechanism for clients is not complete, because there are
    two limits for signed shim and grub:
    (1) Shim and grub does not honor the proxy offer packet.
        Ref: https://lists.gnu.org/archive/html/grub-devel/2016-04/msg00051.html
             http://lists.thekelleys.org.uk/pipermail/dnsmasq-discuss/2017q1/011347.html
    (2) grub lacks the ability to autoload grub2's config file when
    netbooting. Ref: https://bugzilla.redhat.com/show_bug.cgi?id=873406

 -- Steven Shiau <steven@clonezilla.org>  Tue, 25 Sep 2018 19:43:58 +0800

clonezilla (3.32.3-drbl1) unstable; urgency=medium

  * Show postrun dialog after ocs-live-feed-img is run.
  * Program ocs-chkimg should keep the ocs_sr_mode in
    /var/lib/clonezilla/ocs-vars so that ocs-live-run-menu
    can read it. This can avoid dialog be run
    without waiting for user to press enter. Thanks to Grant Chapman
    (grantdchapman _at_ gmail com) for reporting this issue.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 04 Sep 2018 22:51:36 +0800

clonezilla (3.32.2-drbl1) unstable; urgency=medium

  * Typoes in ocs-onthefly fixed. Thanks to ProBackup-nl.
    Ref: https://github.com/stevenshiau/clonezilla/pull/40/

 -- Steven Shiau <steven@clonezilla.org>  Mon, 27 Aug 2018 14:57:07 +0800

clonezilla (3.32.1-drbl1) unstable; urgency=medium

  * Let live-build 20180618 handle uEFI boot, so
    ocs-put-signed-grub2-efi-bldr and ocs-gen-grub2-efi-bldr are deprecated.
    The changes:
    1. /boot/grub/efiboot.img is /boot/grub/efi.img now.
    2. /EFI/boot/grub.cfg is moved to /boot/grub/grub.cfg now.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 24 Aug 2018 14:00:49 +0800

clonezilla (3.31.8-drbl1) unstable; urgency=medium

  * Temporarily disable dislocker-find in ocs-get-part-info due to some
    issues: (1) It's broken in Debian Sid: https://bugs.debian.org/906430
    (2) https://sourceforge.net/p/clonezilla/discussion/Open_discussion/thread/e1264596

 -- Steven Shiau <steven@clonezilla.org>  Mon, 20 Aug 2018 08:57:18 +0800

clonezilla (3.31.7-drbl1) unstable; urgency=medium

  * Detect DNS instead of hard coding in ocs-put-signed-grub2-efi-bldr.
  * Wrong path for the log about running ocs-put-signed-grub2-efi-bldr
    in efi-misc-binary-hook

 -- Steven Shiau <steven@clonezilla.org>  Sun, 19 Aug 2018 12:01:08 +0800

clonezilla (3.31.6-drbl1) unstable; urgency=medium

  * Output download status for grub-efi related files in
    efi-misc-binary-hook.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 18 Aug 2018 23:05:49 +0800

clonezilla (3.31.5-drbl1) unstable; urgency=medium

  * A workaround to make Ubuntu resolv.conf work for Ubuntu >= 18.04, only
    for live system.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 11 Aug 2018 11:58:33 +0800

clonezilla (3.31.4-drbl1) unstable; urgency=medium

  * Make get_efi_hd_boot_entry_info of ocs-functions show unique result.
 
 -- Steven Shiau <steven@clonezilla.org>  Thu, 12 Jul 2018 20:18:20 +0800

clonezilla (3.31.3-drbl1) unstable; urgency=medium

  * Bug fixed: a workaround to makes sure that client will notify the
    lite server so that the next boot the client will enter local booting.
    Add ocs_server in the client's boot parameters for Clonezilla lite
    server. This is due to a ps (from procps-ng 3.3.15) issue that somehow
    it can not list the PID by this command: ps -C ocs-live-get-img.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 19 Jun 2018 22:02:21 +0800

clonezilla (3.31.2-drbl1) unstable; urgency=medium

  * Bug fixed: it's /run/live/medium/, not /run/live/medium/live.
    Add /run/live/medium/ in live_media_path_chklist of drbl-ocs.conf
    since 1:20180328 live-boot uses /run/live instead of /lib/live/mount

 -- Steven Shiau <steven@clonezilla.org>  Wed, 06 Jun 2018 07:11:30 +0800

clonezilla (3.31.1-drbl1) unstable; urgency=medium

  * Add /run/live/medium/live in live_media_path_chklist of drbl-ocs.conf
    since 1:20180328 live-boot uses /run/live instead of /lib/live/mount

 -- Steven Shiau <steven@clonezilla.org>  Mon, 04 Jun 2018 19:58:46 +0800

clonezilla (3.30.41-drbl1) unstable; urgency=medium

  * Append "-C" option to partclone when option -icds is enabled in
    restoreparts mode.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Help/thread/3a21b5f4

 -- Steven Shiau <steven@clonezilla.org>  Tue, 22 May 2018 06:58:44 +0800

clonezilla (3.30.40-drbl1) unstable; urgency=medium

  * New a variable ocs_live_exclude_kernels in drbl-ocs.conf so that
    it's easier to use get_latest_kernel_ver_in_repository function
    in ocs-functions.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 18 May 2018 12:31:15 +0800

clonezilla (3.30.39-drbl1) unstable; urgency=medium

  * Make get_latest_kernel_ver_in_repository exclude oem linux kernel.
  * Add support for creating cosmic clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 08 May 2018 22:33:06 +0800

clonezilla (3.30.38-drbl1) unstable; urgency=medium

  * Bug fixed: get-latest-ocs-live-ver failed to get the latest version
    number of Clonezilla live from Sourceforge website.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 16 Apr 2018 22:29:46 +0800

clonezilla (3.30.37-drbl1) unstable; urgency=medium

  * Increase the buffer size of EFI BOOTDISKSIZE.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 12 Apr 2018 20:29:48 +0800

clonezilla (3.30.36-drbl1) unstable; urgency=medium

  * Skip removing old partitions in the ONIE install.sh. No need for
    Clonezilla live.
    Add PATH to install.sh for ONIE.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 02 Apr 2018 06:41:42 +0800

clonezilla (3.30.35-drbl1) unstable; urgency=medium

  * Rewrite part of the codes of ocs-iso-2-onie. Make output messages better
    and easier to read.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 29 Mar 2018 08:48:02 +0800

clonezilla (3.30.34-drbl1) unstable; urgency=medium

  * Add ocs-iso-2-onie which can be used to turn Clonezilla iso to ONIE
    image. It's based on the what Luca Boccassi has patched to Debian live
    Ref: https://salsa.debian.org/live-team/live-build/merge_requests/4

 -- Steven Shiau <steven@clonezilla.org>  Wed, 28 Mar 2018 22:50:14 +0800

clonezilla (3.30.33-drbl1) unstable; urgency=medium

  * Remove package consolekit from DRBL live. It does not exist in Debian
    Sid anymore.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 18 Mar 2018 17:08:34 +0800

clonezilla (3.30.32-drbl1) unstable; urgency=medium

  * Use "dpkg -l" instead of "dpkg -L" to query package in ocs-live-hook
    so that it can accept wildcard in the package name.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 15 Mar 2018 05:44:00 +0800

clonezilla (3.30.31-drbl1) unstable; urgency=medium

  * Force to remove unused linux kernels in hook for clonezilla live:
    linux-image-*-(aws|gcp|lowlatency|azure|kvm). 

 -- Steven Shiau <steven@clonezilla.org>  Wed, 14 Mar 2018 14:38:55 +0800

clonezilla (3.30.30-drbl1) unstable; urgency=medium

  * Update function get_latest_kernel_ver_in_repository to exclude more
    Linux kernels which will not be used on Clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 13 Mar 2018 13:48:57 +0800

clonezilla (3.30.29-drbl1) unstable; urgency=medium

  * Bug fixed: jfbterm shold not exit when lite server is running. It would
    terminate the required service for clients to restore image, especially
    BT service in non-English environment.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 06 Mar 2018 16:37:29 +0800

clonezilla (3.30.28-drbl1) unstable; urgency=medium

  * Update get_efi_hd_boot_entry_info in ocs-functions. Make it work for
    some cases with more characters before keyword "HD".

 -- Steven Shiau <steven@clonezilla.org>  Sat, 24 Feb 2018 14:18:37 +0800

clonezilla (3.30.27-drbl1) unstable; urgency=medium

  * Improve function get_efi_hd_boot_entry_info of ocs-functions so it
    covers more cases to get the correct boot_file, e.g., some characters
    before "HD":
    Boot0006* Debian        PciRoot(0x0)/Pci(0x1,0x0)/HD(1,GPT,a314a8b1-b2dd-4b36-96b1-24c99b3ea940,0x800,0x100000)/File(\EFI\debian\grubaa64.efi)
  * Update known_efi_boot_file_chklist in update-efi-nvram-boot-entry by
    adding known ARM64 EFI boot files.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 22 Feb 2018 08:13:52 +0800

clonezilla (3.30.26-drbl1) unstable; urgency=medium

  * Add known ARM64 efi boot files in update-efi-nvram-boot-entry.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 20 Feb 2018 21:41:20 +0800

clonezilla (3.30.25-drbl1) unstable; urgency=medium

  * Bug fixed: cnvt-ocs-dev failed to convert EBR (like sda2-ebr).
    Thanks to killuaDK for reporting this.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Open_discussion/thread/b851e095

 -- Steven Shiau <steven@clonezilla.org>  Tue, 13 Feb 2018 21:13:39 +0800

clonezilla (3.30.24-drbl1) unstable; urgency=medium

  * It's not good to run screen with ocs-scan-disk in speech synthesis mode.
    Thanks to Eigeldinger Simon (simon.eigeldinger _at_ hohenems at) for
    reporting that.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 18 Jan 2018 21:04:42 +0800

clonezilla (3.30.23-drbl1) unstable; urgency=medium

  * Add channel bonding option in ocs-live-netcfg.
    Thanks to  panther_1 for requesting this.
    Ref: https://sourceforge.net/p/clonezilla/support-requests/61/

 -- Steven Shiau <steven@clonezilla.org>  Tue, 09 Jan 2018 12:14:06 +0800

clonezilla (3.30.22-drbl1) unstable; urgency=medium

  * Make prep-ocsroot can use disk block device (e.g., /dev/sdc) as image repository.
    Thanks to Riksoft for requesting this.
    Ref: https://sourceforge.net/p/clonezilla/bugs/288/

 -- Steven Shiau <steven@clonezilla.org>  Sun, 07 Jan 2018 18:10:58 +0800

clonezilla (3.30.21-drbl1) unstable; urgency=medium

  * Bug fixed: add -z9 selection in ocs-cvtimg-comp.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 02 Jan 2018 20:00:55 +0800

clonezilla (3.30.20-drbl1) unstable; urgency=medium

  * Replace all words "M$" by MS. 

 -- Steven Shiau <steven@clonezilla.org>  Tue, 02 Jan 2018 11:22:33 +0800

clonezilla (3.30.19-drbl1) unstable; urgency=medium

  * Bug fixed: duplicated hostname modification selections for multiple disks.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 01 Jan 2018 17:16:25 +0800

clonezilla (3.30.18-drbl1) unstable; urgency=medium

  * Make the function for ocs-chnthn work for device name like
    /dev/nvme0n1p1. This change should really fix the issue reported here:
    https://github.com/stevenshiau/clonezilla/issues/30

 -- Steven Shiau <steven@clonezilla.org>  Mon, 01 Jan 2018 16:18:57 +0800

clonezilla (3.30.17-drbl1) unstable; urgency=medium

  * Add options -pe and -pfe of ocs-sr.
    This allows user to enter password in the command options although
    it's not safe. Thanks to ub2 _at_ gmx ch for requesting this.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/d3af2134

 -- Steven Shiau <steven@clonezilla.org>  Sat, 30 Dec 2017 14:14:52 +0800

clonezilla (3.30.16-drbl1) unstable; urgency=medium

  * Bug fixed: efiboot.img did not work secure boot.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 29 Dec 2017 20:41:27 +0800

clonezilla (3.30.15-drbl1) unstable; urgency=medium

  * Bug fixed: fail to use secure boot loader for Ubuntu based Clonezilla
    live.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 29 Dec 2017 19:12:15 +0800

clonezilla (3.30.14-drbl1) unstable; urgency=medium

  * Add support ARM64 serial console ttyAMA0 autologin.
    Systemd service start-ocs-live.service should wait for ttyAMA0-3 to be
    started.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 28 Dec 2017 22:04:13 +0800

clonezilla (3.30.13-drbl1) unstable; urgency=medium

  * Add support for lz4mt (-z8p).

 -- Steven Shiau <steven@clonezilla.org>  Thu, 28 Dec 2017 11:40:20 +0800

clonezilla (3.30.12-drbl1) unstable; urgency=medium

  * Add support for zstd/pzstd (-z9/-z9p).
  * Remove "-p 16" for pigz in drbl-ocs.conf. It should let pigz to decide that
    automatically.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 27 Dec 2017 20:33:42 +0800

clonezilla (3.30.11-drbl1) unstable; urgency=medium

  * Bug fixed: ocs-chnthn now supports modifying Win10 hostname.
    Thanks to Frantiek Griga for reporting this issue.
    Ref: https://sourceforge.net/p/clonezilla/support-requests/100/
  * Package drbl-chntpw is no more used, and use reged from package chntpw
    now in Debian or Ubuntu system.
  * Switch lz4 option to be "-1" instead of "-3" in drbl-ocs.conf.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 26 Dec 2017 21:16:02 +0800

clonezilla (3.30.10-drbl1) unstable; urgency=medium

  * Force to run inform_kernel_partition_table_changed in the function
    restore_hidden_data_after_MBR of ocs-functions.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 21 Dec 2017 18:47:38 +0800

clonezilla (3.30.9-drbl1) unstable; urgency=medium

  * Better mechanism to detect partition or disk in ocs-chnthn-functions.
    Ref: https://github.com/stevenshiau/clonezilla/issues/30

 -- Steven Shiau <steven@clonezilla.org>  Wed, 13 Dec 2017 05:17:28 +0800

clonezilla (3.30.8-drbl1) unstable; urgency=medium

  * Bug fixed: ocs-iso did not include dir live for ARM64.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 05 Dec 2017 13:01:18 +0800

clonezilla (3.30.7-drbl1) unstable; urgency=medium

  * Do not download grub-pc or grub1 deb in the hook function for ARM64
    arch when creating Clonezilla live.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 04 Dec 2017 21:54:58 +0800

clonezilla (3.30.6-drbl1) unstable; urgency=medium

  * Fix typos in create-debian-live.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 04 Dec 2017 21:16:09 +0800

clonezilla (3.30.5-drbl1) unstable; urgency=medium

  * Use variable PKG_FROM_DBN_WHICH_OCS_LIVE_NEED_ARM64_ONLY so that
    grub-efi-arm64-bin will be added in live system when running
    create-debian-live and create-ubuntu-live for ARM64 system.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 04 Dec 2017 20:41:34 +0800

clonezilla (3.30.4-drbl1) unstable; urgency=medium

  * Improve the ezio seeding log file name.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 04 Dec 2017 09:33:08 +0800

clonezilla (3.30.3-drbl1) unstable; urgency=medium

  * Redirect the output of ezio to /var/log/ezio-seeding.log.
  * Use transmission-edit to update the BT server's IP address instead of
    regenerating it. Thanks to Date Huang for sharing this idea.

 -- Steven Shiau <steven@clonezilla.org>  Sun, 03 Dec 2017 20:54:48 +0800

clonezilla (3.30.2-drbl1) unstable; urgency=medium

  * Add new compression format: lz4 (-z8).

 -- Steven Shiau <steven@clonezilla.org>  Sat, 02 Dec 2017 21:43:11 +0800

clonezilla (3.30.1-drbl1) unstable; urgency=medium

  * Add support for creating ARM64 live system for Clonezilla live
    (create-debian-live and create-ubuntu-live only).
  * Add using ezio as seeder in BT (ocs-btsrv). This should have better
    performance than using ctorrent or aria2c as seeder.

 -- Steven Shiau <steven@clonezilla.org>  Sat, 02 Dec 2017 11:05:33 +0800

clonezilla (3.29.9-drbl1) unstable; urgency=medium

  * Do not remove vmlinuz-* or initrd-* when in arch is arm64 since
    binary_syslinux of live-build is not run. Just rename them as vmlinuz
    and initrd.
  * Make Clonezilla depends on isolinux.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 22 Nov 2017 13:23:30 +0800

clonezilla (3.29.8-drbl1) unstable; urgency=medium

  * Initial support arm64 for create-debian-live and ocs-gen-grub2-efi-bldr.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 20 Nov 2017 21:06:03 +0800

clonezilla (3.29.7-drbl2) unstable; urgency=medium

  * Add depends for arm64 arch. 

 -- Steven Shiau <steven@clonezilla.org>  Sun, 19 Nov 2017 16:20:40 +0800

clonezilla (3.29.7-drbl1) unstable; urgency=medium

  * Bug fixed: useless files and dirs (e.g. efi) were removed when creating
    gparted live and drbl live.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 15 Nov 2017 21:50:59 +0800

clonezilla (3.29.6-drbl1) unstable; urgency=medium

  * Bug fixed: create-gparted-live failed to create GParted iso.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 14 Nov 2017 22:49:41 +0800

clonezilla (3.29.5-drbl1) unstable; urgency=medium

  * Update lh_ver_required and debootstrap_ver_required for live-build 5 and
    bionic in drbl-ocs.conf.
  * Add support for Bionic in create-ubuntu-live.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 01 Nov 2017 07:56:18 +0800

clonezilla (3.29.4-drbl1) unstable; urgency=medium

  * Use xorriso instead of genisoimage when creating DRBL/GParted live iso.
    With this, no need to patch genisoimage to work with EFI booting, and no
    need to run isohybrid for the created iso file.
  * Remove option --bootstrap from create-drbl-live-by-pkg
    since live-build does not support it anymore.

 -- Steven Shiau <steven@clonezilla.org>  Mon, 30 Oct 2017 21:19:35 +0800

clonezilla (3.29.3-drbl1) unstable; urgency=medium

  * Path for efiboot.img was not created first.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 27 Oct 2017 18:19:39 +0800

clonezilla (3.29.2-drbl1) unstable; urgency=medium

  * Put efiboot.img in /boot/grub/ inside zip file.
    Slightly change the way to create efiboot.img for iso file.

 -- Steven Shiau <steven@clonezilla.org>  Fri, 27 Oct 2017 13:55:41 +0800

clonezilla (3.29.1-drbl1) unstable; urgency=medium

  * Make Clonezilla work for live-build v5 (version >= 201602xx)
  * Use xorriso instead of genisoimage when creating Clonezilla live iso.
    With this, no need to patch genisoimage to work with EFI booting, and no
    need to run isohybrid for the created iso file.
  * Add more grub modules in grub boot loader:
    memdisk fat efinet tftp net

 -- Steven Shiau <steven@clonezilla.org>  Thu, 26 Oct 2017 22:24:17 +0800

clonezilla (3.28.10-drbl1) unstable; urgency=medium

  * Do not put "insmod vbe" in grub EFI boot menu. Module vbe is for legacy
    bios.
  * Revert to original ocs-gen-grub2-efi-bldr. Module vbe and pci are for
    legacy BIOS, not for EFI.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 12 Oct 2017 20:08:37 +0800

clonezilla (3.28.9-drbl1) unstable; urgency=medium

  * Better mechanism to add grub2 modules pci and vbe for grub boot loader.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 12 Oct 2017 14:53:11 +0800

clonezilla (3.28.8-drbl1) unstable; urgency=medium

  * Add vbe as one of EFI required modules.
    Ref: https://sourceforge.net/p/clonezilla/bugs/240/

 -- Steven Shiau <steven@clonezilla.org>  Thu, 12 Oct 2017 08:24:30 +0800

clonezilla (3.28.7-drbl1) unstable; urgency=medium

  * Add a workaround to make dnsmasq relay work for uEFI network boot clients.
    i.e., we have to assign the tftp server IP address in grub network
    boot loader. This is only necessary when dnsmasq is used to relay the
    DHCP request from clients to existing DHCP service
    Ref: http://lists.thekelleys.org.uk/pipermail/dnsmasq-discuss/2017q1/011124.html

 -- Steven Shiau <steven@clonezilla.org>  Fri, 29 Sep 2017 23:03:25 +0800

clonezilla (3.28.6-drbl1) unstable; urgency=medium

  * Bug fixed: /EFI/centos/grubx64.efi order.
    /EFI/centos/grubx64.efi should be before /EFI/Boot/bootx64.efi.
    Thanks to Fritzinger, Bernd (Bernd.Fritzinger _at_ bruker com).

 -- Steven Shiau <steven@clonezilla.org>  Wed, 27 Sep 2017 08:25:45 +0800

clonezilla (3.28.5-drbl1) unstable; urgency=medium

  * Add lite-server prompt in the command clonezilla
  * Use Partclone 0.3.8 to create dd slice files.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 26 Sep 2017 09:48:42 +0800

clonezilla (3.28.4-drbl1) unstable; urgency=medium

  * No prompt for removing eject in EFI machine when rebooting or poweroffing
    since most of the case nowadays people use USB to boot the machine.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 21 Sep 2017 19:03:50 +0800

clonezilla (3.28.3-drbl1) unstable; urgency=medium

  * Add /EFI/centos/grubx64.efi to known_efi_boot_file_chklist in
    update-efi-nvram-boot-entry. Thanks to Fritzinger, Bernd
    (Bernd.Fritzinger _at_ bruker com) for providing the patch.
  * Let update-efi-nvram-boot-entry run on Mac.

 -- Steven Shiau <steven@clonezilla.org>  Thu, 21 Sep 2017 07:53:27 +0800

clonezilla (3.28.2-drbl1) unstable; urgency=medium

  * Disable systemd-networkd-wait-online service. By default it will wait
    for 2 mins, and it's useless for Clonezilla live since the user will
    configure the networking later.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/
         thread/9511d653/
  * Add boot parameter ocs_netlink_timeout so that the network link
    detection timeout can be assigned for ocs-live-netcfg.

 -- Steven Shiau <steven@clonezilla.org>  Wed, 20 Sep 2017 12:24:36 +0800

clonezilla (3.28.1-drbl1) unstable; urgency=medium

  * Add an option -cbm to ocs-live-feed-img. Besides, remove boot parameter
    ocs_litesrv_mode. It's better to assign that in the command line option
    (-dm) when running ocs-live-feed-img, e.g.,
    ocs-live-feed-img -cbm netboot -dm auto-detect -g auto -e1 auto -e2 -r
    -x -j2 -sc0 -p reboot -md multicast --clients-to-wait 1 
    --max-time-to-wait 300 start myimg sda
  * Support using UUID and LABEL as image repository, i.e.,
    local_dev for image repository can be assigned as:
    dev:///LABEL|UUID|PARTLABEL|PARTUUID=uuid|label. E.g.,
    ocs_repository="dev:///UUID=84b012cc-5a4c-41e2-bf20-620d028072cb"
  * Simply the S08speakup. Remove those not-working commands
    during booting, like sleep.

 -- Steven Shiau <steven@clonezilla.org>  Tue, 19 Sep 2017 11:40:31 +0800

clonezilla (3.27.20-drbl1) unstable; urgency=medium

  * Improve the mechanism for starting espeakup.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 05 Sep 2017 08:07:05 +0800

clonezilla (3.27.19-drbl1) unstable; urgency=medium

  * Add beep for syslinux/grub2 boot menu, and add hotkey key "-s"
    for grub2 boot menu.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 29 Aug 2017 15:21:05 +0800

clonezilla (3.27.18-drbl1) unstable; urgency=medium

  * Get the locale and set the VOICE in /etc/default/espeakup.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 24 Aug 2017 10:48:58 +0800

clonezilla (3.27.17-drbl1) unstable; urgency=medium

  * Speech synthesis is added the boot menu of Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 10 Aug 2017 14:35:22 +0800

clonezilla (3.27.16-drbl1) unstable; urgency=medium

  * Add udftools in GParted live packages list.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 02 Aug 2017 05:59:31 +0800

clonezilla (3.27.15-drbl1) unstable; urgency=medium

  * Add option -z|--prefer-archive to ocs-live-dev so that archive program can be assigned.
    Thanks to Mircea Dan for providing the patch.
    Ref: https://sourceforge.net/p/clonezilla/bugs/278/

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 31 Jul 2017 19:57:26 +0800

clonezilla (3.27.14-drbl1) unstable; urgency=medium

  * Bug fixed: matching codes for extended partitions. Thanks to Alan
    Rooks.
    Ref: https://sourceforge.net/p/clonezilla/bugs/275/
  * Remove the extra space lines in main menu in clonezilla.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 23 Jul 2017 22:32:15 +0800

clonezilla (3.27.13-drbl1) unstable; urgency=medium

  * Start espeak service when accessibility module is loaded.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 26 Jun 2017 08:16:27 +0800

clonezilla (3.27.12-drbl1) unstable; urgency=medium

  * Add a mechanism to load module for accessibility (e.g, speakup_soft) instead
    of hard coding it in initramfs. The mechanism is similar to that in Debian
    Stretch installer.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 24 Jun 2017 09:22:41 +0800

clonezilla (3.27.11-drbl1) unstable; urgency=medium

  * Add SMB version selection when mounting CIFS. Thanks to Eric Nichols
    for asking this.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 13 Jun 2017 14:10:47 +0800

clonezilla (3.27.10-drbl1) unstable; urgency=medium

  * Remove "set -e" in create-ocs-tmp-img to make it run
    in non Debian-based OS.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 12 Jun 2017 08:05:51 +0800

clonezilla (3.27.9-drbl1) unstable; urgency=medium

  * Add loading module speakup_soft in initramfs. This is required for
    running program espeakup.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 04 Jun 2017 13:04:22 +0800

clonezilla (3.27.8-drbl1) unstable; urgency=medium

  * Use "auto-detect" instead of "auto-dhcpd" for the lite sever mode
    in ocs-live-feed-img.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 29 May 2017 17:30:05 +0800

clonezilla (3.27.7-drbl1) unstable; urgency=medium

  * Make all toram mode as live in ocs-iso and ocs-live-dev.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 25 May 2017 14:40:31 +0800

clonezilla (3.27.6-drbl1) unstable; urgency=medium

  * Update toram mode as "live,syslinux" for ocs-live-boot-menu when
    it's assigned as "live" because for Clonezilla live the config
    file in syslinux dir and the vmlinuz and kernel in live dir
    is required.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 25 May 2017 12:49:40 +0800

clonezilla (3.27.5-drbl1) unstable; urgency=medium

  * If DHCP service exists, by default ocs lite server just leases the IP
    address from DHCP server in ocs-live-feed-img.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 25 May 2017 10:32:47 +0800

clonezilla (3.27.4-drbl1) unstable; urgency=medium

  * Instead of asking "to-upstream" or "in-isolation", now asking
    use-existing-dhcpd, start-new-dhcpd, auto-dhcpd in ocs-live-feed-img.
  * Support replaying the DHCP service to existing DHCP service in
    ocs-live-feed-img.
  * Bug fixed: typos. lite_client -> lite-client, lite_server -> lite-server
    in file clonezilla.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 24 May 2017 11:12:11 +0800

clonezilla (3.27.3-drbl1) unstable; urgency=medium

  * Bug fixed: select-in-client enters command line mode after job is done.
    Ref: https://sourceforge.net/p/drbl/discussion/DRBL_for_Debian/thread/d7427aaa/
    Thanks to Santiago Castro Olivares for reporting this.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 20 May 2017 15:40:45 +0800

clonezilla (3.27.2-drbl1) unstable; urgency=medium

  * Rotate log file ocsmgrd-notify.log instead of overwritting it.
  * Add more prompts to ocs-scan-disk.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 16 May 2017 19:18:08 +0800

clonezilla (3.27.1-drbl1) unstable; urgency=medium

  * Bug fixed: ocsmgrd command with pipe did not protected with nohup.
    It failed when CJK language is used in Jfbterm.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 08 May 2017 03:21:46 +0800

clonezilla (3.26.39-drbl1) unstable; urgency=medium

  * Move the codes about making the ocsmgrd outputs won't be overwritten
    by dialog to ocs-live-feed-img instead of clonezilla.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 07 May 2017 20:23:33 +0800

clonezilla (3.26.38-drbl1) unstable; urgency=medium

  * Bug fixed: squashfs_fmode should be global variable in
    ocs-live-feed-img.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 06 May 2017 21:33:43 +0800

clonezilla (3.26.37-drbl1) unstable; urgency=medium

  * Add parsing boot parameter "ocs_litesrv_mode" for lite server presetting.
    When clonezilla lite server mode is enabled, ocs-live-run-menu won't
    deal with mounting repository and let ocs-live-feed-img to handle that.
    Thanks to Aaron Burling (aaron_burling _at_ lkstevens wednet edu) for
    providing suggestions.
  * Add configuring network if it's not before mounting network file system in
    ocs-live-repository.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 06 May 2017 20:46:26 +0800

clonezilla (3.26.36-drbl1) unstable; urgency=medium

  * Bug fixed: wrong sequence to filter "dbg" kernel in
    get_latest_kernel_ver_in_repository of ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 05 May 2017 17:27:51 +0800

clonezilla (3.26.35-drbl1) unstable; urgency=medium

  * Update function get_latest_kernel_ver_in_repository of ocs-functions
    to exclude "-dbg" kernel.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 05 May 2017 17:12:45 +0800

clonezilla (3.26.34-drbl1) unstable; urgency=medium

  * Bug fixed: Wrong path for ocsmgrd-notify.log.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 02 May 2017 07:07:12 +0800

clonezilla (3.26.33-drbl1) unstable; urgency=medium

  * Read message from language file for prompt.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 01 May 2017 15:48:01 +0800

clonezilla (3.26.32-drbl1) unstable; urgency=medium

  * Use nohup for ocsmgrd to avoid it's terminated when
    jfbterm is finished.
  * Bug fixed: stop service first when clonezilla.lock exists.
    We have to wait for udp-sender to be finished so that when
    CJK locales uses jfbterm, udp-sender won't be terminated
    due to jfbterm is finished.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 01 May 2017 14:41:23 +0800

clonezilla (3.26.31-drbl1) unstable; urgency=medium

  * Arrange the main menu of Clonezilla live as: "device-image",
    "device-device", "remote-source", "remote-dest", "lite-server",
    "lite-client".
    Thanks to Aaron Burling (aaron_burling _at_ lkstevens wednet edu) for
    providing suggestion.
  * Add -ro,--remote-clone-only & -lo,--local-clone-only in ocs-onthefly.
  * Move live-server menu to clonezilla main menu. No more in ocs-sr.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 29 Apr 2017 16:59:32 +0800

clonezilla (3.26.30-drbl1) unstable; urgency=medium

  * Deal with the file permission of filesystem.squashfs for lighttpd
    service. 
    Thanks to Aaron Burling (aaron_burling _at_ lkstevens wednet edu)

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 27 Apr 2017 09:23:07 +0800

clonezilla (3.26.29-drbl1) unstable; urgency=medium

  * Add support for creating Artful-based Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 26 Apr 2017 22:34:22 +0800

clonezilla (3.26.28-drbl1) unstable; urgency=medium

  * Add network configuration when in client interactive mode for ocs-onthefly. 

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 26 Apr 2017 20:02:13 +0800

clonezilla (3.26.27-drbl1) unstable; urgency=medium

  * Add reserved "ask_user" for source IP and device for ocs-onthefly client
    mode.
  * Add another menu "misc-utils" in Clonezilla.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 26 Apr 2017 17:42:27 +0800

clonezilla (3.26.26-drbl1) unstable; urgency=medium

  * Daemon ocsmgrd should not update pxe config in to-upstream mode of
    ocs-live-feed-img.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 23 Apr 2017 20:38:51 +0800

clonezilla (3.26.25-drbl1) unstable; urgency=medium

  * Bug fixed: Make sure dnsmasq is started in order.
  * Unless there is an existing image in /tmp otherwise honor the original
    image name in ocs-live-get-img.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 23 Apr 2017 18:10:16 +0800

clonezilla (3.26.24-drbl1) unstable; urgency=medium

  * Make sure stop function kill all the processes in ocs-live-feed-img.
  * Update some prompts in ocs-live-feed-img.
  * The menu for ocs-live-feed-img now includes both start and stop
    selections.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 23 Apr 2017 13:36:06 +0800

clonezilla (3.26.23-drbl1) unstable; urgency=medium

  * Add PXE service in Clonezilla live lite server.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 22 Apr 2017 16:03:07 +0800

clonezilla (3.26.22-drbl1) unstable; urgency=medium

  * Program prepare-files-for-PXE-client should run after drbl-prepare-pxelinux in
    ocs-live-hook.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 21 Apr 2017 22:54:05 +0800

clonezilla (3.26.21-drbl1) unstable; urgency=medium

  * Use prepare-files-for-PXE-client, the better one, to put the network
    booting files for clients of Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 21 Apr 2017 22:13:04 +0800

clonezilla (3.26.20-drbl1) unstable; urgency=medium

  * Bug fixed: wrong command to create bootx64.efi in live hook when creating
    Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 21 Apr 2017 20:31:57 +0800

clonezilla (3.26.19-drbl1) unstable; urgency=medium

  * Use gen_dnsmasq_cfg to create the config file for dnsmasq
    in ocs-live-feed-img.
  * Create bootx64.efi and put pxelinux.0 in /tftpboot/nbi_img when creating
    Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 21 Apr 2017 19:53:28 +0800

clonezilla (3.26.18-drbl1) unstable; urgency=medium

  * Add the mechanism about report of restoring results.
  * Add prompt about Clonezilla live lite server.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 20 Apr 2017 15:58:57 +0800

clonezilla (3.26.17-drbl1) unstable; urgency=medium

  * Always the network environment mode in ocs-live-feed-img.
  * Add option -nm|--netenv-mode to ocs-live-feed-img.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 19 Apr 2017 20:06:47 +0800

clonezilla (3.26.16-drbl1) unstable; urgency=medium

  * Confine the command to run in the client, i.e., Program
    ocs-live-feed-img only provides parameters to clients
    instead of whole command.
  * Extract creating BT slice files to be a program: ocs-gen-bt-slices

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 19 Apr 2017 15:01:42 +0800

clonezilla (3.26.15-drbl1) unstable; urgency=medium

  * Bug fixed: option '-um' should not be passed to ocs-sr in
    ocs-live-feed-img.
  * Bug fixed: NAT service failed to start due to wrong parameters in
    ocs-live-feed-img.
  * Only output the content ocs-client-run.sh to log in ocs-live-get-img.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 18 Apr 2017 19:49:20 +0800

clonezilla (3.26.14-drbl1) unstable; urgency=medium

  * Preset the user mode when run ocs-live-feed-img in ocs-sr menu.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 18 Apr 2017 18:46:10 +0800

clonezilla (3.26.13-drbl1) unstable; urgency=medium

  * Remove lite-client from ocs-sr interactive menu.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 18 Apr 2017 17:53:36 +0800

clonezilla (3.26.12-drbl1) unstable; urgency=medium

  * Add lite-server and lite-client in ocs-sr menu.
  * Check if ocs-live-feed-img and ocs-live-get-img run in Clonezilla live. If
    not, quit directly.
  * Enable NAT so multicast packets can be sent in ocs-live-feed-img.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 18 Apr 2017 15:19:44 +0800

clonezilla (3.26.11-drbl1) unstable; urgency=medium

  * Bug fixed: wrong uplink_ip in ocs-live-feed-img.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 Apr 2017 21:30:18 +0800

clonezilla (3.26.10-drbl1) unstable; urgency=medium

  * Set the ethernet card status to be up in "In_isolation" mode.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 Apr 2017 19:05:09 +0800

clonezilla (3.26.9-drbl1) unstable; urgency=medium

  * Add modes "To_upstream" and "In_isolation" for ocs-live-feed-img. Since
    bittorrent is not ready yet, "In_isolation" is disabled by default. 

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 Apr 2017 13:55:21 +0800

clonezilla (3.26.8-drbl1) unstable; urgency=medium

  * Bug fixed: clients-to-wait mode failed to run in client.
    Thanks to Aaron Burling (aaron_burling _at_ lkstevens wednet edu)
    for reporting the issue.
  * Add support bittorrent restoring. However, not enabled yet.
  * Put log file in ocs-live-feed-img.log instead of clonezilla.log.
  * Put log in ocs-live-get-img.log instead of clonezilla.log
  * Prompt to avoid running ocs-live-get-img in clonezilla live lite server.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 14 Apr 2017 22:08:26 +0800

clonezilla (3.26.7-drbl1) unstable; urgency=medium

  * Enable different mechanism for creating BT slices with partclone. This is
    controlled by option partclone_make_slice_opt in drbl-ocs.conf.
  * Exclude encrypted image when selecting image in ocs-live-feed-img.
  * Add more outputs from ocs-live-feed-img and ocs-live-get-img in log file.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 13 Apr 2017 10:36:41 +0800

clonezilla (3.26.6-drbl1) unstable; urgency=medium

  * Add more checking in ocs-live-feed-img, including:
    the created ocs-client-run.sh should check if the pseudo image
    downloading is successful, and the extraction of tarball works. 
    Thanks to Aaron Burling (aaron_burling _at_ lkstevens wednet edu)
    for reporting the issue.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 11 Apr 2017 11:15:35 +0800

clonezilla (3.26.5-drbl1) unstable; urgency=medium

  * Bug fixed: batch mode of ocs-live-feed-img failed.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 10 Apr 2017 15:14:42 +0800

clonezilla (3.26.4-drbl1) unstable; urgency=medium

  * Bug fixed for ocs-live-feed-img:
    Even if it's local repository, we still have to configure network
    otherwise the udp-sender won't start.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 10 Apr 2017 12:58:28 +0800

clonezilla (3.26.3-drbl1) unstable; urgency=medium

  * Improve ocs-live-feed-img:
    Choose the destination device instead of inputting it.
    Make sure "restoreparts" mechanism works.
    Add more prompt about unattended mode.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 10 Apr 2017 12:14:38 +0800

clonezilla (3.26.2-drbl1) unstable; urgency=medium

  * Update usage descriptions in ocs-live-feed-img.
  * Enable function to do image checking on server in ocs-live-feed-img.
  * Check if ocs-client-run.sh exists before running in ocs-live-get-img.
  * Update usage descriptions for drbl-cso.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 09 Apr 2017 16:16:40 +0800

clonezilla (3.26.1-drbl1) unstable; urgency=medium

  * Rewrite ocs-live-feed-img and ocs-live-get-img:
    1. Use image tarball for clients to download. The tarball does not
    contain the image files of file system. They will be sent by udpcast.
    2. Improve the whole program. Add complete command line options.
    3. Add prompt about running the program again.
  * Bug fixed: missing option -irvd|--irvd in drbl-ocs.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 09 Apr 2017 13:06:10 +0800

clonezilla (3.25.29-drbl1) unstable; urgency=medium

  * Disable lighttpd by default for clonezilla/drbl live.
  * Add ocs-live-feed-img and ocs-live-get-img so that Clonezilla live can be
    the multicast feeding server, and also be the client to receive multicast
    packets.
  * Improve function feed_multicast_restoreparts so that it can work with
    ocs-live-feed-img.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 07 Apr 2017 07:45:38 +0800

clonezilla (3.25.28-drbl1) unstable; urgency=medium

  * Update partition layout to kernel before EBR is restored.
    Thanks to Ron (https://sourceforge.net/u/norotops/) for reporting.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/c047c8d2/

  * Switch to use transmission-create as the default program to create
    bittorrent metainfo. It is automatic to adjust the piece size and
    counts.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 04 Apr 2017 13:00:54 +0800

clonezilla (3.25.27-drbl1) unstable; urgency=medium

  * Add support to use transmission-create to create metainfo file.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 01 Apr 2017 12:14:30 +0800

clonezilla (3.25.26-drbl1) unstable; urgency=medium

  * Set default piece length for bittorrent as 16 MB.
  * Disable vim defaults so that copy & paste can work in drbl live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 31 Mar 2017 20:14:06 +0800

clonezilla (3.25.25-drbl1) unstable; urgency=medium

  * Boot parameter ocs_live_run_tty in DRBL live should be consistent
    with live-getty console parameters.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 29 Mar 2017 18:42:51 +0800

clonezilla (3.25.24-drbl1) unstable; urgency=medium

  * Make boot parameter ocs_postrun work even ocs-sr is run with
    -p reboot/halt in Clonezilla SE (DRBL live) mode.
    This fixes the issue that reboot/halt was run before ocs_postrun.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 27 Mar 2017 22:07:41 +0800

clonezilla (3.25.23-drbl1) unstable; urgency=medium

  * Add S06pre-run in drbl-live.d again, however, it will honor drbl_prerun*
    instead of ocs_prerun*. Otherwise ocs_prerun* will be run in S06pre-run
    of drbl-live.d and ocs-live-run-menu.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 26 Mar 2017 22:03:11 +0800

clonezilla (3.25.22-drbl1) unstable; urgency=medium

  * Remove prerun and postrun service in drbl live. It's duplicated since we
    have that in ocs-live-run-menu both for DRBL live and Clonezilla live.
    Remove upstart setting, too. It's not used anymore.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 25 Mar 2017 14:14:24 +0800

clonezilla (3.25.21-drbl1) unstable; urgency=medium

  * Add stop-drbl-live and stop-ocs-live services in systemd environment for
    Clonezilla live and DRBL live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Mar 2017 20:41:37 +0800

clonezilla (3.25.20-drbl1) unstable; urgency=medium

  * Bug fix: ocs-expand-gpt-pt should keep space for 2nd GPT table,
    i.e., limit the partition size to the maximum usable sectors
    for a GPT disk (total sectors  34).
    Thanks to Leandro Gustavo Biss Becker <lbecker _at_ positivo com br>
    for providing the patched file.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 21 Mar 2017 13:58:51 +0800

clonezilla (3.25.19-drbl1) unstable; urgency=medium

  * Extract ctorrent and aria2c command options as variables, and put in
    drbl-ocs.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 05 Mar 2017 13:03:59 +0800

clonezilla (3.25.18-drbl1) unstable; urgency=medium

  * Add option "-f" to ctorrent in ocs-btsrv. No need to check the hash
    after mktorrent.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 04 Mar 2017 20:19:48 +0800

clonezilla (3.25.17-drbl1) unstable; urgency=medium

  * Add an option for using another BT client: aria2c.
    Tune ctorrent running options: -M 20 -n 4 (The minimum value for -M is
    20).
  * Move variable bt_client from ocs-btsrv to drbl-ocs.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 04 Mar 2017 16:53:16 +0800

clonezilla (3.25.16-drbl1) unstable; urgency=medium

  * Add a mechanism to check if the BT files should be recreated.
    Info-img-id.txt is added in the image dir for identifying the image.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 25 Feb 2017 12:41:35 +0800

clonezilla (3.25.15-drbl1) unstable; urgency=medium

  * Regenerate the metainfo file (.torrent) when necessary, such as
    server IP address has changed. Not not updating it by perl brutally.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 24 Feb 2017 22:30:58 +0800

clonezilla (3.25.14-drbl1) unstable; urgency=medium

  * Service dnsmasq is the service for dhcpd and tftpd, too.
    With it, no need to re-configure drbl system when running
    ocs-srv-live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 24 Feb 2017 19:12:38 +0800

clonezilla (3.25.13-drbl1) unstable; urgency=medium

  * Update tracker's name when it does not fit the running environment in
    .torrent file in ocs-btsrv.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 24 Feb 2017 16:09:34 +0800

clonezilla (3.25.12-drbl1) unstable; urgency=medium

  * Add generating BT slices for Clonezilla image.
    This is still in experimental status, and partclone >= 0.3.5e is
    required.
  * Fix typos for variable $cat_cmd in ocs-restore-mbr.
  * ocs-btsrv won't regenerate .torrent file if it exists.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 24 Feb 2017 10:20:03 +0800

clonezilla (3.25.11-drbl1) unstable; urgency=medium

  * wait_for_part_table_take_effect of ocs-functions should deal with
    partitions name with extra p, like nvme0n1p1. 
    Thanks Bruno Vila Vilario for reporting this issue.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 02 Feb 2017 08:42:30 +0800

clonezilla (3.25.10-drbl1) unstable; urgency=medium

  * Remove duplicated BOOTUP related codes in function
    ocs-live-env-prepare of ocs-functions and ocs-live-save.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 31 Jan 2017 18:56:00 +0800

clonezilla (3.25.9-drbl1) unstable; urgency=medium

  * Function query_and_install_PKG_TO_QUERY in ocs-live-hook-functions
    should only install those not installed packages. Do not install those
    installed ones, otherwise it might upgrade the package.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 30 Jan 2017 17:31:48 +0800

clonezilla (3.25.8-drbl1) unstable; urgency=medium

  * Bug fixed: temporaty mount point "/tmp/ocsroot_bind_root"
    should be made 1st in ocs-live-bind-mount.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 26 Jan 2017 14:51:40 +0800

clonezilla (3.25.7-drbl2) unstable; urgency=medium

  * Set required drbl version as >= 2.23.12.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 26 Jan 2017 11:13:22 +0800

clonezilla (3.25.7-drbl1) unstable; urgency=medium

  * Adding "only_access_by_owner" as one of the  boot parameters so that it
    can be used like -noabo for ocs-sr.
  * Initial settings of ocs-sr should be before reading
    /etc/ocs/ocs-live.conf so that it can be tuned by boot parameters.
  * Program clonezilla and ocs-live-general were slightly modified.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 09 Jan 2017 16:51:45 +0800

clonezilla (3.25.6-drbl1) unstable; urgency=medium

  * Add an option "-noabo" so that the image can be accessible by others.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 03 Jan 2017 21:57:06 +0800

clonezilla (3.25.5-drbl1) unstable; urgency=medium

  * Use ezio or ezio-static automatically.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 26 Dec 2016 21:18:59 +0800

clonezilla (3.25.4-drbl1) unstable; urgency=medium

  * Do not use ":" in file name for the log file, use "~" instead. e.g.
    xenial-x64-20161104~sda1.log, not xenial-x64-20161104:sda1.log
    Shell does not like file name with ":". 

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 26 Dec 2016 17:58:31 +0800

clonezilla (3.25.3-drbl1) unstable; urgency=medium

  * Add experimental bittorrent restoring codes for assigning max client no.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 24 Dec 2016 16:46:49 +0800

clonezilla (3.25.2-drbl1) unstable; urgency=medium

  * Use ocs-btttrack instead of bttrack in ocs-btsrv.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 24 Dec 2016 16:09:51 +0800

clonezilla (3.25.1-drbl1) unstable; urgency=medium

  * Rewrite codes about partition creation. It's neater now.
  * Add initial codes for bittorrent restoring. Not finished yet.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 12 Dec 2016 15:40:43 +0800

clonezilla (3.24.10-drbl1) unstable; urgency=medium

  * Update descriptions for ocs-iso and ocs-live-dev.
  * Fix typos in the usage for ocs-sr. 
  * Add options -a|--postaction, -x|--extra-boot-param for gen-rec-iso.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 02 Dec 2016 19:46:11 +0800

clonezilla (3.24.9-drbl1) unstable; urgency=medium

  * Add option "-br" in gen-rec-iso.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 01 Dec 2016 09:03:06 +0800

clonezilla (3.24.8-drbl1) unstable; urgency=medium

  * Add local boot menu in the uEFI Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 28 Nov 2016 19:28:30 +0800

clonezilla (3.24.7-drbl1) unstable; urgency=medium

  * Server IP address will be checked only as it's required in drbl-ocs.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 21 Nov 2016 22:23:11 +0800

clonezilla (3.24.6-drbl1) unstable; urgency=medium

  * Remove partprobe command after ocs-scan-disk. It delays the
    GPT partition to be shown in /proc/partitions.
  * Add package xserver-xorg-legacy for drbl-live in program
    create-drbl-live-by-pkg.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 17 Nov 2016 09:33:08 +0800

clonezilla (3.24.5-drbl1) unstable; urgency=medium

  * Filter unsigned kernel in get_latest_kernel_ver_in_repository
    of ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 14 Nov 2016 20:11:52 +0800

clonezilla (3.24.4-drbl1) unstable; urgency=medium

  * Use Packages.xz instead of Packages.gz in function
    get_latest_kernel_ver_in_repository of ocs-functions because
    Packages.gz is not available on Debian repository
    Also use that from amd64, not i386. I.e.,
    binary-amd64/Packages.xz, instead of binary-i386/Packages.gz

  * Choose "Enter_shell" should not give any error. This should fix the
    issue reported at:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/a44f2814
    Thanks to Cyril Ganchev and Bertrando for reporting this issue.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 14 Nov 2016 18:13:12 +0800

clonezilla (3.24.3-drbl1) unstable; urgency=medium

  * Update gen-rec-iso by adding option -k1 in ocs-sr.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 01 Nov 2016 22:11:18 +0800

clonezilla (3.24.2-drbl1) unstable; urgency=medium

  * Avoid showing unrelated error messages in ocs-related-srv.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 25 Oct 2016 22:17:16 +0800

clonezilla (3.24.1-drbl2) unstable; urgency=medium

  * Typo fixied: Make create-ubuntu-live support "Zesty". 

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 25 Oct 2016 16:36:27 +0800

clonezilla (3.24.1-drbl1) unstable; urgency=medium

  * Make create-ubuntu-live support Yakkety. 

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 25 Oct 2016 16:25:15 +0800

clonezilla (3.23.25-drbl1) unstable; urgency=medium

  * Forgot to load grub.cfg-$IP before grub.cfg for uEFI netboot client.
    Thanks to Anshu Arya for reporting this issue.
    Ref: https://sourceforge.net/p/drbl/discussion/DRBL_for_Debian/thread/73a26bf9

  * Run deploy_pxecfg_grubefi_files inside drbl-ocs because the prompt to
    start clonezilla SE service only mentions to run drbl-ocs.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 18 Oct 2016 20:13:31 +0800

clonezilla (3.23.24-drbl1) unstable; urgency=medium

  * Prepare the state dir /var/lib/clonezilla/ in the begining of
    ocs-live-run-menu. 

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 Oct 2016 19:11:34 +0800

clonezilla (3.23.23-drbl1) unstable; urgency=medium

  * Force to make timeout as 60 secs. Debian uses 60, but Ubuntu uses 300.
    Too long. Thanks to Cecile, Adam (Adam.Cecile _at_ hitec lu) for
    reporting this.
  * Bug fixed: remove "light-locker.desktop" instead of
    "xscreensaver.desktop" for DRBL live. We do not want the screen to be
    locked in DRBL live env.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 14 Oct 2016 16:44:52 +0800

clonezilla (3.23.22-drbl1) unstable; urgency=medium

  * Create /var/lib/clonezilla before putting files into that directory.
    This is required for DRBL live client.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 13 Oct 2016 22:34:16 +0800

clonezilla (3.23.21-drbl2) unstable; urgency=medium

  * Update the requred package drbl as correct version. 

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 13 Oct 2016 15:11:48 +0800

clonezilla (3.23.21-drbl1) unstable; urgency=medium

  * Add mechanism to detect bitlocker and Microsoft Reserved
    Partition (MSR) in ocs-get-part-info.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 13 Oct 2016 15:05:29 +0800

clonezilla (3.23.20-drbl1) unstable; urgency=medium

  * Make system reload keyboard-layout and locales if it's changed in
    ocs-live-preload.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 11 Oct 2016 16:54:47 +0800

clonezilla (3.23.19-drbl1) unstable; urgency=medium

  * Add a mechanism to avoid overwriting cmdline twice in
    ocs-live-preload.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 10 Oct 2016 14:32:47 +0800

clonezilla (3.23.18-drbl1) unstable; urgency=medium

  * Skip overwriting /proc/cmdline when no any overwrite* files in /opt.
  * Put new cmdline file in /var/lib/clonezilla/new-cmdline instead of / in
    live system.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 10 Oct 2016 13:35:24 +0800

clonezilla (3.23.17-drbl1) unstable; urgency=medium

  * Show messages about overwriting /proc/cmdline in ocs-live-preload.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 10 Oct 2016 12:17:36 +0800

clonezilla (3.23.16-drbl1) unstable; urgency=medium

  * Now ocs-live-preload check if 
    /opt/{overwrite-all-boot-param,overwrite-part-boot-param}
    exists (Downloaded from root of ocs_preload).
    File overwrite-all-boot-param is to overwrite the whole
    /proc/cmdline, while overwrite-part-boot-param only overwrites
    part of the variables in /proc/cmdline. Especially those
    "ocs_*" parameters.
  * For the universal usage for boot parameters ocs*, put
    double quotation mark for ocs_live_batch in the config file of
    clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 10 Oct 2016 11:56:47 +0800

clonezilla (3.23.15-drbl2) unstable; urgency=medium

  * If ocs-live-preload is run and /etc/ocs-live.conf is updated, we need
    reread it in ocs-live-run-menu after running ocs-live-preload.
    Even if it's not modified, re-read it won't cause any problem.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 09 Oct 2016 17:21:20 +0800

clonezilla (3.23.14-drbl1) unstable; urgency=medium

  * When /opt/overwrite-boot-param exists, overwrite /proc/cmdline.
    Thanks to Aaron Burling (aaron_burling _at_ lkstevens wednet edu)
    for this idea and providing sample codes.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 09 Oct 2016 15:15:53 +0800

clonezilla (3.23.13-drbl1) unstable; urgency=medium

  * The drbl/clonezilla live version info will be put in /etc/ocs/ocs-live.conf,
    and when an image is saved, the info will be saved in Info-packages.txt.
  * A workaround to avoid the warning:
    continue: only meaningful in a `for', `while', or `until' loop
    Because >= bash 4.4 raises it as a warning, and then continue won't be run.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 08 Oct 2016 16:29:27 +0800

clonezilla (3.23.12-drbl1) unstable; urgency=medium

  * Bug fixed: typo, therefore return wrong result in function
    check_if_disk_busy.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 07 Oct 2016 20:46:11 +0800

clonezilla (3.23.11-drbl1) unstable; urgency=medium

  * Rewrite functios in ocs-functions, including:
    check_if_disk_busy_before_create_partition &
    check_if_disk_busy.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 06 Oct 2016 22:38:54 +0800

clonezilla (3.23.10-drbl1) unstable; urgency=medium

  * Inform kernel partition changes only when disk is not busy. This should
    solve the issue:
    https://sourceforge.net/p/clonezilla/bugs/265/

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 05 Oct 2016 22:41:14 +0800

clonezilla (3.23.9-drbl1) unstable; urgency=medium

  * Remove "nodmraid" from boot parameters in drbl-ocs.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 02 Oct 2016 20:49:38 +0800

clonezilla (3.23.8-drbl1) unstable; urgency=medium

  * Boot parameter ocs_overwrite_postaction has higher priority than the
    action assigned by option "-p" in ocs-sr, and "-pa" in ocs-onthefly.
    The value for ocs_overwrite_postaction is:
    [choose|reboot|poweroff]-on-[restoredisk|restoreparts|savedisk|saveparts|clone]
    E.g., choose-on-restoredisk means the postaction for restoredisk will
    always be choose no matter what is assigned in -p of ocs-sr or -pa of
    ocs-onthefly.
    Thanks to Aaron Burling (aaron_burling _at_ lkstevens wednet edu)
    for this idea.
  * Add option -sfsck in the menu for ocs-onthefly.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 01 Oct 2016 14:57:28 +0800

clonezilla (3.23.7-drbl1) unstable; urgency=medium

  * Program ocs-live-repository should honor boot param ocs_live_batch with
    higher priority.
  * Program ocs-live-preload should read /etc/ocs-live.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 28 Sep 2016 16:15:13 +0800

clonezilla (3.23.6-drbl1) unstable; urgency=medium

  * If batch mode is on, no need to confirm in ocs-sr saving mode.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 26 Sep 2016 22:47:14 +0800

clonezilla (3.23.5-drbl1) unstable; urgency=medium

  * Add options -sfsck and -senc in the Clonezilla live interactive menu.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 17 Sep 2016 14:12:50 +0800

clonezilla (3.23.4-drbl1) unstable; urgency=medium

  * Show the abortion prompt by pressing Ctrl-C during reboot/poweroff.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 12 Sep 2016 16:24:54 +0800

clonezilla (3.23.3-drbl1) unstable; urgency=medium

  * Pause when error occurs in the end of Clonezilla live if not
    in batch mode.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 11 Sep 2016 16:01:54 +0800

clonezilla (3.23.2-drbl1) unstable; urgency=medium

  * Save variable ocs_cmd in /var/lib/clonezilla/ocs-vars so later it can be
    used.
  * Show messages about removing source or destination disk in interactive
    mode after cloning is finished.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 09 Sep 2016 18:58:08 +0800

clonezilla (3.23.1-drbl1) unstable; urgency=medium

  * Ask the post action (choose, reboot, poweroff) before starting cloning.
    Replace variable postrun with postaction.
    Thanks to Aaron Burling (aaron_burling _at_ lkstevens wednet edu) for this idea.
  * Add new boot paramater ocs_sshd_port so that the non-standard port of
    sshd can be assigned. Thanks to rj555 for asking this.
    Ref:
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/0add50dd

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 08 Sep 2016 20:21:19 +0800

clonezilla (3.22.23-drbl1) unstable; urgency=medium

  * Failed to create the checksum files for files in LV, i.e. when
    option "-gmf" or "-cmf" is enabled.
    Thanks to Mircea Dan.
    Ref: https://sourceforge.net/p/clonezilla/bugs/260/
  * Change /proc/sys/vm/highmem_is_dirtyable to 1 when running i686 Linux
    kernel and the RAM size is larger than 8 GB.
    Thanks to Little Vulpix for this suggestion.
    Ref: 
    https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/ba31ffc8

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 30 Aug 2016 14:51:04 +0800

clonezilla (3.22.22-drbl1) unstable; urgency=medium

  * Check if PV of LVM is listed in the device to be backuped. If so, 
    stop LVM first in ocs-clean-part-fs.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 23 Aug 2016 21:04:12 +0800

clonezilla (3.22.21-drbl1) unstable; urgency=medium

  * Save ocs-related variables in /var/lib/clonezilla/ocs-vars so that
    the customized program can use. Thanks to Aaron Burling
    (aaron_burling _at_ lkstevens wednet edu) for this idea.
  * Program ocs-clean-part-fs was added to clean the file system/LVM info in
    every partition of the assigned disk.
  * Clean file system/LVM info before creating partition table. Thanks to
    Mircea Dan (byreal _at_ users sf net) and Pete Morris
    (morrispj _at_ jmu edu) for reporting this issue.
    Ref: https://sourceforge.net/p/clonezilla/bugs/254/

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 11 Aug 2016 17:08:38 +0800

clonezilla (3.22.20-drbl1) unstable; urgency=medium

  * Drop the support for boot paramter ocs_chk_img and ocs_fsck_src_part
    in drbl-functions. Only honor the options of ocs-sr by "-scr", "-scs",
    "-fsck", "-fsck-y".
  * Make something like "ocs-sr -x -scr" work. It won't ask about if
    "-scr" should be used or not. Thanks to Aaron for reporting this issue.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 07 Aug 2016 21:13:23 +0800

clonezilla (3.22.19-drbl1) unstable; urgency=medium

  * Disable service systemd-timesyncd in GParted live, too.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 24 Jul 2016 21:39:38 +0800

clonezilla (3.22.18-drbl1) unstable; urgency=medium

  * Disable service systemd-timesyncd.
    Clonezilla live and DRBL live should not touch the system time, even for
    the BIOS it should not.
    Thanks to Rick and rfried for reporting this issue.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/b2667447

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 24 Jul 2016 14:09:50 +0800

clonezilla (3.22.17-drbl1) unstable; urgency=medium

  * Program ocs-run-boot-param was added to run for boot parameters
    ocs_prerun, ocs_postrun, ocs_savedisk_prerun, ocs_saveparts_prerun,
    ocs_restoredisk_prerun, and ocs_restoreparts_prerun.
    E.g. ocs-live-prerun -> ocs-run-boot-param ocs_prerun
    With this, ocs-live-prerun and ocs-live-postrun were removed.
  * Add entry points for ocs_savedisk_prerun, ocs_saveparts_prerun,
    ocs_restoredisk_prerun, and ocs_restoreparts_prerun in ocs-sr.
    Thanks to Aaron Burling (aaron_burling _at_ lkstevens wednet edu)
    for these ideas.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 22 Jul 2016 22:26:38 +0800

clonezilla (3.22.16-drbl1) unstable; urgency=medium

  * Adding xserver-xorg-legacy to let non-root user can run startx
    since we use startx in GParted live. 
    Ref: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=807015

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 22 Jul 2016 13:29:15 +0800

clonezilla (3.22.15-drbl1) unstable; urgency=medium

  * Remove "noeject" from the boot parameters. Now live-medium-eject
    from live-tool and the program eject should work. Systemd is supported
    by live-tool 20151214+nmu1.drbl1 with patch from drbl:
    http://bugs.debian.org/831830

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 21 Jul 2016 09:37:14 +0800

clonezilla (3.22.14-drbl1) unstable; urgency=medium

  * Bug fixed: if image is the first one or last one, the
    BrowseCurrentDirectory failed to identify that as clonezilla image
    even it is. The previous did not work.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 19 Jul 2016 19:47:49 +0800

clonezilla (3.22.13-drbl1) unstable; urgency=medium

  * Add an option to retry when ocs-live-preload fails to mount netfs.
    Thanks to Aaron Burling (aaron_burling _at_ lkstevens wednet edu)
    for this suggestion.
  * Bug fixed: if image is the first one or last one, the
    BrowseCurrentDirectory failed to identify that as clonezilla image
    even it is.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 19 Jul 2016 10:18:11 +0800

clonezilla (3.22.12-drbl1) unstable; urgency=medium

  * Move function get_dir_filesystem from drbl-functions to ocs-functions.
    Use findmnt instead of df to get the file system for a mountpoint.
  * Show sshfs file system when it's mounted in prep-ocsroot.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 18 Jul 2016 22:45:18 +0800

clonezilla (3.22.11-drbl1) unstable; urgency=medium

  * Avoid wrongly parsing dir as clonezilla image in function
    BrowseCurrentDirectory of ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 17 Jul 2016 11:05:26 +0800

clonezilla (3.22.10-drbl1) unstable; urgency=medium

  * Add options "-c" and "-f" for ocs-live-prerun and ocs-live-postrun.
  * Check every boot parameter ocs_prerun*, ocs_postrun*, and ocs_preload*
    has been successfully run or not. Not only the whole program. If it has
    been successfully run, a tag file will be created in /var/lib/clonezilla,
    and the next run won't run it again unless option "-f" is used.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 16 Jul 2016 20:49:45 +0800

clonezilla (3.22.9-drbl1) unstable; urgency=medium

  * Applied patches from Aaron Burling, including
    Group dirs in BrowseCurrentDirectory:
    First is .. (Parent Directory) (if applicable),
    second is subdirectories,
    third is cz_img directories,
    fourth is Exit/Abort option.
    Prompt word "00-Exit" has been changed to <ABORT> and moved to the
    bottom of menu.

  * Make ocs-live-repository to be run again after rerun1 is run again.
  * Honor ocs_user_subdir in boot parameters so that ocs-live-bind-mount will
    be run in ocs-live-repository.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 15 Jul 2016 10:55:17 +0800

clonezilla (3.22.8-drbl1) unstable; urgency=medium

  * Only include gnupg in the base system. Forget about gnupg2.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 11 Jul 2016 22:08:42 +0800

clonezilla (3.22.7-drbl1) unstable; urgency=medium

  * Due to apt>=1.3~pre2 only recommends gnupg/gnupg2, not list them as
    must, therefore gnupg and gnupg2 have to be included in DEBOOTSTRAP.
    ref: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=830696

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 11 Jul 2016 14:48:44 +0800

clonezilla (3.22.6-drbl1) unstable; urgency=medium

  * Programs ocs-live-preload and ocs-live-repository will honor the tag file
    not to be run again if they have been run successfully starting Clonezilla
    main menu again.
  * Make a prompt about bind mount for different locales. 

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 10 Jul 2016 21:12:00 +0800

clonezilla (3.22.5-drbl1) unstable; urgency=medium

  * Improve image repository browsing:
    (1) Add an option to exit dir browsing.
    (2) Tag directory contains no sub dir.
    (3) Allow bind mount dir without any image so it can be the repository
        for saving only.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 08 Jul 2016 13:44:04 +0800

clonezilla (3.22.4-drbl1) unstable; urgency=medium

  * Bug fixed: missing ocsroot medium description in ocs-live-final-action.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 08 Jul 2016 11:19:19 +0800

clonezilla (3.22.3-drbl1) unstable; urgency=medium

  * Rewrite ocs-live-final-action and ocs-live-run-menu so that rerun3
    can work with locales in non-en_US.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 07 Jul 2016 22:15:00 +0800

clonezilla (3.22.2-drbl1) unstable; urgency=medium

  * Use ocs-live-bind-mount to bind mount the subdir as image repository
    for local device mounting.
  * A menu about bind mount subdir was added in prep-ocsroot and
    ocs-live-final-action.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 07 Jul 2016 19:29:26 +0800

clonezilla (3.22.1-drbl1) unstable; urgency=medium

  * Add a new mechanism to browse the image repository and bind mount the sub
    directory. Thanks to Aaron Burling (aaron_burling _at_ lkstevens wednet edu)
    for providing sample codes.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 06 Jul 2016 20:01:16 +0800

clonezilla (3.21.35-drbl1) unstable; urgency=medium

  * When option "-k1" or "-k2" of ocs-onthefly in TUI is chosen,
    "-icds" is on automatically.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 27 Jun 2016 19:27:56 +0800

clonezilla (3.21.34-drbl1) unstable; urgency=medium

  * Wrong path for copying files in ocs-live-dev, create-drbl-live, and
    create-gparted-live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 27 Jun 2016 10:15:26 +0800

clonezilla (3.21.33-drbl1) unstable; urgency=medium

  * Better way to deal with batch mode or not in ocs-live-repository.
  * If mounting fails, ocs-live-run-menu should exit, not continue.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 27 Jun 2016 08:16:38 +0800

clonezilla (3.21.32-drbl1) unstable; urgency=medium

  * Slightly improve the speed to get file system info, and
    also add converting "0xf" as extended in ocs-get-part-info.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 26 Jun 2016 16:38:32 +0800

clonezilla (3.21.31-drbl1) unstable; urgency=medium

  * Set mounting smb part as non-interactive mode in ocs-live-repository.
  * If ocs-live-repository fails, show the ocs-live-final-action menu in
    ocs-live-run-menu.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 26 Jun 2016 09:35:45 +0800

clonezilla (3.21.30-drbl1) unstable; urgency=medium

  * "ask_user" can be the username to let user input for SSH server in
    ocs-live-repository.
  * The failing mounting for sshfs (fuse) can not be detected by mountpoint.
    Use another method to test and unmount it in prepare_mnt_point_ocsroot
    of ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 25 Jun 2016 21:26:37 +0800

clonezilla (3.21.29-drbl1) unstable; urgency=medium

  * Add fuse.cloudfuse in the messages of prep-ocsroot.
  * Provide an option to mount image repsitory again when failing in
    ocs-live-repository. "ask_user" can be used as the Samba domain
    and account in the URI so that user can input their own names.
    Thanks to Aaron Burling (aaron_burling _at_ lkstevens wednet edu)
    for these ideas.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 25 Jun 2016 16:48:39 +0800

clonezilla (3.21.28-drbl1) unstable; urgency=medium

  * Bug fixed: failed to get all partitions for multiple disks which was
    introduced in clonezilla 3.21.26.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 21 Jun 2016 14:05:46 +0800

clonezilla (3.21.27-drbl1) unstable; urgency=medium

  * Use shorter name for fsck-related options, i.e.
    "-fsck-src-part" is replaced by "-fsck", and 
    "-fsck-src-part-y" is replaced by "-fsck-y".

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 21 Jun 2016 11:07:31 +0800

clonezilla (3.21.26-drbl1) unstable; urgency=medium

  * Reuse the parsed partition info when detecting the data/swap/extended
    partitions. Thanks to starnavi for this suggestion.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/
         thread/ba256b4b

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 20 Jun 2016 22:56:54 +0800

clonezilla (3.21.25-drbl1) unstable; urgency=medium

  * Add support for device /dev/nbd. Thanks to Mircea Dan for this
    suggestion.
    Ref: https://sourceforge.net/p/clonezilla/discussion/Help/
         thread/d2d2a480/

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 20 Jun 2016 10:36:01 +0800

clonezilla (3.21.24-drbl1) unstable; urgency=medium

  * Restore MBR data (executable code area) even it's GPT disk.
    Some OS, e.g. ESXi 5.5 need that.
    Ref: https://sourceforge.net/p/clonezilla/discussion/
         Clonezilla_live/thread/30662778/

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 19 Jun 2016 20:44:09 +0800

clonezilla (3.21.23-drbl1) unstable; urgency=medium

  * If no ocs_repository is assigned in boot parameters,
    ocs-live-repository shoule just exit.
    Nothing should be shown except the exit code.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 18 Jun 2016 20:28:06 +0800

clonezilla (3.21.22-drbl1) unstable; urgency=medium

  * Add a mechanism so that image repository can be auto mounted with boot
    parameter ocs_repository in URI format, e.g. 
    ocs_repository="dev:///dev/sdf1"
    or
    ocs_repository="smb://wa-domain;jack:mypass@192.168.7.25/images"
    Thanks to Aaron Burling (aaron_burling _at_ lkstevens wednet edu)
    for this idea.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 18 Jun 2016 18:01:48 +0800

clonezilla (3.21.21-drbl1) unstable; urgency=medium

  * Update toram mode as "live,syslinux" of ocs-live-boot-menu 
    when it's assigned as live because for DRBL live the config
    file in syslinux dir is required.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 16 Jun 2016 13:06:23 +0800

clonezilla (3.21.20-drbl1) unstable; urgency=medium

  * To work with toram=live in the patched live-boot, the version tag file of
    clonezilla/drbl/gparted live system is put in dir "live", too. 

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 16 Jun 2016 06:03:06 +0800

clonezilla (3.21.19-drbl1) unstable; urgency=medium

  * Use the patched live-boot so that the option toram=live could be used
    in drbl live to copy the "live" directory only, not all the files
    from live media.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 15 Jun 2016 14:46:26 +0800

clonezilla (3.21.18-drbl1) unstable; urgency=medium

  * Add supporting for grub on EBR imaging and cloning. Thanks to
    Bill Wright (bill _at_ blug org) for reporting this issue.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 14 Jun 2016 17:11:01 +0800

clonezilla (3.21.17-drbl1) unstable; urgency=medium

  * Modern mkswap support option to assign UUID. No more using
    mkswap-uuid.
  * Due to the change in Debian Sid that "init" is not essential any more.
    It has to be added as a required package for gparted live.
    Ref: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=756023

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 07 Jun 2016 12:42:22 +0800

clonezilla (3.21.16-drbl1) unstable; urgency=medium

  * Use xz format for drbl tarball for Debian.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 06 Jun 2016 11:55:59 +0800

clonezilla (3.21.15-drbl1) unstable; urgency=medium

  * Program ocs-live-preload now support for preloading files from netfs,
    including cifs and nfs.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 04 Jun 2016 22:17:43 +0800

clonezilla (3.21.14-drbl1) unstable; urgency=medium

  * Add option "-p" to gen-rec-usb and gen-rec-iso so that the device
    to be restored can be preset.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 01 Jun 2016 05:59:26 +0800

clonezilla (3.21.13-drbl1) unstable; urgency=medium

  * Add option "--allow-downgrades" for apt in case we need to downgrade
    the version. Changes for files: create-debian-live, create-drbl-live,
    create-gparted-live, create-ubuntu-live.
  * Use iproute2 to get MAC address and IP address info in
    ocs-chnthn-functions. Thanks to Richard Stanway for the patch.
    https://github.com/stevenshiau/clonezilla/pull/22

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 29 May 2016 21:53:11 +0800

clonezilla (3.21.12-drbl1) unstable; urgency=medium

  * Bug fixed: renaming live image extension to .tar when using tar. 
    Thanks to minh hieu trinh for reporting this.
    https://sourceforge.net/p/clonezilla/bugs/251/

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 22 May 2016 16:46:42 +0800

clonezilla (3.21.11-drbl1) unstable; urgency=medium

  * Remove /etc/network/if-up.d/ntpdate in DRBL/Clonezilla live. We
    should not touch the system/bios time when network is up unless
    user manually runs ntpdate.
  * If image is not checked on sever, client should not check unless
    it's select_in_client mode. Fixed in drbl-ocs.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 22 May 2016 14:38:07 +0800

clonezilla (3.21.10-drbl1) unstable; urgency=medium

  * Program ocs-live-preload should deal with whitespace file name from zip
    file. Thanks to Aaron Burling for this bug report.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 19 May 2016 08:50:37 +0800

clonezilla (3.21.9-drbl1) unstable; urgency=medium

  * Add option "-c" to ocs-srv-live so that it can be used to assign
    the client number as NO for each network card connected to clients.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 16 May 2016 10:17:45 +0800

clonezilla (3.21.8-drbl1) unstable; urgency=medium

  * Use opton "-o" for drbl-sl in drbl-ocs-live-prep.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 15 May 2016 12:10:51 +0800

clonezilla (3.21.7-drbl1) unstable; urgency=medium

  * Besides a tarball/zip, add support downloading a script only
    for ocs-live-preload.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 13 May 2016 11:14:09 +0800

clonezilla (3.21.6-drbl1) unstable; urgency=medium

  * Set the script extracted from zip to mode 755 in ocs-live-preload.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 13 May 2016 06:07:58 +0800

clonezilla (3.21.5-drbl1) unstable; urgency=medium

  * Update description of ocs-live-preload.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 11 May 2016 19:41:36 +0800

clonezilla (3.21.4-drbl2) unstable; urgency=medium

  * Update changelog. 

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 11 May 2016 16:50:31 +0800

clonezilla (3.21.4-drbl1) unstable; urgency=medium

  * Remove the typo, extra character ")" in wget options of
    ocs-live-preload.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 11 May 2016 15:07:42 +0800

clonezilla (3.21.3-drbl1) unstable; urgency=medium

  * Add support for boot parameter ocs_preload* which can be used to fetch and
    extract tarball/zip file in /opt/.
  * Add support for boot parameter ocs_preload*. It can be used to
    fetch tar/zip files from http(s), ftp, tftp, and local URL then
    extract to /opt/. Thanks to Aaron Burling
    (aaron_burling _at_ lkstevens wednet edu) for this idea and
    providing sample codes.
  * Change DRBL_GPG_KEY_URL to that on drbl.org in drbl-ocs.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 11 May 2016 15:00:29 +0800

clonezilla (3.21.2-drbl1) unstable; urgency=medium

  * Add batch mode in ocs_success_mountpoint of ocs-functions.
  * Add gen-rec-iso in the sample files.
  * Add option "-scr" in gen-rec-usb.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 05 May 2016 21:46:54 +0800

clonezilla (3.21.1-drbl1) unstable; urgency=medium

  * Add initial support for creating Ubuntu-based Clonezilla live
    with Yakkety.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 02 May 2016 16:58:41 +0800

clonezilla (3.20.36-drbl1) unstable; urgency=medium

  * ALT+F5 invokes dangerous & irreversible program xkill, should
    not be on a kb shortcut in GParted live.
    Ref: https://bugzilla.gnome.org/show_bug.cgi?id=703400 

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 29 Apr 2016 10:19:29 +0800

clonezilla (3.20.35-drbl1) unstable; urgency=medium

  * Update the control files.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 21 Apr 2016 09:29:46 +0800

clonezilla (3.20.34-drbl1) unstable; urgency=medium

  * Add package ca-certificates for GParted live. 

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 21 Apr 2016 09:28:02 +0800

clonezilla (3.20.33-drbl1) unstable; urgency=low

  * Bug fixed: Use "toram" instead of "toram=filesystem.squashfs"
    so that vmlinuz and initrd.img can be found and use in DRBL live env.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 30 Mar 2016 16:26:15 +0800

clonezilla (3.20.32-drbl1) unstable; urgency=low

  * Udate prompt in function get_input_dev_name of ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 21 Mar 2016 09:09:11 +0800

clonezilla (3.20.31-drbl1) unstable; urgency=low

  * Use lsblk in ocs-get-part-info to get partition type which is
    faster than from parted.
  * Show progress as finding partitions number in ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 15 Mar 2016 12:11:48 +0800

clonezilla (3.20.30-drbl1) unstable; urgency=low

  * Remove ocs-devsort since now "sort -V" is used.
  * Add watch ocs-scan-disk for local block device in prep-ocsroot.
  * Update usage description of option "-p" in mdisks-checksum.
  * Now all the supported GNU/Linux has option "-V" for sort, so just
    use it instead of using the function get_sort_V_opt to decide in
    ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 14 Mar 2016 21:32:56 +0800

clonezilla (3.20.29-drbl1) unstable; urgency=low

  * Default to run job in parallel in mdisks-checksum.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 10 Mar 2016 19:04:44 +0800

clonezilla (3.20.28-drbl1) unstable; urgency=low

  * Add a mode "check-then-label" or "ctl" to mdisks-checksum.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 10 Mar 2016 09:34:47 +0800

clonezilla (3.20.27-drbl1) unstable; urgency=low

  * Add option -n to mdisks-checksum.
  * Update prompt about checksum in ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 09 Mar 2016 19:42:37 +0800

clonezilla (3.20.26-drbl1) unstable; urgency=low

  * Program mdisks-checksum failed to copy checksum log files due to
    function get_chksum_info_from_img did not work in some cases.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 09 Mar 2016 16:59:25 +0800

clonezilla (3.20.25-drbl1) unstable; urgency=low

  * Add option "-i" for fatresize in ocs-resize-part. This seems to avoid
    an issue about resized file system can not be read on MS Windows,
    while it is OK on GNU/Linux.
  * By default no parallel jobs for ocs-match-checksum. An option "-p" can
    be used to enable that.
  * Only show image with checksum info when running in mode "check" in
    mdisks-checksum.
  * Bug fixed: no md5sum files were put to repository and destination disks in
    the previous version of mdisks-checksum.
  * Show partition info in pv output when inspecting checksum.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 09 Mar 2016 15:36:29 +0800

clonezilla (3.20.24-drbl1) unstable; urgency=low

  * Add function get_chksum_info_from_img in ocs-functions and use it in
    related programs.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 09 Mar 2016 09:53:59 +0800

clonezilla (3.20.23-drbl1) unstable; urgency=low

  * Bug fixed: failed to handle file name with white space in function
    gen_chksum_for_files_in_dev of ocs-functions.
  * The file path in *.md5 should only be replaced with CHKSUM_TMPD when
    it's not empty by mdisks-checksum.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 08 Mar 2016 13:27:05 +0800

clonezilla (3.20.22-drbl1) unstable; urgency=low

  * Trap the mount point for checksum mechanism to unmount it when exiting
    checksum mechanism.
  * Add another mode "check" to the sample file mdisks-checksum.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 07 Mar 2016 21:35:17 +0800

clonezilla (3.20.21-drbl1) unstable; urgency=low

  * Update related programs to fit that the Clonezilla live arch in
    stable release now only supports i686, no more i586. 

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 07 Mar 2016 09:49:42 +0800

clonezilla (3.20.20-drbl1) unstable; urgency=low

  * Improve efficiency for generating checksum and show better progress
    output.
  * Add a better mechanism to wait for kernel showing partition
    after partition table is created.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 06 Mar 2016 18:01:53 +0800

clonezilla (3.20.19-drbl1) unstable; urgency=low

  * ocs-match-checksum: Show only image with checksum, log more outputs, and
    run checksum inspection for multiple disks in parallel.
  * Allow max 11 characters for vfat in ocs-label-dev.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 05 Mar 2016 21:39:22 +0800

clonezilla (3.20.18-drbl1) unstable; urgency=low

  [Ceasar Sun]
  * Make ocs-install-grub work on opensuse leap 42.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 03 Mar 2016 09:52:57 +0800

clonezilla (3.20.17-drbl1) unstable; urgency=low

  * Rename ocs-match-chksum as ocs-match-checksum. 
  * Bug fixed for mdisks-checksum: the interactive mode should be different
    for save and restore modes.
  * Use --line-mode for pv in the function inspect_chksum_for_files_in_dev
    of ocs-functions, and move pv command after checksum so that when only a
    few files to be checked, it won't just show 100%.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 01 Mar 2016 15:25:46 +0800

clonezilla (3.20.16-drbl1) unstable; urgency=low

  * Tune label and remove temp dir in mdisks-checksum.
  * Show precise message when exiting in ocs-label-dev.
  * Add new program ocs-match-chksum to match checksum in the
    image and files in the block device.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 29 Feb 2016 21:26:07 +0800

clonezilla (3.20.15-drbl1) unstable; urgency=low

  * Check input mode earlier in mdisks-checksum.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 27 Feb 2016 10:19:10 +0800

clonezilla (3.20.14-drbl1) unstable; urgency=low

  * Move inspect_chksum_for_files_in_dev after ocs-resize-part in
    ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 27 Feb 2016 00:13:58 +0800

clonezilla (3.20.13-drbl1) unstable; urgency=low

  * Add option "-i" for mdisks-checksum. 
  * Add interactive mode for image and disks selection in mdisks-checksum.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 26 Feb 2016 08:41:53 +0800

clonezilla (3.20.12-drbl1) unstable; urgency=low

  * Update output file names for mdisks-checksum.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 22 Feb 2016 16:02:39 +0800

clonezilla (3.20.11-drbl1) unstable; urgency=low

  * Rename custom-ocs-3 as mdisks-checksum. It's easier to tell.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 22 Feb 2016 15:17:33 +0800

clonezilla (3.20.10-drbl1) unstable; urgency=low

  * Add -nogui and modify output file names for custom-ocs-3.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 22 Feb 2016 15:09:47 +0800

clonezilla (3.20.9-drbl1) unstable; urgency=low

  * The new example file custom-ocs-3 was added. It is used to save or restore
    disk with checksum mechanism enabled. Especially for deploying multiple
    disks.
  * Add new utility file "ocs-label-dev". It can be used to label a file
    system partition name.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 22 Feb 2016 13:22:38 +0800

clonezilla (3.20.8-drbl1) unstable; urgency=low

  * When inspecting checksum, do not use "-a" for pv to avoid confusion.
  * Add checksum results log file, e.g. /var/log/sda-md5sum-results.log.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 18 Feb 2016 21:36:28 +0800

clonezilla (3.20.7-drbl1) unstable; urgency=low

  * Replace qalculate-gtk with calcoo for GParted live. It's lighter.
  * Add calculator in menu for GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 18 Feb 2016 08:52:59 +0800

clonezilla (3.20.6-drbl1) unstable; urgency=low

  * Better way to deal with checksum generation part in ocs-onthefly.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 16 Feb 2016 17:27:14 +0800

clonezilla (3.20.5-drbl1) unstable; urgency=low

  * The log file is renamed as ${image_name}_mdisks_{disk_name}.log,
    and put in /var/log instead of /tmp.
  * Show device info when checksum does not match.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 16 Feb 2016 14:42:40 +0800

clonezilla (3.20.4-drbl1) unstable; urgency=low

  * Send the otuput of checksum to log file, too.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 16 Feb 2016 11:41:43 +0800

clonezilla (3.20.3-drbl1) unstable; urgency=low

  * Add option "-f" for pv when generating and inspecting the
    checksum of files in device. This allows ocs-restore-mdisks to
    show the status when running in virtual terminal (tee).

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 16 Feb 2016 11:03:55 +0800

clonezilla (3.20.2-drbl1) unstable; urgency=low

  * To avoid the truncation difference, just use byte in pv instead
    of kB for checksum inspection mechanism.
  * Bug fixed: forgot to put variable chksum_cmd_for_files_in_dev
    for checksum mechanism in drbl-ocs.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 16 Feb 2016 08:48:13 +0800

clonezilla (3.20.1-drbl1) unstable; urgency=low

  * ocs-cvtimg-comp displays the total elapsed time when converting
    compression.
  * For better compability, the mktemp in ocs-iso and ocs-live-dev 
    uses 6 consecutive 'X's, not 5 ones.
  * Bug fixed: remove option "-c" might also remove "-cmf" or "-cm"
    in ocs-restore-mdisks.
  * Add files checksum mechanism for ocs-sr (-gmf/-cmf) and ocs-onthefly
    (-cmf).

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 15 Feb 2016 23:13:26 +0800

clonezilla (3.19.17-drbl1) unstable; urgency=low

  * Revert Ubuntu mirror defaults to the one from nchc in drbl-ocs.conf.
  * Update function check_if_apple_mac with an extra check when dmidecode
    fails to obtain info in update-efi-nvram-boot-entry. This makes sure 
    efibootmgr won't be run on Apple machine.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 03 Feb 2016 12:12:16 +0800

clonezilla (3.19.16-drbl1) unstable; urgency=low

  [Ceasar Sun]
  * Add /EFI/Microsoft/Boot/bootmgfw.efi for MS Windows, and move
    /EFI/Boot/bootx64.efi to the last one in known_efi_boot_file_chklist.
  * Add option "-iefi|--ignore-update-efi-nvram" for drbl-ocs.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 02 Feb 2016 15:45:54 +0800

clonezilla (3.19.15-drbl1) unstable; urgency=low

  * Make ocs-onthefly work for different types of disk cloning, e.g.
    nvme0n1 -> sda.
  * Add functions replace_disk_name_in_file and replace_disk_name_stdin 
    in ocs-functions so that the disk name replacing can use.
    This is special for different types of disk name,
    e.g. nvme0n1 -> sda.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 19 Jan 2016 21:28:50 +0800

clonezilla (3.19.14-drbl1) unstable; urgency=low

  * Make ocs-onthefly work for nvme device cloning,
    e.g. nvme0n1 -> nvme1n1.
  * Use wipefs also to clean the file system when cleaning file
    system header.
  * Bug fixed: get_swap_partition_parted_format of ocs-functions failed to
    return correct partition name for devices
    cciss*|mmcblk*|md*|rd*|ida*|nvme*.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 18 Jan 2016 22:32:24 +0800

clonezilla (3.19.13-drbl1) unstable; urgency=low

  * Disk to disk clonging for NVME device failed to check the destination
    disk size.
  * Expand NVME support to disk device name like /dev/nvme0n2, and
    /dev/nvme0n3 instead of /dev/nvme0n1 only.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 18 Jan 2016 11:47:01 +0800

clonezilla (3.19.12-drbl1) unstable; urgency=low

  * Bug fixed: failed to set local boot for uEFI network boot clients
    when using "-y0" option of drbl-ocs.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 16 Jan 2016 16:05:56 +0800

clonezilla (3.19.11-drbl1) unstable; urgency=low

  * Packages libpam-systemd and hence dbus are required for GParted live,
    otherwise keyboard and mouse won't work in X after Sid >= Jan 2016.
    Package policykit-1 is also added similar to that for lightdm.
    Thanks to Curtis for Gedak. 
    (https://lists.debian.org/debian-user/2015/10/msg01529.html)

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 13 Jan 2016 08:50:53 +0800

clonezilla (3.19.10-drbl1) unstable; urgency=low

  * Since ttf-kochi-gothic is not available in Debian Sid, change to use 
    fonts-hanazono for GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 12 Jan 2016 08:09:26 +0800

clonezilla (3.19.9-drbl1) unstable; urgency=low

  * Bug fixed: Fix missing background image with Grub2 config file
    created by ocs-live-boot-menu. Thanks to Joey3000.
    (https://github.com/stevenshiau/clonezilla/pull/19).

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 10 Jan 2016 19:24:26 +0800

clonezilla (3.19.8-drbl1) unstable; urgency=low

  * Since ttf-kochi-gothic is not available in Debian Sid, change to use 
    fonts-hanazono for DRBL live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 05 Jan 2016 21:29:21 +0800

clonezilla (3.19.7-drbl1) unstable; urgency=low

  * Add support Ubuntu 16.04 (xenial) in create-ubuntu-live.


 -- Steven Shiau <steven@nchc.org.tw>  Fri, 25 Dec 2015 09:13:57 +0800

clonezilla (3.19.6-drbl1) unstable; urgency=low

  * The deprecated boot parameters ocs_live_keymap, keyb and gl_kbd are
    removed. Because package console-common is not included anymore due
    to this issue: https://bugs.launchpad.net/bugs/1528861

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 24 Dec 2015 21:34:09 +0800

clonezilla (3.19.5-drbl1) unstable; urgency=low

  * Stop systemd mkswapfile service in turn_off_swap function.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 21 Dec 2015 20:19:57 +0800

clonezilla (3.19.4-drbl1) unstable; urgency=low

  * Bug fixed: The size with more than one partition not expanding
    should be added to the later partition in ocs-expand-gpt-pt.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 14 Dec 2015 22:20:17 +0800

clonezilla (3.19.3-drbl1) unstable; urgency=low

  * Allow ocs-install-grub to run when it's a GPT disk with a
    special "bios_boot" partition exists in the machine using
    legacy BIOS.
  * Use parted to fill the last partitition to the end of disk because
    there might be some resudial in the calculation of ocs-expand-gpt-pt.
    Thanks to Conan for this suggestion.
    Ref: https://sourceforge.net/p/clonezilla/discussion/
         Clonezilla_live/thread/c5e92d87/?limit=25#080c

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 07 Dec 2015 22:16:07 +0800

clonezilla (3.19.2-drbl1) unstable; urgency=low

  * Add option "-scs" to be the same option for "-sc" in drbl-ocs and
    ocs-sr. This will be easier to tell the differences between saving
    and restoring image.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 23 Nov 2015 17:24:48 +0800

clonezilla (3.19.1-drbl1) unstable; urgency=low

  * Adding options -sc0 and -scr for image checking before restoring.
    Now by default Clonezilla will check image integrity before
    restoring. Option "-sc0" is used to skip image checking on server,
    while "-scr" is used to skip image checking on client.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 21 Nov 2015 22:50:31 +0800

clonezilla (3.18.16-drbl1) unstable; urgency=low

  * Adding nilfs2 in the file systems support list for partclone
    in drbl-ocs.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 16 Nov 2015 09:52:32 +0800

clonezilla (3.18.15-drbl1) unstable; urgency=low

  * Reverted to use http://archive.ubuntu.com/ubuntu instead of 
    http://free.nchc.org.tw/ubuntu for
    ubuntu_mirror_url_def and ubuntu_mirror_security_url_def in
    drbl-ocs.conf. Otherwise the cache in /var/lib and /var/cache
    won't be removed. It makes the iso/zip ~30 MB larger.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 Nov 2015 16:40:00 +0800

clonezilla (3.18.14-drbl1) unstable; urgency=low

  * Reverted to use http://free.nchc.org.tw/ubuntu for
    ubuntu_mirror_url_def and ubuntu_mirror_security_url_def in
    drbl-ocs.conf. Less network connection issue when creating
    Clonezilla live for Clonezilla team.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 Nov 2015 15:31:34 +0800

clonezilla (3.18.13-drbl1) unstable; urgency=low

  * Adding swapfile.sys in the files list to be removed in
    ocs-rm-win-swap-hib. Thanks to Bartosz Btorek 
    <bartosz.batorek _at_ gmail com> for suggesting this.
  * Avoid TUI messages overriding the error messages in ocs-live-restore.
    Thanks to Stew Fisher <stewart.fisher _at_ oncology ox ac uk> for
    reporting this issue.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 Nov 2015 13:48:44 +0800

clonezilla (3.18.12-drbl1) unstable; urgency=low

  * Bug fixed: Avoid using the preserved word of grub2 "prefix"
    in the grub.cfg. Thanks to Joey3000.
    (https://github.com/stevenshiau/clonezilla/issues/13)
  * Bug fixed: Failed to deal with partition name with extra "p",
    like: *cciss*, *mmcblk*, *md*, *rd*, *ida*, *nvme*,
    Thanks to quozl for reporting this bug.
    (https://github.com/stevenshiau/clonezilla/issues/14)
  * Bug fixed: Use fatresize to resize FAT file system instead of
    parted since resize function is no more in parted >= 3. 
    Thanks to quozl for reporting this bug.
    (https://github.com/stevenshiau/clonezilla/issues/16)

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 03 Nov 2015 17:34:27 +0800

clonezilla (3.18.11-drbl1) unstable; urgency=low

  * Testing $GRUB_CFG if exists in drbl-ocs-live-prep.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 02 Nov 2015 14:05:11 +0800

clonezilla (3.18.10-drbl1) unstable; urgency=low

  * Bug fixed: wait_for_udevd should be after main settings in ocs-run.
  * More tests about if $GRUB_CONF exists before going on in some
    functions of ocsmgrd and drbl-ocs about grub2 uEFI network boot.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 02 Nov 2015 11:23:10 +0800

clonezilla (3.18.9-drbl1) unstable; urgency=low

  * Check if file $GRUB_CONF exists before going on in some functions
    of ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 31 Oct 2015 23:26:47 +0800

clonezilla (3.18.8-drbl1) unstable; urgency=low

  * Since the bug about xserver-xorg-legacy was fixed.
    Removing xserver-xorg-legacy from the packages list in
    create-gparted-live.
    (https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=802544)

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 29 Oct 2015 07:39:06 +0800

clonezilla (3.18.7-drbl1) unstable; urgency=low

  * Adding f2fs in the support fs of partclone in drbl-ocs.conf.
  * Bug fixed: vi instead of vim existing on GParted live system.
  * Adding xserver-xorg-legacy on GParted live to avoid this bug:
    https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=802544

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 28 Oct 2015 21:23:28 +0800

clonezilla (3.18.6-drbl1) unstable; urgency=low

  * Enabled ttyS* for systemd in GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 12 Oct 2015 18:02:27 +0800

clonezilla (3.18.5-drbl1) unstable; urgency=low

  * Reverted to use http://free.nchc.org.tw/debian for 
    debian_mirror_url_def in drbl-ocs.conf. Too frequent
    "Hash Sum mismatch" for some Debian mirror sites.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 06 Oct 2015 21:23:30 +0800

clonezilla (3.18.4-drbl1) unstable; urgency=low

  * Bug fixed: Update EFI NVRAM only when restoring disk.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 05 Oct 2015 23:05:35 +0800

clonezilla (3.18.3-drbl1) unstable; urgency=low

  * Bug fixed: when multiple disks contain grub root partition,
    ocs-install-grub detected the root partition outside the
    restored ones.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 30 Sep 2015 11:45:17 +0800

clonezilla (3.18.2-drbl1) unstable; urgency=low

  * A better way to get the autologin account is used in
    S03prep-drbl-clonezilla for both ocs and drbl.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 29 Sep 2015 20:33:39 +0800

clonezilla (3.18.1-drbl1) unstable; urgency=low

  * ocsmgrd now reveals local-disk for uEFI netboot by default, and
    no more using ":" in the file name of uEFI netboot. It's the same
    with that of patched grub2 on CentOS, i.e. something like:
    grub.cfg-01-00-0c-29-1d-9a-d1

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 22 Sep 2015 21:51:59 +0800

clonezilla (3.17.11-drbl1) unstable; urgency=low

  * Update Forcevideo for GParted live so that it will work on the
    latest Debian Sid.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 21 Sep 2015 22:39:37 +0800

clonezilla (3.17.10-drbl1) unstable; urgency=low

  * Enable syntax on and dark background for vim in DRBL live.
  * In DRBL live, when only netboot config files
    (/tftpboot/nbi_img/pxelinux.cfg/default and
    /tftpboot/nbi_img/grub-efi.cfg/grub.cfg) are required to be updated
    once, make sure it only be updated once. No need to update for every
    clients. This would reduce runtime massively when client machines are
    many.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 21 Sep 2015 14:44:54 +0800

clonezilla (3.17.9-drbl1) unstable; urgency=low

  * Bug fixed: commenting clonezilla job in ocs-live-run-menu for Clonezilla
    SE in DRBL live after it is done was not working.
  * The uEFI lable should be converted to one word otherwise ocsmgrd will
    fail to parse it.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 20 Sep 2015 13:38:00 +0800

clonezilla (3.17.8-drbl1) unstable; urgency=low

  * Bug fixed: ocsmgrd failed to process the client-live-client of
    grub part for uEFI netboot.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 19 Sep 2015 08:35:10 +0800

clonezilla (3.17.7-drbl1) unstable; urgency=low

  * Now ocsmgrd will create grub uEFI network file like:
    grub.cfg-01:00:50:56:01:01:01 so that it can work with the
    embedded config file in drbl-gen-grub-efi-nb.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 18 Sep 2015 14:52:02 +0800

clonezilla (3.17.6-drbl1) unstable; urgency=low

  * Comments about ocs_lang_for_pxe_ocs_live in drbl-ocs.conf was added.
  * The keymap for live system should use the same keymap as that on the
    server first, and if not available, then use the one assigned in
    drbl-ocs.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 17 Sep 2015 12:35:20 +0800

clonezilla (3.17.5-drbl1) unstable; urgency=low

  * Bug fixed: forgot to add boot param for uEFI netboot client
    when ocs_client_trig_type=proc-cmdline.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 17 Sep 2015 10:03:19 +0800

clonezilla (3.17.4-drbl1) unstable; urgency=low

  * Link the kernel and initrd of clonezilla live in /tftpboot/nbi_img/ to
    that of drbl live for DRBL live system.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 15 Sep 2015 20:28:36 +0800

clonezilla (3.17.3-drbl1) unstable; urgency=low

  * Force to remove gnash. HTML5 is more popular and flash is getting
    disabled by a lot of websites.

  * New boot parameter "dcs_put_dticons" was added to control if the
    icons on the desktop should be created or not in drbl live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 15 Sep 2015 09:37:25 +0800

clonezilla (3.17.2-drbl1) unstable; urgency=low

  * Add support for using clonezilla-live in the Clonezilla SE uEFI
    clients.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 12 Sep 2015 21:31:16 +0800

clonezilla (3.17.1-drbl1) unstable; urgency=low

  * Function is_drbl_live_env is added in ocs-functions.
  * No more using ocs_lang and ocs_live_keymap in drbl-ocs,
    they are replaced by keyboard-layouts and locales. 
  * Option "-p" was added so that drbl-ocs-live-prep supports the mounted
    or unzipped live path. Now by default the Clonezilla SE client in
    drbl live use lesser NFS. Most of them are live system.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 10 Sep 2015 14:06:54 +0800

clonezilla (3.16.39-drbl1) unstable; urgency=low

  * Since most of the debian packages are compressed (xz or gzip),
    no more compressing the source tarball. 
  * Package efibootmgr was added to gparted live.
    (https://bugzilla.gnome.org/show_bug.cgi?id=754587)

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 07 Sep 2015 22:42:50 +0800

clonezilla (3.16.38-drbl1) unstable; urgency=low

  * Force to remove systemd-shim if not systemd init in drbl live, too.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 07 Sep 2015 17:08:56 +0800

clonezilla (3.16.37-drbl1) unstable; urgency=low

  * Force to remove sytemd if not systemd init in drbl live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 04 Sep 2015 09:04:01 +0800

clonezilla (3.16.36-drbl1) unstable; urgency=low

  * Checking systemd-udevd in ocs-run, too.
  * Option -a|--initsystem was added to create-drbl-live-by-pkg
    and create-drbl-live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 03 Sep 2015 19:44:09 +0800

clonezilla (3.16.35-drbl1) unstable; urgency=low

  * The S03prep-drbl-clonezilla of drbl-live did not parse username
    from /proc/cmdline.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 27 Aug 2015 17:00:48 +0800

clonezilla (3.16.34-drbl1) unstable; urgency=low

  * Added util-linux and gdisk info in the files and versions list
    Info-packages.txt of image directory.
  * Bug fixed: forgot to put username in /run/live/live-config so the
    console of drbl live won't autologin.
  * Adding option --noclear for agetty for tty autologin. It's easier
    to see the booting messages in clonezilla/drbl/gparted live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 27 Aug 2015 12:09:51 +0800

clonezilla (3.16.33-drbl1) unstable; urgency=low

  * Make sure no extra white space in the end of ocs_live_run
    and ocs_live_extra_param.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 20 Aug 2015 11:30:38 +0800

clonezilla (3.16.32-drbl1) unstable; urgency=low

  * Not only eno*, but also other NIC name like enp* will be searched
    in ocs-live-netcfg. 
  * Program gl-live-netcfg now supports NIC name en*, and better way
    to detect linking status.
  * Enable password login for sshd in GParted live. By default the
    sshd is not started.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 19 Aug 2015 08:22:46 +0800

clonezilla (3.16.31-drbl1) unstable; urgency=low

  * The configuration for NIC eno* is enabled in ocs-live-netcfg. 

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 16 Aug 2015 23:00:16 +0800

clonezilla (3.16.30-drbl1) unstable; urgency=low

  * Switched to use "http://httpredir.debian.org/debian" instead of
    "http://http.debian.net/debian" for Debian mirror.
  * Added /EFI/debian/grubx64.efi in known_efi_boot_file_chklist
    of update-efi-nvram-boot-entry.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 13 Aug 2015 13:22:55 +0800

clonezilla (3.16.29-drbl1) unstable; urgency=low

  * Bug fixed: Option "-C" failed to pass to partclone in ocs-onthefly
    when option "-icds" is used for GPT disk.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 12 Aug 2015 08:46:00 +0800

clonezilla (3.16.28-drbl1) unstable; urgency=low

  * Package zerofree was added in the packages list for GParted live.
  * Proportition GPT partition layout could be created by the
    option "-k1" in ocs-onthefly.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 11 Aug 2015 13:44:06 +0800

clonezilla (3.16.27-drbl1) unstable; urgency=low

  * Program ocs-expand-gpt-pt was added. 
  * Proportition GPT partition layout could be created by the
    option "-k1".

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 11 Aug 2015 10:54:06 +0800

clonezilla (3.16.26-drbl1) unstable; urgency=low

  * when the image saved from sda, for example, was restored to sdb,
    the swap parttion was not restored correctly due to function
    get_swap_partition_sf_format failed to parse the file sdb-pt.sf.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 04 Aug 2015 22:45:13 +0800

clonezilla (3.16.25-drbl1) unstable; urgency=low

  * The "--print-id" of sfdisk is deprecated in favour of "--part-type".
    Program ocs-get-part-info has the corresponding change.
  * The output of sfdisk >= 2.26 has the format "type=" instead of "Id=".
    The corresponding changes have to be done in ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 03 Aug 2015 18:07:45 +0800

clonezilla (3.16.24-drbl1) unstable; urgency=low

  * A better mechanism was added to get the linking status of
    network card in ocs-live-netcfg.
  * Bug fixed: failed to process LVM with snapshots.
    Thanks to Shaun Rowland for providing the patch.
    Ref: https://sourceforge.net/p/clonezilla/discussion/
    Open_discussion/thread/075d3f5a/#f533/628c

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 31 Jul 2015 18:45:43 +0800

clonezilla (3.16.23-drbl1) unstable; urgency=low

  * Bug fixed: failed to continue after trying to save the
    partition table for PV on disk.
  * Bug fixed: failed to save image for PV on multiple partitions.
    Thanks to SLLabs Louis for the patch.
    (http://sourceforge.net/p/clonezilla/discussion/Open_discussion/
    thread/075d3f5a/?limit=25#f533)

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 25 Jul 2015 16:17:28 +0800

clonezilla (3.16.22-drbl1) unstable; urgency=low

  * The output of sgdisk will be logged in clonezilla.log, too.
  * Separating the option "-a" of df in different cases in
    prep-ocsroot.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Jul 2015 15:58:07 +0800

clonezilla (3.16.21-drbl1) unstable; urgency=low

  * Bug fixed: option "-k1" failed due to ocs-expand-mbr-pt failed
    to read the output of sfdisk >= 2.26.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 22 Jul 2015 18:24:21 +0800

clonezilla (3.16.20-drbl1) unstable; urgency=low

  * Using the same mechanism to deal with GPT partition table in
    ocs-onthefly for disk to disk cloning.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 21 Jul 2015 22:52:39 +0800

clonezilla (3.16.19-drbl1) unstable; urgency=low

  * When restoring the image of a GPT disk, if the file "sda-pt.sf"
    for example is dumped by sfdisk >= 2.26, use sfdisk in higher
    priority than sgdisk.
  * Bug fixed: the output file of update-efi-nvram-boot-entry failed
    to assign the correct variables.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 20 Jul 2015 23:16:17 +0800

clonezilla (3.16.18-drbl1) unstable; urgency=low

  * Bug fixed: efibootmgr >= 0.12 has newer output format. Thanks to
    johnv-valve for reporting this
    (https://github.com/stevenshiau/clonezilla/issues/9).

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 20 Jul 2015 07:49:23 +0800

clonezilla (3.16.17-drbl1) unstable; urgency=low

  * When /home/partimag is a mount point, prep-ocsroot should use "skip"
    as the default item. Thanks to Bruce Solomon
    [rufovillosum _at_ yahoo com].

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 12 Jul 2015 22:38:12 +0800

clonezilla (3.16.16-drbl1) unstable; urgency=low

  * Bug fixed: sfidsk >= 2.26 does not support -C, -H, and -S. Skip
    using that when sfdisk >= 2.26, especiall in ocs-onthefly.
    Thanks for Dorzalty reporting this:
    https://sourceforge.net/p/clonezilla/discussion/Help/thread/8a7397fc

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 10 Jul 2015 22:07:04 +0800

clonezilla (3.16.15-drbl1) unstable; urgency=low

  * Enabled vmfs3 and vmfs5 since partclone 0.2.79 solved the issue.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 07 Jul 2015 14:51:57 +0800

clonezilla (3.16.14-drbl1) unstable; urgency=low

  * Adding the support for NVME device.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 23 Jun 2015 18:27:34 +0800

clonezilla (3.16.13-drbl1) unstable; urgency=low

  * The useless note about option "-z3" was removed. Thanks to
    Marc Grondin (marcfgrondin _at_ gmail com) for reporting this.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 18 Jun 2015 22:38:16 +0800

clonezilla (3.16.12-drbl1) unstable; urgency=low

  * Adding "net.ifnames=0" in the boot parameters of
    ocs-live-boot-menu for Clonezilla/DRBL/GParted live systems.
    One day we will switch to the predicable network device name,
    but not now.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 18 Jun 2015 20:28:10 +0800

clonezilla (3.16.11-drbl1) unstable; urgency=low

  * "ps -q" in drbl-ocs is only for SysV, we have to use "ps --pid"
    so that it will work both in BSD and SysV GNU/Linux system.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 17 Jun 2015 14:07:04 +0800

clonezilla (3.16.10-drbl1) unstable; urgency=low

  * Adding packages gddrescue and ddrescueview for GParted
    live in create-gparted-live.
    (https://bugzilla.gnome.org/show_bug.cgi?id=750240).

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 02 Jun 2015 09:36:47 +0800

clonezilla (3.16.9-drbl1) unstable; urgency=low

  * Using the ipxe package from Debian, no more packaging that.
    Therefore the correspoing programs (ocs-iso, ocs-live-dev,
    ocs-live-boot-menu, and create-drbl-live) were modified to
    fit that.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 31 May 2015 21:26:06 +0800

clonezilla (3.16.8-drbl1) unstable; urgency=low

  * Bug fixed: sfidsk >= 2.26 does not support -C, -H, and -S. 
    Skip using that when sfdisk >= 2.26. Thanks to Matt Ross for
    reporting this (https://sourceforge.net/p/clonezilla/discussion/
    Clonezilla_live/thread/1734996f).

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 29 May 2015 22:39:56 +0800

clonezilla (3.16.7-drbl1) unstable; urgency=low

  * Functions confirm_continue_or_not_default_quit,
    confirm_continue_or_not_default_continue, and
    confirm_continue_no_default_answer were moved from
    ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 28 May 2015 15:02:54 +0800

clonezilla (3.16.6-drbl1) unstable; urgency=low

  * Making S03prep-drbl-clonezilla for DRBL live work with systemd.
  * Turn on the ssh password remote login in drbl live, while still
    using tcpwrapper to block it.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 28 May 2015 08:39:49 +0800

clonezilla (3.16.5-drbl1) unstable; urgency=low

  * Functions add_opt_in_pxelinux_cfg_block, 
    remove_opt_in_pxelinux_cfg_block, add_opt_in_grub_efi_cfg_block
    and remove_opt_in_grub_efi_cfg_block were moved from
    ocs-functions to drbl-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 27 May 2015 23:08:22 +0800

clonezilla (3.16.4-drbl1) unstable; urgency=low

  * Program create-ubuntu-live now supports Ubuntu Linux Wily.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 27 May 2015 22:27:22 +0800

clonezilla (3.16.3-drbl1) unstable; urgency=low

  * Using "isohybrid --uefi" to make dd iso file work.
    Thanks to Patrick Verner and Kubuist for this.
  * Only for those non-stop cases we will clean the GRUB UEFI NB
    config files in drbl-ocs. Otherwise the local-disk boot in
    grub.cfg normally won't work.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 22 May 2015 22:46:16 +0800

clonezilla (3.16.2-drbl1) unstable; urgency=low

  * Bug fixed: some bash errors were fixed in ocs-resize-part.
  * Supporting local boot in uEFI mode after clonezilla job is done.
  * The clonezilla-se-client and local-disk menuentry in
    GRUB EFI NB not could be hidden or revealed.
  * Bug fixed: "drbl-ocs stop" won't kill itself by
    killing its ppid.
  * More complete GRUB EFI NB menus added in this version.
    Thanks to Danny Russ | KSC for helping this GRUB EFI network
    boot solution.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 21 May 2015 22:27:40 +0800

clonezilla (3.16.1-drbl1) unstable; urgency=low

  * File system overlay was added as one of the known file systems
    in prep-ocsroot.
  * A better mechanism was used to parse the boot parameters in
    ocs-run so that it could deal with that from grub efi network
    booting.
  * Bug fixed: set-netboot-1st-efi-nvram failed to keep uEFI network
  * Bug fixed: ocs-resize-part failed to run resize program for
    parted >= 3.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 18 May 2015 14:35:44 +0800

clonezilla (3.15.6-drbl1) unstable; urgency=low

  * Package libpam-systemd and policykit-1 were added in 
    pkgs_for_task_xfce_desktop of create-drbl-live-by-pkg.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 14 May 2015 16:02:25 +0800

clonezilla (3.15.5-drbl1) unstable; urgency=low

  * Switching to use "union=overlay" in DRBL/Clonezilla/GParted live.
    It's the default union filesystem for Linux kernel v4, and also
    available in Ubuntu Vivid's linux kernel. 

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 13 May 2015 12:03:36 +0800

clonezilla (3.15.4-drbl1) unstable; urgency=low

  * Function get_latest_kernel_ver_in_repository of ocs-functions
    was improved so it can filter Linux kernel version 4 or later.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 13 May 2015 08:35:47 +0800

clonezilla (3.15.3-drbl1) unstable; urgency=low

  * Language files for Hungarian were added. Thanks to Greg Marki
    (info.mlc _at_ freemail hu) for providing the files.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 06 May 2015 22:43:17 +0800

clonezilla (3.15.2-drbl1) unstable; urgency=low

  * Bug fixed: start-drbl-live.service should run before
    display-manager.service.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 04 May 2015 15:48:36 +0800

clonezilla (3.15.1-drbl1) unstable; urgency=low

  * Bug fixed: wrong file name for start-drbl-live.service.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 04 May 2015 13:37:32 +0800

clonezilla (3.14.26-drbl1) unstable; urgency=low

  * Bug fixed: start-drbl-live service for systemd not implemented in
    drbl live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 04 May 2015 11:45:23 +0800

clonezilla (3.14.25-drbl1) unstable; urgency=low

  * Switching to systemd instead of sysvinit-core for DRBL live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 04 May 2015 10:13:07 +0800

clonezilla (3.14.24-drbl1) unstable; urgency=low

  * Calibrating time before running s3fs and cloudfuse in prep-ocsroot.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 20 Apr 2015 22:12:42 +0800

clonezilla (3.14.23-drbl1) unstable; urgency=low

  * Updating the comments about swift in prep-ocsroot.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 19 Apr 2015 19:57:59 +0800

clonezilla (3.14.22-drbl1) unstable; urgency=low

  * Adding S3 and Swift in the prep-ocsroot menu.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 19 Apr 2015 19:30:46 +0800

clonezilla (3.14.21-drbl1) unstable; urgency=low

  * File ocs-tune-conf-for-s3 was renamed as ocs-tune-conf-for-s3-swift
    so it can be used for both S3 and Swift repository.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 17 Apr 2015 23:01:13 +0800

clonezilla (3.14.20-drbl1) unstable; urgency=low

  * A mechanism to avoid cloudfuse with ecryptfs was added because
    there is an similar issue as:
    https://github.com/s3fs-fuse/s3fs-fuse/issues/166

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 16 Apr 2015 13:26:26 +0800

clonezilla (3.14.19-drbl1) unstable; urgency=low

  * A mechanism to avoid AWS S3 with ecryptfs was added because there is
    an issue: https://github.com/s3fs-fuse/s3fs-fuse/issues/166

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 11 Apr 2015 19:53:48 +0800

clonezilla (3.14.18-drbl1) unstable; urgency=low

  * The program ocs-tune-conf-for-s3 was added so it can be used for
    AWS S3.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 07 Apr 2015 17:00:49 +0800

clonezilla (3.14.17-drbl1) unstable; urgency=low

  * util-linux >= 2.26 removes support for "sfdisk -R". Therefore we
    switched to "blockdev --rereadpt". Thanks to Ismael
    (razzziel _at_ users sf net) for reporting this.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 03 Apr 2015 23:32:17 +0800

clonezilla (3.14.16-drbl1) unstable; urgency=low

  * Enabling the updates, security and drbl repository settings in
    Clonezilla/DRBL/GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 01 Apr 2015 21:24:23 +0800

clonezilla (3.14.15-drbl1) unstable; urgency=low

  * Bug fixed: ocs-onthefly failed to clone swap partition for GPT
    disk. Thanks to Uwe Dippel for reporting this issue 
    (https://sourceforge.net/p/clonezilla/discussion/Open_discussion/
     thread/907b3c87).

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 30 Mar 2015 15:13:43 +0800

clonezilla (3.14.14-drbl1) unstable; urgency=low

  * Adding a link file ocs-prep-home to prep-ocsroot.
  * Adding a link file ocs-cvt-dev to cnvt-ocs-dev.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 29 Mar 2015 15:16:38 +0800

clonezilla (3.14.13-drbl1) unstable; urgency=low

  * Improvement: ocs-install-grub now could handle the grub boot
    loader is on root partition instead of MBR.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 25 Mar 2015 19:45:24 +0800

clonezilla (3.14.12-drbl1) unstable; urgency=low

  * Adding parsing mechanism for boot parameter "components" in
    function get_live_boot_param of ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 23 Mar 2015 19:31:33 +0800

clonezilla (3.14.11-drbl1) unstable; urgency=low

  * Put start-ocs-live in the path /etc/ocs of Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 16 Mar 2015 16:25:29 +0800

clonezilla (3.14.10-drbl1) unstable; urgency=low

  * Make start-ocs-live.service and start-gparted-live.service after
    systemd-user-sessions.service so that the screen won't be re-set
    by something like setupcon.
  * Set the TERM as linux for non-framebuffer mode in
    ocs-lang-kbd-conf and S05kbd-conf (gparted live) so that color
    output can be shown.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 15 Mar 2015 20:26:41 +0800

clonezilla (3.14.9-drbl1) unstable; urgency=low

  * Disable the booting status, otherwise the messages might be shown
    on the dialog menu (of keyboard/language for Clonezilla/GParted live)
    which is annoying.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 15 Mar 2015 12:48:46 +0800

clonezilla (3.14.8-drbl1) unstable; urgency=low

  * Failed to put start-gparted-live in /etc/gparted-live/ in
    gparted-live-hook.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 15 Mar 2015 11:27:51 +0800

clonezilla (3.14.7-drbl1) unstable; urgency=low

  * Prevents all messages, except emergency (panic) messages
    in GParted live booting console.
  * Bug fixed: wrong path for start-gparted-live.
  * TERM was not set correctly when configuring keyboard for
    GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 14 Mar 2015 23:05:18 +0800

clonezilla (3.14.6-drbl1) unstable; urgency=low

  * Bug fixed: systemd for GParted live was not working.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 14 Mar 2015 21:32:21 +0800

clonezilla (3.14.5-drbl1) unstable; urgency=low

  * Bug fixed: function is_systemd_init was not defined for
    create-gparted-live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 14 Mar 2015 14:46:33 +0800

clonezilla (3.14.4-drbl1) unstable; urgency=low

  * Switching to use systemd in create-gparted-live.
  * Upstart is only used for Utopic in create-ubuntu-live.
    For Vivid the systemd is used.
  * Option "--mirror-chroot-updates" in create-gparted-live was
    removed since it does not exist for live-build v4.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 14 Mar 2015 09:39:33 +0800

clonezilla (3.14.3-drbl1) unstable; urgency=low

  * When terminal is dumb, force it as vt102 in ocs-lang-kbd-conf.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 13 Mar 2015 20:47:24 +0800

clonezilla (3.14.2-drbl1) unstable; urgency=low

  * Dropping stdin and stdout assignment in start-ocs-live.service.
    Use the default values.
  * Wrong agetty path in serial-console-autologin.conf.
  * For non-framebuffer mode, TERM was not defined. It's OK for
    sysv/upstart, but not for systemd.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 13 Mar 2015 16:38:41 +0800

clonezilla (3.14.1-drbl1) unstable; urgency=low

  * Bug fixed: forgot to enable start-ocs-live.service.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 12 Mar 2015 21:58:59 +0800

clonezilla (3.14.0-drbl1) unstable; urgency=low

  * Adding systemd for Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 12 Mar 2015 20:41:36 +0800

clonezilla (3.13.32-drbl1) unstable; urgency=low

  * Default to remove the ntfs volume dirty flag after it's restored.
  * Default to remove the dbus machine id file
    (/var/lib/dbus/machine-id) after a GNU/Linux system is restored.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 09 Mar 2015 19:55:47 +0800

clonezilla (3.13.31-drbl1) unstable; urgency=low

  * Some ecryptfs-related options were moved to drbl-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 05 Mar 2015 10:42:38 +0800

clonezilla (3.13.30-drbl1) unstable; urgency=low

  * Two more parameters ocs_ecryptfs_cipher and ocs_ecryptfs_key_bytes
    could be assigned in the boot parameters.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 04 Mar 2015 12:00:17 +0800

clonezilla (3.13.29-drbl1) unstable; urgency=low

  * A boot parameter "ocs_dmesg_n" was added so that it can be used to
    set the level at which logging of messages is done to the console.
    If not assigned, prevents all messages, except emergency (panic)
    messages, i.e. n=1. Thanks to Greg Bell.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 12 Feb 2015 22:17:37 +0800

clonezilla (3.13.28-drbl1) unstable; urgency=low

  * Bug fixed: the single white space for target_parts should be
    treated as nothing. Thanks to Borksoft for reporting this issue.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 11 Feb 2015 11:29:37 +0800

clonezilla (3.13.27-drbl1) unstable; urgency=low

  * Switching to use mode "ubuntu" for create-ubuntu-live, no more
    using "debian" mode. This is done by using 'lb config
    --bootappend-live "boot=live config username=user"' for
    create-*-live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 09 Feb 2015 23:16:54 +0800

clonezilla (3.13.26-drbl1) unstable; urgency=low

  * Make sure ocs/ocs-live.d/S00ocs-start work for upstart both
    in live-config v3 and v4.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 08 Feb 2015 23:04:22 +0800

clonezilla (3.13.25-drbl1) unstable; urgency=low

  * A parameter "split_suf_len" was added in drbl-ocs.conf so that
    it can be used to specify the suffix length when spliting an image.
  * The suffix length of each image chunk now could be >=2.
  * For webdav image repository, the suffix length of split command was
    changed to 3 so it could have enough chunks for large file (~2.8 TB).

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 03 Feb 2015 22:15:19 +0800

clonezilla (3.13.24-drbl1) unstable; urgency=low

  * Bug fixed: S03prep-drbl-clonezilla failed to enable sshd
    password auth for live-build v4 environment.
  * create-*-live: Force to add "lb config --initsystem sysvinit".

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 02 Feb 2015 15:42:43 +0800

clonezilla (3.13.23-drbl1) unstable; urgency=low

  * File name typo fixed: ocs-tune-conf-for-wevdav ->
    ocs-tune-conf-for-webdav.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 31 Jan 2015 11:50:42 +0800

clonezilla (3.13.22-drbl1) unstable; urgency=low

  * Bug fixed: function is_davfs_ocsroot failed to check davfs ocsroot
    on Debian.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 31 Jan 2015 10:46:03 +0800

clonezilla (3.13.21-drbl1) unstable; urgency=low

  * Improved the mechanism to check if webdav server is mounted or not.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 31 Jan 2015 08:43:11 +0800

clonezilla (3.13.20-drbl1) unstable; urgency=low

  * Failed to accept webdav_server as a correct type in
    prep-ocsroot.
  * A better mechanism was added to check if webdav server is
    mounted or not.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 30 Jan 2015 21:55:23 +0800

clonezilla (3.13.19-drbl1) unstable; urgency=low

  * Bug fixed: Forgot to put the default values for davfs2 in
    drbl-ocs.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 29 Jan 2015 09:57:58 +0800

clonezilla (3.13.18-drbl1) unstable; urgency=low

  *  With the workaround proposed by Thomas Tsai, now the image
     repository could be on WebDAV server.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 29 Jan 2015 07:59:11 +0800

clonezilla (3.13.17-drbl1) unstable; urgency=low

  * Bug fixed: Gsplash.png should be interlaced otherwise it can not
    be shown in grub2.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 27 Jan 2015 14:57:43 +0800

clonezilla (3.13.16-drbl1) unstable; urgency=low

  * Bug fixed: accidentally disabled --apt-source-archives in
    create-*-live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 27 Jan 2015 10:27:27 +0800

clonezilla (3.13.15-drbl1) unstable; urgency=low

  * Bug fixed: S03prep-drbl-clonezilla failed to enable
    PasswordAuthentication.
  * Bug fixed: Debian repository redirector should be
    http.debian.net/debian instead of http.debian.org/debian.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 27 Jan 2015 08:49:58 +0800

clonezilla (3.13.14-drbl1) unstable; urgency=low

  * Setting debian_mirror_url_def as http://http.debian.org/debian
    (redirector) in drbl-ocs.conf.
  * Swap info is also listed in dev-fs.list. More comments were
    added in the beginning of dev-fs.list.
  * Make sure that deprecated program create-cciss-mapping is
    removed.
  * Programs create-debian-live, create-ubuntu-live, create-drbl-live
    and create-gparted-live now should work for both live-build v3
    and v4.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 25 Jan 2015 20:21:11 +0800

clonezilla (3.13.13-drbl1) unstable; urgency=low

  * GParted Live boot picture was updated. Thanks to Curtis Gedak
    and his wife.
  * A file "dev-fs.list" containing device and file system list is
    added to Clonezilla image.
  * To avoid the password login of sshd being disabled by live-config,
    S03prep-drbl-clonezilla will enable it when booting.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 23 Jan 2015 17:03:21 +0800

clonezilla (3.13.12-drbl1) unstable; urgency=low

  * Package xresprobe does not exist in Debian repository,
    so it's removed from the packages list in create-gparted-live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 19 Jan 2015 13:51:36 +0800

clonezilla (3.13.11-drbl1) unstable; urgency=low

  * A different name "chromium_ext4" for the ext4 on
    ChromiumOS/ChromeOS's root fs will be given in ocs-get-part-info.
    This is due to it can not be saved correctly by Partclone due to
    some special features which are not compatible to Linux Extfs.
    We have to deal with dd.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 19 Jan 2015 08:48:03 +0800

clonezilla (3.13.10-drbl1) unstable; urgency=low

  * Bug fixed: ssh service was not started in rc1.d in Ubuntu 14.10
    when running Clonezilla job.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 16 Jan 2015 18:33:51 +0800

clonezilla (3.13.9-drbl1) unstable; urgency=low

  * Using functions inform_kernel_partition_table_changed and
    clean_mbr_gpt_part_table in ocs-onthefly and some functions
    in ocs-functions.
  * Bug fixed: pvcreate failed to create PV on a disk with existing
    partition table.
  * Program will quit if encrypted image is assigned for restoring
    in Clonezilla SE.
  * Only unencrypted image could be restored in Clonezilla SE.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 12 Jan 2015 23:12:48 +0800

clonezilla (3.13.8-drbl1) unstable; urgency=low

  * Bug fixed: the description about choosing image name in
    ocs-img-2-vdk was wrong.
  * Adding encrypting, decrypting and p2v menus in ocs-sr.
  * Bug fixed: ocs-img-2-vdk did not remove the temp downloaded
    clonezilla live iso.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 07 Jan 2015 12:35:35 +0800

clonezilla (3.13.7-drbl1) unstable; urgency=low

  * Bug fixed: Forgot to change the partition or LV permission after image is converted by ocs-cvtimg-comp.
  * Avoid using "rm -r" if possible in ocs-functions.
  * The created temp dirs in /tmp should be removed after ocs-restore-mdisks is run.
  * Bug fixed: ocs-img-2-vdk failed to run for encrypted image.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 06 Jan 2015 16:19:11 +0800

clonezilla (3.13.6-drbl1) unstable; urgency=low

  * Bug fixed: ocs-restore-mdisks failed to run for encrypted image.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 05 Jan 2015 22:03:13 +0800

clonezilla (3.13.5-drbl1) unstable; urgency=low

  * Using functions get_disk_list_from_img and get_parts_list_from_img
    to deal with all the image info.
  * All the image related programs were improved to support encrypted
    image. They are create-ocs-tmp-img, ocs-chkimg, ocs-cvtimg-comp,
    ocs-img-2-vdk, ocs-restore-mdisks,
  * Bug fixed: the volume size unit is MB, while "M" (MiB) was used
    for split in ocs-cvtimg-comp.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 05 Jan 2015 12:01:26 +0800

clonezilla (3.13.4-drbl1) unstable; urgency=low

  * Adding return code for function
    prepare_ecryptfs_mount_point_if_necessary.
  * Adding functions get_ecryptfs_info and
    put_ecryptefs_tag_file_in_img so they can be reused.
  * Adding programs ocs-decrypt-img and ocs-encrypt-img so that the
    existing image could be encrypted or decrypted.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 03 Jan 2015 23:46:14 +0800

clonezilla (3.13.3-drbl1) unstable; urgency=low

  * A better mechanism to deal with the end of upstart was implemented
    for S00ocs-start. Thanks to Naoyuki Tai for bug report.
    (https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/
     thread/d43b559f/)

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 29 Dec 2014 08:37:01 +0800

clonezilla (3.13.2-drbl1) unstable; urgency=low

  * Putting prepare_ecryptfs_mount_point_if_necessary after run again
    prompt no matter it's for saving or restoring.
  * Adding option "-or, --ocsroot" for create-ocs-tmp-img so that it
    can be used for encrypted image case.
  * Bug fixed: create_temp_image_for_different_target_dev_name_if_necessary
    failed to use the temp ocsroot for encrypted case.
  * Bug fixed: when checking if LVM exists in restoring, we should
    only check that in the image dir, not in the local partitions layout.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 26 Dec 2014 22:48:54 +0800

clonezilla (3.13.1-drbl1) unstable; urgency=low

  * Adding encryption function for Clonezilla image. Now it's OK for Clonezilla live, not yet for Clonezilla SE.
  * Bug fixed: the volume size unit is MB, while "M" (MiB) was used for split.
  * Set the default volume size as 4096 MB instead of 2000 MB.
  * Adding option "-i, --image-size" description in the usage of ocs-sr (https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/thread/a5814dab)
  * Function name confirm_continue_or_not_default_quit in ocs-functions was changed to confirm_continue_or_default_quit.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 25 Dec 2014 19:19:33 +0800

clonezilla (3.12.9-drbl1) unstable; urgency=low

  * Package xresprobe does not exist in Debian repository, so it's
    removed from the packages list in create-drbl-live-by-pkg.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 11 Dec 2014 22:24:33 +0800

clonezilla (3.12.8-drbl1) unstable; urgency=low

  * Now i586 instead of i486 Clonezilla live is in the stable release,
    therefore the corresponding changes were done.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 10 Dec 2014 20:03:19 +0800

clonezilla (3.12.7-drbl1) unstable; urgency=low

  * Temporarily disabled vmfs3 and vmfs5 due to an issue
    (https://github.com/glandium/vmfs-tools/issues/12).

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 01 Dec 2014 16:37:54 +0800

clonezilla (3.12.6-drbl1) unstable; urgency=low

  * Supporting i586 linux image kernel Clonezilla live because Debian
    Sid now provides i586 linux-image instead of i486 one.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 12 Nov 2014 11:36:23 +0800

clonezilla (3.12.5-drbl1) unstable; urgency=low

  * Program ocs-run was improved by better way to detect systemd as
    init.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 09 Nov 2014 11:41:04 +0800

clonezilla (3.12.4-drbl1) unstable; urgency=low

  * Function cciss_dev_map_if_necessary of ocs-functions was removed.
  * Deprecated program create-cciss-mapping was removed.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 05 Nov 2014 14:20:04 +0800

clonezilla (3.12.3-drbl1) unstable; urgency=low

  * A better way to deal with --rsyncable option of pigz was
    implemented, too.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 04 Nov 2014 10:35:26 +0800

clonezilla (3.12.2-drbl1) unstable; urgency=low

  * A better way to deal with --rsyncable option of gzip was implemented.
    (https://sourceforge.net/p/clonezilla/discussion/Open_discussion/
     thread/8d5f80a6/)

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 03 Nov 2014 21:36:15 +0800

clonezilla (3.12.1-drbl1) unstable; urgency=low

  * Adding Ubuntu vivid support for create-ubuntu-live.
  * Adding support for device name format like /dev/rd/c0d0 and
    /dev/ida/c0d0 RAID cards.
    (https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/
    thread/e82e1c04/)

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 03 Nov 2014 09:37:45 +0800

clonezilla (3.11.15-drbl1) unstable; urgency=low

  * Bug fixed: start-stop-daemon should be reverted when creating
    GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 24 Oct 2014 11:10:47 +0800

clonezilla (3.11.14-drbl1) unstable; urgency=low

  * Bug fixed: the added modules phram and mtdblock were not actually
    put for GParted live. 

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Oct 2014 17:03:26 +0800

clonezilla (3.11.13-drbl1) unstable; urgency=low

  * Due to some reason phram and mtdblock were not put in the initramfs of
    GParted live, while they are shown in Clonezilla live. Now they are
    forced to be added. Thanks to dud225 for reporting this issue.
    (http://gparted-forum.surf4.info/viewtopic.php?id=17263).

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Oct 2014 14:53:42 +0800

clonezilla (3.11.12-drbl1) unstable; urgency=low

  * Bug fixed: Function remove_cdebootstrap-helper-diverts was renamed
    as remove_start_stop_daemon_diverts, we should use it for GParted
    live. 

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Oct 2014 12:16:17 +0800

clonezilla (3.11.11-drbl1) unstable; urgency=low

  * Keeping kernel untouched for GParted live. Otherwise some required
    modules might be removed accidently. 

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Oct 2014 10:15:39 +0800

clonezilla (3.11.10-drbl1) unstable; urgency=low

  * Adding gsmartcontrol menu for GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Oct 2014 09:21:38 +0800

clonezilla (3.11.9-drbl1) unstable; urgency=low

  * Typo about "Portuguese (Brazilian)" in GParted live was fixed.
    (https://bugzilla.gnome.org/show_bug.cgi?id=738258).
  * Typos about the exit dialog in GParted live were fixed.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 16 Oct 2014 15:49:07 +0800

clonezilla (3.11.8-drbl1) unstable; urgency=low

  * Force to add "consolekit sysvinit-core" with lightdm in
    create-drbl-live-by-pkg because lightdm depends on
    libpam-systemd | consolekit. Otherwise when systemd
    is removed, lightdm even task-xfce-desktop will be removed in drbl live.
  * Reverted to the original method to search partitions in
    ocs-install-grub. The latest fixed method was wrong.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 15 Oct 2014 18:13:53 +0800

clonezilla (3.11.7-drbl1) unstable; urgency=low

  * Now Clonezilla could support PV on disk, not only on partition.
  * Bug fixed: options "-fsck-src-part" and ""-fsck-src-part-y"
    were duplicated in ocs-onthefly expert mode.
  * Bug fixed: The input harddrive of ocs-install-grub might be
    more than one, therefore ocs-install-grub should take that
    into consideration.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 08 Oct 2014 16:41:58 +0800

clonezilla (3.11.6-drbl1) unstable; urgency=low

  * Updating prep-ocsroot to run nfs-common service only when
    it exists.
  * Batch mode of ocs-sr failed due to the last modification
    about restoring image of partitioin to differnt partition name.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 02 Oct 2014 17:01:48 +0800

clonezilla (3.11.5-drbl1) unstable; urgency=low

  * Boot parameter "nodmraid" was added in Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 29 Sep 2014 11:15:13 +0800

clonezilla (3.11.4-drbl1) unstable; urgency=low

  * Post run commands of Clonezilla after restoring will be shown
    specifically.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 29 Sep 2014 10:52:48 +0800

clonezilla (3.11.3-drbl1) unstable; urgency=low

  * Bug fixed: manual page of ocs-install-grub was wrong in grub
    partition description.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 29 Sep 2014 10:14:36 +0800

clonezilla (3.11.2-drbl1) unstable; urgency=low

  * Bug fixed: ocs-install-grub wrongly parsed Clonezilla live boot
    media as grub root partition for some cases, e.g. when restoring
    /dev/md126* devices.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 29 Sep 2014 09:40:28 +0800

clonezilla (3.11.1-drbl1) unstable; urgency=low

  * Programs ocs-sr and ocs-functions were updated to support
    restoring image of partition to different name partition.
  * Options -f|--from-part and -d|--to-part were added for
    create-ocs-tmp-img. It's intended to be used for restoring an
    image of partition to different partition name.
  * Option -f|--force was added for cnvt-ocs-dev. The support for
    device names md* was added, too.
  * Device name /dev/md* is supported. With boot parameter "nodmraid",
    now it's possible fakeraid/softraid could be supported.
    Not well tested though.
  * Bug fixed: only device name /dev/mmcblk0p* worked in function
    get_diskname of ocs-functions. Those /dev/mmcblk[1-9]p* failed.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 28 Sep 2014 17:25:25 +0800

clonezilla (3.10.33-drbl1) unstable; urgency=low

  * Using vmwgfx.enable_fbdev=1 instead of vmwgfx.enable_fbdev=no
    in ocs-live-boot-menu. Now we use vesafb instead of uvesafb 
    in both Debian-based and Ubuntu-based Clonezilla live. 
    No more uvesafb for Ubuntu-based one.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 10 Sep 2014 10:32:49 +0800

clonezilla (3.10.32-drbl1) unstable; urgency=low

  * Adding iproute2 and iw in packages list of GParted live of
    create-gparted-live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 04 Sep 2014 14:50:19 +0800

clonezilla (3.10.31-drbl1) unstable; urgency=low

  * Program MC_HxEd was removed from GParted live because it's not
    maintained anymore.
  * Program zenity instead of gdialog is used in gl-shutdown-menu.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 29 Aug 2014 11:37:41 +0800

clonezilla (3.10.30-drbl1) unstable; urgency=low

  * Force to remove systemd package in clonezilla live and gparted live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 26 Aug 2014 21:11:57 +0800

clonezilla (3.10.29-drbl1) unstable; urgency=low

  * A better checking mechaism for sysvinit and systemd packages
    coexisting on a system is used.
  * Program drbl-prepare-pxelinux was updated due to new path for
    new syslinux-efi has syslinux.efi in /usr/lib/SYSLINUX.EFI/.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 26 Aug 2014 20:59:43 +0800

clonezilla (3.10.28-drbl1) unstable; urgency=low

  * Using debian_type="minbase" in create-drbl-live so that it won't
    fail due to systemd-sysv is installed.
  * Adding packages manpages and info in the packages list of
    create-drbl-live-by-pkg since debian_type="minbase" is used.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 20 Aug 2014 22:42:21 +0800

clonezilla (3.10.27-drbl1) unstable; urgency=low

  * File ocs-live-hook.conf was updated for language file tr_TR.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 19 Aug 2014 14:01:40 +0800

clonezilla (3.10.26-drbl1) unstable; urgency=low

  * The clonezilla-live.log redirected by tee was removed from
    ocs-live-run-menu. It is duplicated because /var/log/clonezilla.log
    has the same output, and it causes the distoration of partclone output
    when running in zh_TW.UTF-8 environment.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 30 Jun 2014 15:14:08 +0800

clonezilla (3.10.25-drbl1) unstable; urgency=low

  * Adding partclone in GParted live.
    (https://bugzilla.gnome.org/show_bug.cgi?id=732039)

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 26 Jun 2014 08:55:58 +0800

clonezilla (3.10.24-drbl1) unstable; urgency=low

  * Config file drbl-ocs.conf was updated to add more comments about
    udpcast sender options. Thanks to Pretzel. Ref:
    http://sourceforge.net/p/clonezilla/discussion/
    Clonezilla_server_edition/thread/6e1e87d4/

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 23 Jun 2014 10:21:30 +0800

clonezilla (3.10.23-drbl1) unstable; urgency=low

  * Forced to use LC_ALL=C to run printf in ocs-expand-mbr-pt.
    This could avoid the possible locales issue
    (https://sourceforge.net/p/clonezilla/bugs/197/).

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 22 Jun 2014 22:18:05 +0800

clonezilla (3.10.22-drbl1) unstable; urgency=low

  * Dropping the usage for progress option "-V' of ntfsclone, which
    was patched by Thomas Tsai. Now ntfsclone (e.g. v2014.2.15AR.1)
    has an option "-V" for showing version number. Therefore it 
    should not be used anymore.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 16 Jun 2014 22:46:39 +0800

clonezilla (3.10.21-drbl1) unstable; urgency=low

  * Package xz-utils was added in GParted live so that the initrd 
    could be compressed as xz format.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 09 Jun 2014 16:21:01 +0800

clonezilla (3.10.20-drbl1) unstable; urgency=low

  * Due to an issue of command "eject", "noeject" was added in the
    boot parameters of GParted live iso file.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 08 Jun 2014 10:52:00 +0800

clonezilla (3.10.19-drbl1) unstable; urgency=low

  * To avoid giving wrong result, do not show it's successful or not
    after jfbterm is finished in ocs-live-run-menu. Let user to check
    the log file.
  * The log file for ocs-live-run-menu is changed as
    /var/log/clonezilla-live.log.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 02 Jun 2014 13:47:34 +0800

clonezilla (3.10.18-drbl1) unstable; urgency=low

  * Program ocs-live-run-menu was improved to give more output info
    for command is run in jfbterm.
  * Program cnvt-ocs-dev now could convert SD device (mmcblk0).
    Thanks to joyer99 for reporting this issue
    (https://sourceforge.net/p/clonezilla/discussion/Clonezilla_live/
    thread/40636cdd/?limit=25).

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 01 Jun 2014 11:23:46 +0800

clonezilla (3.10.17-drbl1) unstable; urgency=low

  * Bug fixed: ocs-live-run-menu was improved so that it can run 
    variable ocs_live_run like: ocs_live_run="ocs-restore-mdisks -batch
    -p '-g auto -e1 auto -e2 -cm -r -j2 -k1 -p true' ask_user sda sdb".
    Thanks to Coudy and jbweng2008 _at_ 163 com for reporting this issue.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 31 May 2014 15:14:05 +0800

clonezilla (3.10.16-drbl1) unstable; urgency=low

  * Updating ocs-live-hook.conf for Slovak language.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 30 May 2014 11:22:09 +0800

clonezilla (3.10.15-drbl1) unstable; urgency=low

  * If host machine is x86 arch, not x86-64/amd64, then we force
    to use x86 arch for KVM in ocs-img-2-vdk.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 29 May 2014 08:42:28 +0800

clonezilla (3.10.14-drbl1) unstable; urgency=low

  * Packages qemu-kvm and qemu-utils were added in the packages
    list of create-drbl-live-by-pkg.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 27 May 2014 13:29:49 +0800

clonezilla (3.10.13-drbl1) unstable; urgency=low

  * The options ( -a, -i, and -r) to assign Clonezilla live as
    template were added in ocs-img-2-vdk.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 27 May 2014 11:02:56 +0800

clonezilla (3.10.12-drbl1) unstable; urgency=low

  * Function download_clonezilla_live was moved from drbl-ocs-live-prep
    to ocs-functions so that it could be reused.
  * Bug fixed: failed to parse correct option "-sc" in interactive mode
    of ocs-cvtimg-comp.
  * Prompt about arch of USAGE in drbl-ocs-live-prep was improved.
  * Program ocs-img-2-vdk was added to convert Clonezilla image to
    virtual disk file (qcow2 or vmdk) via KVM.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 26 May 2014 23:12:21 +0800

clonezilla (3.10.11-drbl1) unstable; urgency=low

  * Bug fixed: The boot media should not be mounted again as
    read-write mode in ocs-live-save. Otherwise when rebooting,
    due to the squashfsfs are mounted, it can not be unmounted.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 18 May 2014 22:05:50 +0800

clonezilla (3.10.10-drbl1) unstable; urgency=low

  * Accepting -b|-batch|--batch options for ocs-restore-mdisks.
    A typo in the USAGE message was fixed.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 17 May 2014 08:55:27 +0800

clonezilla (3.10.9-drbl1) unstable; urgency=low

  * Packages, lsof, psmisc, dnsutils, wget, ftp, bzip2, zip, unzip,
    w3m and gsmartcontrol were added in GParted live.
  * Startup page of netsurf was assigned to GParted live manual.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 15 May 2014 20:24:25 +0800

clonezilla (3.10.8-drbl1) unstable; urgency=low

  * Adding support for utopic in create-ubuntu-live, and dropping
    the support for lucid and quantal.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 02 May 2014 14:40:00 +0800

clonezilla (3.10.7-drbl1) unstable; urgency=low

  * Bug fixed: 1-2-mdisks failed to reinstall grub due to
    ocs-restore-mbr does not honor the temp $ocsroot variable.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 02 May 2014 13:56:29 +0800

clonezilla (3.10.6-drbl1) unstable; urgency=low

  * Bug fixed: Restoring an LVM partition prevents any following
    non-LVM partitions from being restored. Thanks to Ian Horton
    for the patch.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 01 May 2014 21:36:03 +0800

clonezilla (3.10.5-drbl1) unstable; urgency=low

  * Bug fixed: two extra grub 2.02 modules gfxterm_background and
    gfxterm_menu are added now when creating bootx64.efi and
    bootxia32.efi by gl-gen-grub2-efi-bldr. Otherwise the backgroud
    won't be shown. Thanks to Ady (ady-sf _at_ hotmail com) for 
    reporting this issue.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 26 Apr 2014 14:58:37 +0800

clonezilla (3.10.4-drbl1) unstable; urgency=low

  * Bug fixed: live-boot was upgraded to 4.x. Setting "--cache-indices"
    of live-config as true so that live-boot won't be upgraded after
    filesystem.squashfs is created.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 25 Apr 2014 15:08:13 +0800

clonezilla (3.10.3-drbl1) unstable; urgency=low

  * Adding program set-netboot-1st-efi-nvram.
  * Applying set-netboot-1st-efi-nvram after update-efi-nvram-boot-entry.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 23 Apr 2014 14:45:01 +0800

clonezilla (3.10.2-drbl1) unstable; urgency=low

  * Packages screen, rsync, iputils-ping, telnet, traceroute and bc
    were added in GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 10 Apr 2014 12:18:03 +0800

clonezilla (3.10.1-drbl1) unstable; urgency=low

  * The create-*-live files were broken due to the apt version 1.0
    and live-boot/live-config 4.x alpha in the Sid repository. 
    No more using aptitude for create-drbl-live. All of them
    are in apt now.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 03 Apr 2014 10:25:37 +0800

clonezilla (3.9.49-drbl1) unstable; urgency=low

  * Bug fixed: ssh service was not working in Saucy's 
    clonezilla SE client mode.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 28 Mar 2014 10:45:51 +0800

clonezilla (3.9.48-drbl1) unstable; urgency=low

  * Bug fixed: autoproductname should filter the characters "()[]{}".
    Thanks to Coudy* for reporting this issue
    (https://sourceforge.net/p/clonezilla/bugs/193/).

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 22 Mar 2014 15:10:01 +0800

clonezilla (3.9.47-drbl1) unstable; urgency=low

  * The paramger "ocs_prompt_mode" takes effect when saving an image.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 19 Mar 2014 10:09:28 +0800

clonezilla (3.9.46-drbl1) unstable; urgency=low

  * Suppress all the space of time got in get_img_create_time
    because it might be used in dialog prompt.
  * Bug fixed: two extra grub 2.02 modules gfxterm_background
    and gfxterm_menu are added now when creating bootx64.efi
    and bootxia32.efi by ocs-gen-grub2-efi-bldr. Otherwise
    the backgroud won't be shown.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 18 Mar 2014 09:06:51 +0800

clonezilla (3.9.45-drbl1) unstable; urgency=low

  * A better way to get image created time was implemented.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 Mar 2014 21:07:13 +0800

clonezilla (3.9.44-drbl1) unstable; urgency=low

  * Bug fixed: in cmd mode, an extra line was added in 
    the confirmation messages before restorinig an image.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 Mar 2014 17:29:01 +0800

clonezilla (3.9.43-drbl1) unstable; urgency=low

  * Image creating date will be shown in the prompt before
    restoring an image.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 Mar 2014 14:33:37 +0800

clonezilla (3.9.42-drbl1) unstable; urgency=low

  * Bug fixed: after drbl service has been started, if clonezilla SE
    is started, the image repository should be mounted in DRBL live.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 16 Mar 2014 14:42:09 +0800

clonezilla (3.9.41-drbl1) unstable; urgency=low

  * The content of "iso_sort.txt" should be a two-column list, 
    separated by "TAB", not space, in the function
    gen_iso_sort_file of ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 15 Mar 2014 22:25:14 +0800

clonezilla (3.9.40-drbl1) unstable; urgency=low

  * Sync the parse_cmdline_option of gl-functions with drbl-functions.
  * The ocs_prerun* and ocs_postrun* boot parameters are sorted 
    with "-V", not "-n".

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 14 Mar 2014 17:35:25 +0800

clonezilla (3.9.39-drbl1) unstable; urgency=low

  * The info to be shown in the TUI mod of 
    countdown_or_confirm_before_restore was improved.
    More info will be shown.
  * Variable "messages_shown_preference" in drbl.conf was moved to
    drbl-ocs.conf and renamed as "ocs_prompt_mode".
  * A boot parameter "ocs_prompt_mode" was added so that it can be
    used to control the prompt mode (TUI or CMD).

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 14 Mar 2014 10:56:30 +0800

clonezilla (3.9.38-drbl1) unstable; urgency=low

  * Menu of KMS mode for live system will always shown by
    ocs-live-boot-menu.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 12 Mar 2014 14:24:57 +0800

clonezilla (3.9.37-drbl1) unstable; urgency=low

  * Package xnetcardconfig was removed from create-drbl-live-by-pkg
    because it's no more in Debian repository and not used in DRBL live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 12 Mar 2014 08:25:26 +0800

clonezilla (3.9.36-drbl1) unstable; urgency=low

  * Sorting the isolinux.bin and boot.cat when creating iso file 
    by genisoimage. 
    Thanks to Ady <ady-sf _at_ hotmail com> for this suggestion.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 07 Mar 2014 21:26:24 +0800

clonezilla (3.9.35-drbl1) unstable; urgency=low

  * Force to quit plymouthd when Clonezilla client is in
    select_in_client mode.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 06 Mar 2014 14:06:02 +0800

clonezilla (3.9.34-drbl1) unstable; urgency=low

  * An option "-s|--semi-batch" was added to the sample file gen-rec-usb.
    It can be used to confirm only once, not every major step. 
    Thanks to ilovecats for this suggestion.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 05 Mar 2014 21:03:58 +0800

clonezilla (3.9.33-drbl1) unstable; urgency=low

  * Using -z1p instead of -z2p when saving image in the sample
    file gen-rec-usb.
  * The way "scale=0" was not used in ocs-expand-mbr-pt. 
    A better method is used.
  * Bug fixed: toram menu for grub should use toram=filesystem.squashfs
    instead of toram so that it's consistent with that of syslinux.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 24 Feb 2014 10:51:29 +0800

clonezilla (3.9.32-drbl1) unstable; urgency=low

  * Sync the parse_cmdline_option of gl-functions with drbl-functions.
  * Bug fixed: the linking part in function ocs-live-env-prepare of 
    ocs-functions should be kept. We should just remove the 
    remount,rw part. Besides, the checking mechanism for linking or
    not has been changed to find the image. 

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 21 Feb 2014 22:04:58 +0800

clonezilla (3.9.31-drbl1) unstable; urgency=low

  * The boot media should not be mounted again as read-write mode
    in function ocs-live-env-prepare of ocs-functions. Otherwise
    when rebooting, due to the squashfsfs are mounted, it can not
    be unmounted. Thanks to ilovecats for reporting this.
  * The example "clone-multiple-usb-example.sh" was removed. 
    Because it's in the main menu already. 
  * An example gen-rec-usb was added. It could be used to create
    a recovery USB flash drive directly from the machine.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 21 Feb 2014 09:52:40 +0800

clonezilla (3.9.30-drbl1) unstable; urgency=low

  * An option -q was added to ocs-live-dev so that it can be used
    to use the existing image on the recovery device.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 20 Feb 2014 12:29:30 +0800

clonezilla (3.9.29-drbl1) unstable; urgency=low

  * The mechanism to run scripts S[0-9][0-9]* and K[0-9][0-9]* in a
    directory has been improved. "$script" instead of ". $script"
    should be used otherwise in some cases the rest of scripts
    won't be run.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 18 Feb 2014 21:10:09 +0800

clonezilla (3.9.28-drbl1) unstable; urgency=low

  * Bug fixed: Packages.bz2 on Debian repository is no more. 
    Use Packages.gz in ocs-live-hook-functions.
  * Disable remove_grpck_opt_p in ocs-live-hook because the issue 
    was fixed in passwd 1:4.1.5.1-1.
  * Package libc6-i386 should be excluded when running "deborphan -n"
    in ocs-live-hook-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 Feb 2014 17:48:19 +0800

clonezilla (3.9.27-drbl1) unstable; urgency=low

  * Package libc6-i386 was added in all AMD64 version of live system.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 Feb 2014 16:52:18 +0800

clonezilla (3.9.26-drbl1) unstable; urgency=low

  * The /lib32 dir will be kept in the amd32 version of live system.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 Feb 2014 15:07:23 +0800

clonezilla (3.9.25-drbl1) unstable; urgency=low

  * Function get_live_boot_param of ocs-functions will give the result
    "quiet_opt".
  * Program ocs-live-dev and ocs-iso should also honor the boot parameter
    "quiet" when creating a recovery iso/zip.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 Feb 2014 09:36:02 +0800

clonezilla (3.9.24-drbl1) unstable; urgency=low

  * Bug fixed: Batch mode option passed to makeboot.sh in ocs-live-dev
    was wrong.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 16 Feb 2014 20:03:03 +0800

clonezilla (3.9.23-drbl1) unstable; urgency=low

  * Program ocs-live-dev was improved to directly put image and
    unattended mode of boot parameters to a USB device.
  * An option "-b" was added so that ocs-live-dev can be run
    in batch mode.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 16 Feb 2014 19:22:45 +0800

clonezilla (3.9.22-drbl1) unstable; urgency=low

  * Function parse_cmdline_option of gl-functions was updated to accept
    more characters, including "[", "]", and ";".
  * The correspoing files which using parse_cmdline_option were
    updated, too.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 09 Feb 2014 12:18:25 +0800

clonezilla (3.9.21-drbl1) unstable; urgency=low

  * Function parse_cmdline_option of gl-functions was updated to
    accept pipe sign (|). Thanks to Fuchs (fusi1939 _at_ users sf net)
    for this suggestion.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 06 Feb 2014 20:01:57 +0800

clonezilla (3.9.20-drbl1) unstable; urgency=low

  * Function get_latest_kernel_ver_in_repository was updated so that
    correct linux kernel version for Ubuntu trusty could be got due 
    to new kernel package linux-image-3.13.0-6-lowlatency is shown.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 04 Feb 2014 10:37:45 +0800

clonezilla (3.9.19-drbl1) unstable; urgency=low

  * Bug fixed: xz format for old image format (e.g. sda1.aa) was not
    detected (https://sourceforge.net/p/clonezilla/bugs/191/). 
    Thanks to peter green for reporting this issue.
  * Bug fixed: There is a typo for the destination partition for 2nd
    confirmation for local partition to local partition
    (https://sourceforge.net/p/clonezilla/discussion/Open_discussion/thread/b99ab9e6/). 
    Thanks to Tweed for reporting this bug.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 03 Feb 2014 21:53:11 +0800

clonezilla (3.9.18-drbl1) unstable; urgency=low

  * Boot parameter "noeject" should be added for those USB stick booting
    config in create-drbl-live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 21 Jan 2014 20:38:05 +0800

clonezilla (3.9.17-drbl1) unstable; urgency=low

  * The "syslinux" and "isolinux" dirs of Clonezilla/DRBL/GParted
    live have been unified as one dir "syslinux". 
    Thanks to Ady (ady-sf _at_ hotmail com) for this suggestion.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 20 Jan 2014 15:11:28 +0800

clonezilla (3.9.16-drbl1) unstable; urgency=low

  * When "-p choose" of ocs-sr or ocs-onthefly is used, the default 
    item of dialog menu is entering command line prompt now.
  * The option "--rsyncable" was added for gzip/pigz when saving an image
    (https://sourceforge.net/p/clonezilla/discussion/Open_discussion/thread/8d5f80a6).
    Thanks to lucatrv for providing this idea. 

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 19 Jan 2014 12:26:51 +0800

clonezilla (3.9.15-drbl1) unstable; urgency=low

  * Parameter "ocs_postmode_prompt" instead of 
    "messages_shown_preference" for the post action
    (reboot/poweroff/cmd/...) mode. If command line mode instead of
    TUI mode is desired, now we can use "ocs_postmode_prompt=cmd"
    in the boot parameters. This will work for both ocs-sr and
    ocs-onthefly.
  * Deprecated function run_post_cmd_when_clonezilla_live_end of
    ocs-functions was removed.
  * The output of command run_post_cmd_when_clone_end in ocs-onthefly
    is recoreded in log file, too.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 18 Jan 2014 21:29:20 +0800

clonezilla (3.9.14-drbl1) unstable; urgency=low

  * Program partclone.restore is replaced by partclone.$fs in ocs-onthefly 
    because partclone.restore will be deprecated in the future.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 17 Jan 2014 22:48:46 +0800

clonezilla (3.9.13-drbl1) unstable; urgency=low

  * Packages.gz instead of Packages.bzip2 is used in 
    get_latest_kernel_ver_in_repository since bzip2 one is changed to 
    xz in Debian Sid, but Ubuntu still uses gzip and bzip2.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 16 Jan 2014 20:23:27 +0800

clonezilla (3.9.12-drbl1) unstable; urgency=low

  * Pixz is used in ocs-onthefly local to remote cloning. 
    An option to use xz as filter program was added, too.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 16 Jan 2014 16:02:23 +0800

clonezilla (3.9.11-drbl1) unstable; urgency=low

  * Bug fixed: the grub dir name is called "grub2" for Fedora >=18, 
    that causes check_grub_partition function failed to locate the grub partition.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 15 Jan 2014 20:29:15 +0800

clonezilla (3.9.10-drbl1) unstable; urgency=low

  * Bug fixed: boot parameters of toram was accidentally 
    removed previously.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 13 Jan 2014 13:54:26 +0800

clonezilla (3.9.9-drbl1) unstable; urgency=low

  * Bug fixed: If drbl_mode is none, we should not make drbl as client's 
    default boot menu when running "drbl-ocs stop".

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 11 Jan 2014 12:32:08 +0800

clonezilla (3.9.8-drbl1) unstable; urgency=low

  * Bug fixed: "noeject" is not required in the TORAM part of isolinux.cfg and syslinux.cfg.  
    Thanks to Ady <ady-sf _at_ hotmail com> for this bug report.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 10 Jan 2014 10:33:07 +0800

clonezilla (3.9.7-drbl1) unstable; urgency=low

  * Boot parameters ocs_daemonon and ocs_daemonoff for Ubuntu-based 
    Clonezilla live failed due to upstart is not compatable with 
    sysvinit command like "/etc/init.d/$i start".

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 09 Jan 2014 17:31:05 +0800

clonezilla (3.9.6-drbl1) unstable; urgency=low

  * The output of blkid will be saved in the image dir as blkid.list.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 06 Jan 2014 21:08:07 +0800

clonezilla (3.9.5-drbl1) unstable; urgency=low

  * An initial value for next_step in function get_live_boot_param 
    in ocs-functions was added.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 29 Dec 2013 10:29:11 +0800

clonezilla (3.9.4-drbl1) unstable; urgency=low

  * Bug fixed: next_step should be local variable in function 
    get_live_boot_param in ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 28 Dec 2013 19:58:41 +0800

clonezilla (3.9.3-drbl1) unstable; urgency=low

  * An option "-y|--syslinux-ver" was added to the create-*-live, 
    ocs-iso and ocs-live-dev so that when live system is created
    syslinux version can be assigned.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 26 Dec 2013 11:25:38 +0800

clonezilla (3.9.2-drbl1) unstable; urgency=low

  * All the install_grub_hd in ocs-onthefly and ocs-makeboot was replaced
    by ocs-install-grub.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 24 Dec 2013 20:58:12 +0800

clonezilla (3.9.1-drbl1) unstable; urgency=low

  * Comments in ocs-cvtimg-comp were updated.
  * The install_grub_hd function in ocs-functions was extracted as a 
    program "ocs-install-grub" so that it's easier to be run separately.
  * Program ocs-update-initrd was added so it's can be run separately 
    for P2V for CentOS 5 (not finished yet).

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 23 Dec 2013 15:52:21 +0800

clonezilla (3.8.30-drbl1) unstable; urgency=low

  * If parallel compression programs are not found, 
    ocs-cvtimg-comp will find the normal compression programs
    to do that.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 18 Dec 2013 14:56:45 +0800

clonezilla (3.8.29-drbl1) unstable; urgency=low

  * Prompt in ocs-restore-mbr was updated.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 15 Dec 2013 16:48:02 +0800

clonezilla (3.8.28-drbl1) unstable; urgency=low

  * The codes about restoring MBR was extracted as another program 
    ocs-restore-mbr so it's easier to be used separately.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 15 Dec 2013 16:16:16 +0800

clonezilla (3.8.27-drbl1) unstable; urgency=low

  * Adding option "-nogui" for ocs-cvtimg-comp.
  * Adding exit code in ocs-chkimg.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 12 Dec 2013 12:02:53 +0800

clonezilla (3.8.26-drbl1) unstable; urgency=low

  * Make ocs-sr's dialog menu index text shorter
    (convert-img-compression -> cvt-img-compression)
  * Bug fixed: partition itself containing LV does not have to be 
    checked in ocs-chkimg.
  * The incomplete converted image file created by ocs-cvtimg-comp 
    should be removed.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 11 Dec 2013 22:06:26 +0800

clonezilla (3.8.25-drbl1) unstable; urgency=low

  * Part of codes in ocs-sr were moved as a function 
    check_and_fix_vol_limit_if_required in ocs-functions.
  * Bug fixed: ocs-cvtimg-comp failed to remove the linked split files.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 11 Dec 2013 16:59:16 +0800

clonezilla (3.8.24-drbl1) unstable; urgency=low

  * Function ocs-get-comp-suffix of ocs-functions was improved to 
    covert more commands.
  * Bug fixed: ocs-cvtimg-comp failed to run in command line mode with 
    source and destination image names assigned.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 Dec 2013 23:23:36 +0800

clonezilla (3.8.23-drbl1) unstable; urgency=low

  * Program ocs-cvtimg-comp should check if the image format is for ntfsclone,
    partimage, and dd. For the first 2 format, exit, and for the last one, 
    just copy files.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 Dec 2013 20:29:55 +0800

clonezilla (3.8.22-drbl1) unstable; urgency=low

  * A menu about image compression converting in ocs-sr was added.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 Dec 2013 14:07:17 +0800

clonezilla (3.8.21-drbl1) unstable; urgency=low

  * Adding ETA and percentage for ocs-chkimg.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 Dec 2013 11:55:38 +0800

clonezilla (3.8.20-drbl1) unstable; urgency=low

  * Functions and comments in ocs-cvtimg-comp were updated.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 09 Dec 2013 22:49:14 +0800

clonezilla (3.8.19-drbl1) unstable; urgency=low

  * Temp files split_error* should be removed when program is quit
    (ocs-functions).
  * An option "-sc" was added to skip checking the converted image 
    for ocs-cvtimg-comp.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 09 Dec 2013 17:14:23 +0800

clonezilla (3.8.18-drbl1) unstable; urgency=low

  * Bug fixed: program ocs-chkimg failed to check missing partition
    image file.
  * An option -n|--no-cvt-dev (do not convert the device name) was added
    to create-ocs-tmp-img.
  * Function get_target_dir_name_when_saving was updated with one more option,
    get_target_dir_name_when_converting_img was added, and 
    get_image_cat_zip_cmd of ocs-functions will give gloable variable
    img_comp_format, too.
  * A new program ocs-cvtimg-comp was added so that it can be used to 
    convert the compression of an image.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 09 Dec 2013 11:08:16 +0800

clonezilla (3.8.17-drbl1) unstable; urgency=low

  * Switched to use pixz instead of pxz for -z5p.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 07 Dec 2013 11:42:35 +0800

clonezilla (3.8.16-drbl1) unstable; urgency=low

  * Bug fixed: the dir of EFI in live zip file should be mode 755, not read-only.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 05 Dec 2013 11:40:43 +0800

clonezilla (3.8.15-drbl1) unstable; urgency=low

  * Somehow the boot parameter "ip=frommedia" made Ubuntu-based Clonezilla
    live's vmlinuz boot slowly. Because "ip=" is accepted by live-boot 
    with same function and it's shorter, use it.
  * When creating recovery zip file, if image is included, use "-0",
    i.e., not to compress it.
  * When a recovery iso/zip file is created, Clonezilla should honor the 
    original splash mechanism.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 27 Nov 2013 13:35:02 +0800

clonezilla (3.8.14-drbl1) unstable; urgency=low

  * Comments in program ocs-lang-kbd-conf were updated.
  * Bug fixed: Ubuntu-based Clonezilla live failed to make preset
    keyboard-layout work. Thanks to m-tm (m-tm _at_ gmx de) for 
    this bug report, and Michael Vinzenz for tests.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 25 Nov 2013 20:04:06 +0800

clonezilla (3.8.13-drbl1) unstable; urgency=low

  * Bug fixed: boot parameter "noprompt" was replaced by "noeject" in
    live-boot version 3. We should use that in Clonezilla.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 25 Nov 2013 10:23:09 +0800

clonezilla (3.8.12-drbl1) unstable; urgency=low

  * Some output messages of ocs-run were suppressed for DRBL client.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 19 Nov 2013 17:04:26 +0800

clonezilla (3.8.11-drbl1) unstable; urgency=low

  * Bug fixed: the method to detect if signed-shim exists or not in 
    efi-binary-hook was wrong.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 18 Nov 2013 15:14:19 +0800

clonezilla (3.8.10-drbl1) unstable; urgency=low

  * Bug fixed: the option "--extra-boot-param" of 
    create-drbl-live-by-pkg failed to accept multiple boot parameters.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 18 Nov 2013 10:01:27 +0800

clonezilla (3.8.9-drbl1) unstable; urgency=low

  * Unused codes in function decide_live_kernel_related_pkgs_from_debian
    of ocs-functions was updated. 

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 17 Nov 2013 21:59:23 +0800

clonezilla (3.8.8-drbl1) unstable; urgency=low

  * Bug fixed: ocs-iso and ocs-live-dev failed to parse multiple 
    options for "-n".

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 17 Nov 2013 21:58:43 +0800

clonezilla (3.8.7-drbl1) unstable; urgency=low

  * A better way to disable auto start service of upstart is used now
    in Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 10 Nov 2013 14:53:16 +0800

clonezilla (3.8.6-drbl1) unstable; urgency=low

  * Making Ubuntu-based Clonezilla live use "splash" in the boot parameters.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 08 Nov 2013 21:06:01 +0800

clonezilla (3.8.5-drbl1) unstable; urgency=low

  * Adding a language and keyboard configuration mechamism to work 
    with plymouth.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 08 Nov 2013 17:22:15 +0800

clonezilla (3.8.4-drbl1) unstable; urgency=low

  * Bug fixed: wrong path for new location of mbr.bin.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 05 Nov 2013 14:42:39 +0800

clonezilla (3.8.3-drbl1) unstable; urgency=low

  * Variable lh_ver_required in drbl-ocs.conf is set as 3.0.5-1.
  * Bug fixed: i386 arch of Ubuntu-based Clonezilla did not support 
    uEFI boot (non-secure).

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 30 Oct 2013 16:52:30 +0800

clonezilla (3.8.2-drbl1) unstable; urgency=low

  * Bug fixed: ldlinux.c32, libcom32.c32, libutil.c32 were not put
    in /isolinux/.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 28 Oct 2013 10:29:51 +0800

clonezilla (3.8.1-drbl1) unstable; urgency=low

  * Supporting syslinux/isolinux 6.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 27 Oct 2013 19:36:46 +0800

clonezilla (3.7.16-drbl1) unstable; urgency=low

  * The boot parameter "vmwgfx.blacklist=yes" was updated with 
    vmwgfx.enable_fbdev=no.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 22 Oct 2013 17:33:20 +0800

clonezilla (3.7.15-drbl1) unstable; urgency=low

  * Removing packages sysklogd, ttf-arphic-newsung, and x-ttcidfont-conf 
    from the packages list of create-drbl-live-by-pkg. Force to add zenity, 
    switch to lightdm instead of gdm3 which is too heavy when version 3.8 was
    included in Debian Sid.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 14 Oct 2013 16:36:01 +0800

clonezilla (3.7.14-drbl1) unstable; urgency=low

  * Removing codes about /etc/environment because it's not used in 
    Wheezy+ anymore.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 14 Oct 2013 10:21:06 +0800

clonezilla (3.7.13-drbl1) unstable; urgency=low

  * Improvement: adding slash in the sshfs command to avoid a remote issue. 
    Thanks to Baird Ramsey and Richard Freeman
    (https://sourceforge.net/p/clonezilla/bugs/171/).
  * Bug fixed: some service, e.g. ssh, is not disabled successfully when live
    system was created.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 13 Oct 2013 21:08:03 +0800

clonezilla (3.7.12-drbl1) unstable; urgency=low

  * Service "ipmievd" should not be started automatically in DRBL live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 11 Oct 2013 15:29:22 +0800

clonezilla (3.7.11-drbl1) unstable; urgency=low

  * Some codes were rewritten so "set -e" won't just exit in some cases.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 11 Oct 2013 13:57:51 +0800

clonezilla (3.7.10-drbl1) unstable; urgency=low

  * Bug fixed: create-gparted-live failed to include .disk file in
    the generated zip file.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 11 Oct 2013 08:08:53 +0800

clonezilla (3.7.9-drbl1) unstable; urgency=low

  * Bug fixed: $LIVE_MEDIA variable instead of /live/image should be 
    used in ocs-live-bug-report.
  * Variables lh_ver_required and debootstrap_ver_required in drbl-ocs.conf
    were updated.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 10 Oct 2013 21:54:02 +0800

clonezilla (3.7.8-drbl1) unstable; urgency=low

  * A language variable was added in the dialog prompt of ocs-onthefly
    so it's easier to customize.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 10 Oct 2013 21:38:58 +0800

clonezilla (3.7.7-drbl1) unstable; urgency=low

  * Prompts in create-ubuntu-live were updated.
  * Bug fixed: create-drbl-live failed to include .disk file in the 
    generated zip file.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 10 Oct 2013 13:21:47 +0800

clonezilla (3.7.6-drbl1) unstable; urgency=low

  * A language variable was added in the dialog prompt of ocs-sr 
    so it's easier to customize.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 08 Oct 2013 10:32:40 +0800

clonezilla (3.7.5-drbl1) unstable; urgency=low

  * Removing the /etc/resolv.conf in efi-binary-hook. 
    It's not required for live build version 3.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 06 Oct 2013 21:43:26 +0800

clonezilla (3.7.4-drbl1) unstable; urgency=low

  * Bug fixed: Czech locale name is cs_CZ, NOT cz_CZ
    (https://bugzilla.gnome.org/show_bug.cgi?id=708589).

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 03 Oct 2013 21:41:03 +0800

clonezilla (3.7.3-drbl1) unstable; urgency=low

  * Bug fixed: In DRBL live, /tftpboot/node_root/bin/hostname was deconfigured
    by chroot_hostname. We have to move 
    /tftpboot/node_root/bin/hostname.distrib as /tftpboot/node_root/bin/hostname.
    It was hostname.orig but now in live build 3 it has been changed
    as hostname.distrib.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 02 Oct 2013 22:01:28 +0800

clonezilla (3.7.2-drbl1) unstable; urgency=low

  * Bug fixed: some source files list of live system were not moved
    to source directory after create-*-live is run.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 01 Oct 2013 22:56:50 +0800

clonezilla (3.7.1-drbl1) unstable; urgency=low

  * Swithing to use Debian live packages (live-build, live-boot, live-config) 
    version 3 for creating Clonezilla/DRBL/GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 29 Sep 2013 15:19:12 +0800

clonezilla (3.6.20-drbl1) unstable; urgency=low

  * Removing packages xorg-docs-core, xfonts-100dpi, xfonts-75dpi, 
    and xfonts-scalable in gparted-live-hook.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 26 Sep 2013 13:29:16 +0800

clonezilla (3.6.19-drbl1) unstable; urgency=low

  * Only xorg instead of individual X packages is listed in 
    create-gparted-live. Let the Debian dependence decide that.
  * Updating some settings in create-drbl-live-*.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 26 Sep 2013 11:20:57 +0800

clonezilla (3.6.18-drbl1) unstable; urgency=low

  * Package localepurge has to be installed after debconf-set-selections 
    preseeds the config in live hook.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 25 Sep 2013 19:33:57 +0800

clonezilla (3.6.17-drbl1) unstable; urgency=low

  * Option "-h" was added to ocs-put-signed-grub2-efi-bldr and 
    ocs-gen-grub2-efi-bldr.
  * Using debconf-set-selections instead of debconf-communicate in 
    preseeding localepurge.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 25 Sep 2013 15:37:51 +0800

clonezilla (3.6.16-drbl1) unstable; urgency=low

  * "zh_TW" was removed in locale_to_keep_for_no_X of ocs-live-hook.conf 
    since only zh_TW.UTF-8 is used.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 24 Sep 2013 15:00:14 +0800

clonezilla (3.6.15-drbl1) unstable; urgency=low

  * The function set_localepurge in ocs-live-hook-functions was updated to 
    fit localepurge 0.7.3. It's because the new feature 
    "localepurge/use-dpkg-feature" has to be configured otherwise 
    localepurge won't run.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 24 Sep 2013 14:36:37 +0800

clonezilla (3.6.14-drbl1) unstable; urgency=low

  * Updating the grub.cfg created by ocs-live-boot-menu by setting
    gfxmode=auto, removing load_video and faekbios.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 24 Sep 2013 11:11:13 +0800

clonezilla (3.6.13-drbl1) unstable; urgency=low

  * Help message was added in get-latest-ocs-live-ver.
  * The options of genisoimage in ocs-iso was rearranged.
  * Rearranging the options for genisoimage in create-drbl-live and 
    create-gparted-live so that isolinux 5.10 could boot on some 
    real machines. Besides, not all included files are used with -graft-points. 
    This is the key point for the workaround.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 23 Sep 2013 21:31:35 +0800

clonezilla (3.6.12-drbl1) unstable; urgency=low

  * Programs ocs-devsort and ocs-socket were added with help messages.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 22 Sep 2013 12:57:31 +0800

clonezilla (3.6.11-drbl1) unstable; urgency=low

  * Help messages were added in ocs-langkbdconf-bterm and ocsmgrd.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 21 Sep 2013 22:53:40 +0800

clonezilla (3.6.10-drbl1) unstable; urgency=low

  * Stale files ocs-help, ocs-live-help and ocs-create-gpt were removed.
  * Help message was added in ocs-live-final-action.
  * Usage prompt were added in ocs-live-general, ocs-live-save,
    and ocs-live-restore.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 21 Sep 2013 16:10:53 +0800

clonezilla (3.6.9-drbl1) unstable; urgency=low

  * More comments were added in the file /boot/grub/grub.cfg of live
    CD/USB files.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 21 Sep 2013 11:21:45 +0800

clonezilla (3.6.8-drbl1) unstable; urgency=low

  * Program ocs-put-signed-grub2-efi-bldr should also put grub efi modules.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 20 Sep 2013 23:57:31 +0800

clonezilla (3.6.7-drbl1) unstable; urgency=low

  * When /EFI/boot/bootx64.efi does not exist in the template iso, 
    those EFI related files won't be included in the created live files.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 20 Sep 2013 20:25:55 +0800

clonezilla (3.6.6-drbl1) unstable; urgency=low

  * An extra dir /boot/grub/ was added so that the signed grubx64.efi 
    from ubuntu could read the grub.cfg.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 19 Sep 2013 21:49:44 +0800

clonezilla (3.6.5-drbl1) unstable; urgency=low

  * Programs ocs-iso and ocs-live-dev should allow only one of bootx64.efi 
    and bootx86.efi under /EFI/boot when checking if generating grub.cfg.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 19 Sep 2013 17:25:29 +0800

clonezilla (3.6.4-drbl1) unstable; urgency=low

  * Hook file efi-binary-hook failed to create files in correct path 
    for Ubuntu-based Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 19 Sep 2013 16:49:59 +0800

clonezilla (3.6.3-drbl1) unstable; urgency=low

  * Programs ocs-iso and ocs-live-dev should allow only one of 
    bootx64.efi and bootx86.efi under /EFI/boot.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 19 Sep 2013 16:02:57 +0800

clonezilla (3.6.2-drbl1) unstable; urgency=low

  * Bug fixed: ocs-put-signed-grub2-efi-bldr run in efi-binary-hook 
    should use chroot environment, not running OS.
  * An option "-c" was added to ocs-put-signed-grub2-efi-bldr.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 19 Sep 2013 14:12:39 +0800

clonezilla (3.6.1-drbl1) unstable; urgency=low

  * Forcing to add grub-efi-ia32-bin and grub-efi-amd64-bin when downloading 
    in ocs-gen-grub2-efi-bldr. Otherwise somehow in some cases they won't be 
    downloaded.
  * The signed EFI 1st and 2nd stage files from Ubuntu are used for secure 
    booting in Ubuntu-based Clonezilla live. While for Debian-based one, 
    we still follow the distribution, i.e. do not support uEFI secure boot.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 18 Sep 2013 23:43:35 +0800

clonezilla (3.5.37-drbl2) unstable; urgency=low

  * Putting the extra boot prompt in the 1st line of help text 
    for syslinux/pxelinux boot menu.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 13 Sep 2013 21:06:40 +0800

clonezilla (3.5.36-drbl1) unstable; urgency=low

  * An option "-r" was added in ocs-live-boot-menu so that we can add 
    more prompt in the boot menu.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 13 Sep 2013 20:32:26 +0800

clonezilla (3.5.35-drbl1) unstable; urgency=low

  * The lvm2 service is disabled in GParted live 
    (https://bugzilla.gnome.org/show_bug.cgi?id=702461).

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 12 Sep 2013 09:07:53 +0800

clonezilla (3.5.34-drbl1) unstable; urgency=low

  * If ocs_prep_ocsroot_ask_dir is not "no" in prep-ocsroot, 
    we just mount the partition as $ocsroot. 
    Otherwise it's a little confusing.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 09 Sep 2013 08:57:25 +0800

clonezilla (3.5.33-drbl1) unstable; urgency=low

  * An extra ":" in the dialog prompt was removed from ocs-onthefly.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 08 Sep 2013 14:18:35 +0800

clonezilla (3.5.32-drbl1) unstable; urgency=low

  * Bug fixed: if somehow grub boot is found, while root does not exist, 
    the boot mounting point should be unmounted before function 
    test_run_grub2_from_restored_os or test_run_grub1_from_restored_os 
    is exited in ocs-functions.
  * The steps in program ocs-onthefly was refined so it's simplified 
    and easier to read.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 08 Sep 2013 12:10:00 +0800

clonezilla (3.5.31-drbl1) unstable; urgency=low

  * Postrun opton in program "clonezilla" should be passed to ocs-onthefly.
  * If the disk partition on destination disk is created, no need to ask 
    one more confirmation when running ocs-onthefly.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 07 Sep 2013 16:17:22 +0800

clonezilla (3.5.30-drbl1) unstable; urgency=low

  * Removing the duplicated question mark after
    $msg_are_u_sure_u_want_to_continue.
  * Making the interactive menu could be optionally shown for 
    "ocs-onthefly -x".

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 07 Sep 2013 09:09:12 +0800

clonezilla (3.5.29-drbl1) unstable; urgency=low

  * Two more optional TUI prompts were added in ocs-function.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 06 Sep 2013 23:48:24 +0800

clonezilla (3.5.28-drbl1) unstable; urgency=low

  * A better mechanism to get font size for KMS console was implemented.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 05 Sep 2013 11:04:17 +0800

clonezilla (3.5.27-drbl1) unstable; urgency=low

  * Comments about using local clonezilla live copy for 
    iso_url_for_pxe_ocs_live_default was added in drbl-ocs.conf.
  * Using variable for the dialog title in program "clonezilla" and ocs-sr.
  * Only when "$ocs_sr_extra_restore_mode" is not "no" the other menus 
    about restoring image (1-2-mdisk, check image...) will be shown in 
    ocs-sr interactive mode.
  * Removing the duplicated 'select the mode' prompt in ocs-sr 
    interactive mode.
  * Variable messages_shown_preference is used in 
    confirm_continue_no_default_answer function of ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 04 Sep 2013 22:41:38 +0800

clonezilla (3.5.26-drbl1) unstable; urgency=low

  * The small font size in KMS mode has been improved.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 02 Sep 2013 17:40:36 +0800

clonezilla (3.5.25-drbl1) unstable; urgency=low

  * The extra ":' in function get_input_dev_name of ocs-functions was removed.
  * The procedure about mounting local device as image repository in 
    prep-ocsroot was improved.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 01 Sep 2013 11:40:08 +0800

clonezilla (3.5.24-drbl1) unstable; urgency=low

  * The prompt about inserting USB flash drive when mounting image 
    repository was improved.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 31 Aug 2013 19:56:51 +0800

clonezilla (3.5.23-drbl1) unstable; urgency=low

  * The disabled service in upstart (/etc/init/) is named as
    *.conf.ocs-disabled instead of previous .conf.disabled.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 27 Aug 2013 12:55:59 +0800

clonezilla (3.5.22-drbl1) unstable; urgency=low

  * Giving more specific error messages when searching the unmounted
    partitions in get_input_dev_name.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 26 Aug 2013 23:13:55 +0800

clonezilla (3.5.21-drbl1) unstable; urgency=low

  * Bug fixed: ocs-srv-live should hide client's DRBL PXE boot menu.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 26 Aug 2013 08:56:04 +0800

clonezilla (3.5.20-drbl1) unstable; urgency=low

  * Variable clonezilla_client_menu_label_prefix is used in ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 25 Aug 2013 16:39:40 +0800

clonezilla (3.5.19-drbl1) unstable; urgency=low

  * A dummy file /etc/ocs/ocs-live.conf is put during DRBL live is created.
  * Program ocs-srv-live supports 2nd mode in the parameters.
  * A control variable ocs_prep_ocsroot_ask_dir was added in prep-ocsroot.
  * Two control variables, ocs_net_show_pppoe and ocs_net_show_enter_shell, were added in ocs-live-netcfg.
  * A control variable ocs_fsck_src_part was added in ocs-onthefly.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 24 Aug 2013 18:10:42 +0800

clonezilla (3.5.18-drbl1) unstable; urgency=low

  * Bug fixed: the mode in $live_auto_login_id_home/Desktop/Display.desktop 
    for DRBL live should be 755.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 20 Aug 2013 10:45:54 +0800

clonezilla (3.5.17-drbl1) unstable; urgency=low

  * Skipping xfce4 panel question when 1st login in DRBL live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 19 Aug 2013 09:56:58 +0800

clonezilla (3.5.16-drbl1) unstable; urgency=low

  * Options "-f -f" is used for ntfsresize in ocs-resize-part. 
    Thanks to Jerome Charaoui for this suggestion 
    (https://sourceforge.net/p/clonezilla/bugs/185/).

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 15 Aug 2013 14:51:10 +0800

clonezilla (3.5.15-drbl1) unstable; urgency=low

  * Program ocs-expand-mbr-pt will keep linux swap. Thanks to Fabien Voland
    for this suggestion.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 13 Aug 2013 20:28:45 +0800

clonezilla (3.5.14-drbl1) unstable; urgency=low

  * Bug fixed: function get_latest_kernel_ver_in_repository in ocs-functions
    failed to get correct kernel version number in Debian repository when 
    linux kernel package name like linux-image-3.10-2-rt-686-pae-dbg exists.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 10 Aug 2013 15:52:33 +0800

clonezilla (3.5.13-drbl1) unstable; urgency=low

  * Program drbl-ocs-live-prep now supports Clonezilla live iso from local path,
    e.g. file:///usr/share/iso/clonezilla-live-2.1.2-35-amd64.iso. 
    Thanks to Chris S for this suggestion.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 10 Aug 2013 15:07:34 +0800

clonezilla (3.5.12-drbl1) unstable; urgency=low

  * SD card device (/dev/mmcblk0) is supported.
  * Bug fixed: partclone.log should not be appended to clonezilla log 
    right after partclone is run in the background in local disk to 
    remote disk mode.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 07 Aug 2013 10:11:02 +0800

clonezilla (3.5.11-drbl1) unstable; urgency=low

  * Moved the dir /EFI-imgs in live CD/USB under the dir /EFI/, 
    and renamed it as images (so now it's /EFI/images/).
  * An option "sec=ntlm" was added in prep-ocsroot. Thanks to Jack and Dave Higton for reporting this issue.
  * Cancel action in prep-ocsroot should work now.
  * Use default DNS server 8.8.8.8 in ocs-live-netcfg.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 28 Jul 2013 11:25:34 +0800

clonezilla (3.5.10-drbl1) unstable; urgency=low

  * Adding saucy support in create-ubuntu-live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 26 Jul 2013 20:51:34 +0800

clonezilla (3.5.9-drbl1) unstable; urgency=low

  * Bug fixed: ocs-onthefly local disk to remote disk failed to update 
    the EFI nvram on remote machine.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 26 Jul 2013 12:13:17 +0800

clonezilla (3.5.8-drbl1) unstable; urgency=low

  * Bug fixed: the reference image option was not passed to 
    update-efi-nvram-boot-entry after image is restored.
  * Bug fixed: ocs-onthefly should not run update-efi-nvram-boot-entry 
    when cloning disks locally.
  * By default the lable name saved in efi-nvram.data will be used when
    running update-efi-nvram-boot-entry.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 26 Jul 2013 10:05:02 +0800

clonezilla (3.5.7-drbl1) unstable; urgency=low

  * Two more functions get_efi_hd_boot_entry_info and 
    get_part_uuid_in_harddrive were addded in ocs-functions.
  * File containing the output of "efibootmgr -v" will be saved as 
    efi-nvram.data in image dir.
  * By default Clonezilla will try to use the label saved from EFI NVRAM 
    when updating the EFI NVRAM after the the image is restored on 
    destination machine.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 25 Jul 2013 15:33:50 +0800

clonezilla (3.5.6-drbl1) unstable; urgency=low

  * Rename function get_latest_kernel_in_repository in create-ubuntu-live
    as get_latest_kernel_ver_in_repository, and move it to ocs-functions 
    so it can be reused.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 24 Jul 2013 16:11:11 +0800

clonezilla (3.5.5-drbl1) unstable; urgency=low

  * Using the warning color for skipping running update-nvram-efi-boot-entry 
    on Mac machine.
  * Program update-nvram-efi-boot-entry was renamed as 
    update-efi-nvram-boot-entry.
  * Add more files (/EFI/redhat/grub.efi and /EFI/opensuse/grubx64.efi) 
    in check lists of update-efi-nvram-boot-entry..

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 24 Jul 2013 14:41:01 +0800

clonezilla (3.5.4-drbl1) unstable; urgency=low

  * Formating the output of update-nvram-efi-boot-entry.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 23 Jul 2013 16:53:53 +0800

clonezilla (3.5.3-drbl1) unstable; urgency=low

  * A program update-nvram-efi-boot-entry was added for updating the booting 
    device in EFI NVRAM. Thanks to Les Mikesell (lesmikesell _at_ gmail com), 
    Laszlo Ersek (lacos _at_ caesar elte hu) and Peter Sun 
    (PeterSun _at_ ememory com tw) for reporting this issue.
  * An option "-iefi" was added in in the restoring dialog menu.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 23 Jul 2013 16:39:31 +0800

clonezilla (3.5.2-drbl1) unstable; urgency=low

  * More info will be shown in the output for ocs-chkimg.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 16 Jul 2013 09:49:40 +0800

clonezilla (3.5.1-drbl1) unstable; urgency=low

  * Bug fixed: *sda-img.info should not be included in the partition image
    to be restored.
  * Modification of ocs-functions and ocs-onthefly was done according to
    the changes in partclone 0.2.66.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 03 Jul 2013 10:54:21 +0800

clonezilla (3.4.12-drbl1) unstable; urgency=low

  * Bug fixed: sdap1 is not the partition of sda disk. Thanks to 
    julienb35 for supporting this issue.
    Ref: https://sourceforge.net/p/clonezilla/bugs/179/
  * The disk size info will be shown when selecting the images during restoring.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 30 Jun 2013 10:25:44 +0800

clonezilla (3.4.11-drbl1) unstable; urgency=low

  * A summary of ocs-chkimg will be shown after image is checked.
    Thanks to Elke Moritz <moritz _at_ linuxtag org> for this suggestion.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 23 Jun 2013 14:13:11 +0800

clonezilla (3.4.10-drbl2) unstable; urgency=low

  * Required partclone version was updated to 0.2.62 due to a jfs bug has 
    been fixed.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 19 Jun 2013 15:04:36 +0800

clonezilla (3.4.10-drbl1) unstable; urgency=low

  * Bug fixed: to keep the mechanism remove_start_stop_daemon_diverts 
    working for live-build v2.x and v3.x, we have to 
    set_start_stop_daemon_diverts after remove_start_stop_daemon_diverts 
    in ocs-live-hook.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 16 Jun 2013 10:04:37 +0800

clonezilla (3.4.9-drbl1) unstable; urgency=low

  * Bug fixed: the start-stop-daemon divert mechanism in live-hook failed.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 10 Jun 2013 21:28:35 +0800

clonezilla (3.4.8-drbl1) unstable; urgency=low

  * Bug fixed: the /sbin/start-stop-daemon in the chroot should be removed 
    before running dpkg-divert.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 10 Jun 2013 19:56:37 +0800

clonezilla (3.4.7-drbl1) unstable; urgency=low

  * Function remove_cdebootstrap-helper-diverts was renamed as 
    remove_start_stop_daemon_diverts in the live-hook directory.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 10 Jun 2013 17:25:13 +0800

clonezilla (3.4.6-drbl1) unstable; urgency=low

  * Bug fixed: the reverted file for /sbin/start-stop-daemon is 
    /sbin/start-stop-daemon.distrib for live-build v3.x. We have to 
    reverted back before running "drblpush -i" when creating DRBL live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 10 Jun 2013 16:46:12 +0800

clonezilla (3.4.5-drbl1) unstable; urgency=low

  * Bug fixed: A better method was implemented to detect the finishing
    of live-config in S00ocs-start.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 06 Jun 2013 11:37:17 +0800

clonezilla (3.4.4-drbl1) unstable; urgency=low

  * Bug fixed: S00ocs-start failed to deal with upstart services
    with same index number.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 05 Jun 2013 17:48:08 +0800

clonezilla (3.4.3-drbl1) unstable; urgency=low

  * Bug fixed: an error command in ocs-resize-part was fixed.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 26 May 2013 15:43:43 +0800

clonezilla (3.4.2-drbl1) unstable; urgency=low

  * Comments and coding about -k1/-k2 and -r in ocs-onthefly was improved.
  * Command ntfsfix will be run before resizing a NTFS partition
    if option "-icds" is assigned.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 26 May 2013 15:05:56 +0800

clonezilla (3.4.1-drbl1) unstable; urgency=low

  * The option "-m" of partclone (v 0.2.61) is deprecated, and now "-z" is used.
  * If the option "-icds" is used, option "-C" of partclone will be enabled, too.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 25 May 2013 17:15:11 +0800

clonezilla (3.3.48-drbl1) unstable; urgency=low

  * An option -vb|--vga-blacklist was added to ocs-live-boot-menu for 
    enabling VGA card blacklist in boot parameters. By default no blacklists 
    will be added.
  * Still enable VGA blacklists for DRBL and Clonezilla live, while 
    disable that for GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 16 May 2013 16:03:00 +0800

clonezilla (3.3.47-drbl1) unstable; urgency=low

  * VGA card blacklists in boot parameters were removed.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 16 May 2013 08:26:50 +0800

clonezilla (3.3.46-drbl1) unstable; urgency=low

  * Bug fixed: Option -icds of ocs-sr and ocs-onthefly should be passed to 
    ocs-expand-mbr-pt. Thanks to Jerome Charaoui for reporting this issue 
    (http://sourceforge.net/p/clonezilla/bugs/175/).

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 15 May 2013 20:52:53 +0800

clonezilla (3.3.45-drbl1) unstable; urgency=low

  * Comments in ocs-functions were updated.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 14 May 2013 09:10:22 +0800

clonezilla (3.3.44-drbl1) unstable; urgency=low

  * Bug fixed: get_mkswap_uuid_cmd in ocs-functions failed to detect 
    mkswap command for util-linux >= 2.20.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 13 May 2013 15:03:06 +0800

clonezilla (3.3.43-drbl1) unstable; urgency=low

  * Bug fixed: ocs-lvm2-stop did not load function disable_lvm2_udevd_rules 
    from drbl-functions.
  * Bug fixed: Function reduce_multipath_dev should use its own temp file.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 08 May 2013 15:38:44 +0800

clonezilla (3.3.42-drbl1) unstable; urgency=low

  * Using variable sys_pxelinux_v5p_required_c32 instead of 
    sys_pxelinux_required_c32 for related programs.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 06 May 2013 21:05:47 +0800

clonezilla (3.3.41-drbl1) unstable; urgency=low

  * Functioin disable_lvm2_udevd_rules is used in ocs-lvm2-stop.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 06 May 2013 14:04:26 +0800

clonezilla (3.3.40-drbl1) unstable; urgency=low

  * Bug fixed: cnvt-ocs-dev failed to convert GPT disk names.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 29 Apr 2013 20:35:13 +0800

clonezilla (3.3.39-drbl1) unstable; urgency=low

  * Bug fixed: cnvt-ocs-dev did not change the file name correctly.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 25 Apr 2013 20:31:47 +0800

clonezilla (3.3.38-drbl1) unstable; urgency=low

  * Making created live iso/zip file work for syslinux/isolinux 5.01.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 24 Apr 2013 21:28:38 +0800

clonezilla (3.3.37-drbl1) unstable; urgency=low

  * Bug fixed: cnvt-ocs-dev failed to convert cciss-related device. 
    Thanks to Andy Smith <a.smith _at_ ldex co uk> for reporting this issue.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 24 Apr 2013 20:31:21 +0800

clonezilla (3.3.36-drbl1) unstable; urgency=low

  * Package f2fs-tools was added for GParted live in create-gparted-live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 20 Apr 2013 09:12:47 +0800

clonezilla (3.3.35-drbl1) unstable; urgency=low

  * Bug fixed: when first menu (start_clonezilla or enter_shell)
    was cancelled, it still continued.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 17 Apr 2013 22:31:12 +0800

clonezilla (3.3.34-drbl1) unstable; urgency=low

  * The sample file "custom-ocs-1" was updated.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 10 Apr 2013 10:43:59 +0800

clonezilla (3.3.33-drbl1) unstable; urgency=low

  * Bug fixed: ocs-live-run-menu failed to get final action when not
    in jfbterm or bterm mode.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 09 Apr 2013 22:39:09 +0800

clonezilla (3.3.32-drbl1) unstable; urgency=low

  * The sample file "custom-ocs-1" was updated.
  * Bug fixed: Programs ocs-iso and ocs-live-dev were not updated to 
    reflect the new file name of Ubuntu-based Clonezilla live with 
    "-i386" in the file name.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 09 Apr 2013 21:14:39 +0800

clonezilla (3.3.31-drbl1) unstable; urgency=low

  * Some comments about "--retries-until-drop 50" for udp-sender was 
    added in drbl-ocs.conf.
  * The options "-j" of ocs-iso and ocs-live-dev were reverted because 
    we need this option when using Clonezilla live environment to 
    create Clonezilla live otherwise the template iso won't be assigned.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 09 Apr 2013 19:40:45 +0800

clonezilla (3.3.30-drbl1) unstable; urgency=low

  * Bug fixed: "Press ENTER to continue" message after poweroff/reboot 
    command is issued was not shown.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 04 Apr 2013 20:49:25 +0800

clonezilla (3.3.29-drbl1) unstable; urgency=low

  * Dialog menu prompt about final action of Clonezilla live was improved.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 03 Apr 2013 15:34:36 +0800

clonezilla (3.3.28-drbl1) unstable; urgency=low

  * Dialog menu is used in the final action of Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 03 Apr 2013 11:49:57 +0800

clonezilla (3.3.27-drbl1) unstable; urgency=low

  * The MAC address of network card will be shown when prompted in ocs-live-netcfg.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 02 Apr 2013 21:58:02 +0800

clonezilla (3.3.26-drbl1) unstable; urgency=low

  * Improving PXE client's boot parameter when using "select_in_client" mode.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 01 Apr 2013 14:12:48 +0800

clonezilla (3.3.25-drbl1) unstable; urgency=low

  * Bug fixed: when using "select_in_client" mode, the postrun action 
    should be passed to PXE clients.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 29 Mar 2013 17:14:14 +0800

clonezilla (3.3.24-drbl1) unstable; urgency=low

  * Bug fixed: the implemented method in is_spawned_by_drbl_ocs 
    wrongly parsed clonezilla live case.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 29 Mar 2013 11:59:18 +0800

clonezilla (3.3.23-drbl1) unstable; urgency=low

  * Typo in drbl-ocs.conf fixed.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 29 Mar 2013 08:30:40 +0800

clonezilla (3.3.22-drbl1) unstable; urgency=low

  * Bug fixed: GParted live an DRBL live were not isohybrided. 
    Thanks to cvbn for reporting this issue.
  * When running select-in-client mode on Clonezilla SE, job finished message will be sent, too.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 27 Mar 2013 13:59:21 +0800

clonezilla (3.3.21-drbl1) unstable; urgency=low

  * Bug fixed: fluxbox menu key function failed to start in GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 27 Mar 2013 10:51:10 +0800

clonezilla (3.3.20-drbl1) unstable; urgency=low

  * Bug fixed: Clonezilla SE client did not report the clonezilla job message
    when drbl-ocs is run with "-y1" option.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 26 Mar 2013 20:21:12 +0800

clonezilla (3.3.19-drbl1) unstable; urgency=low

  * Bug fixed: When using Clonezilla live as Clonezilla SE's client, 
    the option "-y1" won't work for select-in-client mode.
  * Message msg_etherboot_5_4_is_required in ocs-functions was disabled.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 25 Mar 2013 21:23:41 +0800

clonezilla (3.3.18-drbl1) unstable; urgency=low

  * The progress bar of resize2fs was turned on in ocs-resize-part.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 14 Mar 2013 11:29:00 +0800

clonezilla (3.3.17-drbl1) unstable; urgency=low

  * Bug fixed: ocs-onthefly failed to use with optioin "-k1" 
    (http://sourceforge.net/projects/clonezilla/forums/forum/663168/topic/6933289). 
    Thanks to Sebastien for reporting this issue.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 14 Mar 2013 10:05:19 +0800

clonezilla (3.3.16-drbl1) unstable; urgency=low

  * Prompt about skipping re-installing grub 1 in ocs-functions was improved.
  * Bug fixed: Program ocs-tux-postprocess should search LV, too.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 13 Mar 2013 11:13:40 +0800

clonezilla (3.3.15-drbl1) unstable; urgency=low

  * Program grub-install won't be run for grub1 on ext4 file system when 
    grub-install is from Debian.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 11 Mar 2013 22:45:31 +0800

clonezilla (3.3.14-drbl1) unstable; urgency=low

  * Typo in ocs-tux-postprocess was fixed.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 11 Mar 2013 14:03:54 +0800

clonezilla (3.3.13-drbl1) unstable; urgency=low

  * Bug fixed: for cloning partition mode, "-g auto" should not be turned on 
    by default. 
  * Program ocs-tux-postprocess was modified to process partition, not disk. 
    It will be more specific when using with disk or 
    partition restoring/cloning.
  * Bug fixed: no ocs-update-syslinux process in ocs-onthefly.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 11 Mar 2013 11:58:37 +0800

clonezilla (3.3.12-drbl1) unstable; urgency=low

  * Improvement: Minix slice and sub-partition won't be imaged twice.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 05 Mar 2013 11:08:12 +0800

clonezilla (3.3.11-drbl2) unstable; urgency=low

  * Adding ntfs-3g as another option for ntfsprogs. 

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 01 Mar 2013 09:06:42 +0800

clonezilla (3.3.11-drbl1) unstable; urgency=low

  * Minix support was enabled since partclone 0.2.49 now works for minix.
  * File control was updated for the required packages and versions.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 01 Mar 2013 08:37:08 +0800

clonezilla (3.3.10-drbl1) unstable; urgency=low

  * Bug fixed: ocs-chkimg failed to check the swap partition of cciss devices.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 26 Feb 2013 17:45:41 +0800

clonezilla (3.3.9-drbl1) unstable; urgency=low

  * Minor improvement in function install_grub_hd.
  * Bug fixed: grub2-install failed to install the correct path in some cases.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 26 Feb 2013 14:49:04 +0800

clonezilla (3.3.8-drbl1) unstable; urgency=low

  * Bug fixed: duplicated function get_partition_list 
    in ocs-functions was removed.
  * Bug fixed: local part to local part clone failed.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 22 Feb 2013 17:50:58 +0800

clonezilla (3.3.7-drbl1) unstable; urgency=low

  * Bug fixed: failed to locate grub partition on cciss disk.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 22 Feb 2013 15:49:13 +0800

clonezilla (3.3.6-drbl1) unstable; urgency=low

  * An option -srel|--save-restore-error-log to force saving error log in
    the image dir was added in ocs-sr and drbl-ocs. By default we do not save
    that in the image dir when restoring. Only when saving it will be saved in
    the image dir. Thanks to futuremonkey for this suggestion.
  * 

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 19 Feb 2013 20:58:43 +0800

clonezilla (3.3.5-drbl1) unstable; urgency=low

  * Bug fixed: multipath restoring for LVM failed due to do loop problem.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 13 Feb 2013 22:28:03 +0800

clonezilla (3.3.4-drbl1) unstable; urgency=low

  * Option "-m 1024" is used in ocs-onthefly, too.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 12 Feb 2013 14:21:25 +0800

clonezilla (3.3.3-drbl1) unstable; urgency=low

  * Using the variable sys_pxelinux_required_c32 definied in drbl.conf
    for ocs-update-syslinux.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 11 Feb 2013 20:12:26 +0800

clonezilla (3.3.2-drbl1) unstable; urgency=low

  * Adding "-m 1024" option to partclone. 
    Thanks to Ingo Wolf <Ingo.Wolf _at_ gmx de> for this suggestion.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 10 Feb 2013 22:43:31 +0800

clonezilla (3.3.1-drbl1) unstable; urgency=low

  * Bug fixed: for Syslinux 5, 3 more files are required in 
    ocs-update-syslinux, i.e. ldlinux.c32, libcom32.c32, libutil.c32

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 07 Feb 2013 17:26:46 +0800

clonezilla (3.3.0-drbl1) unstable; urgency=low

  * The patches from Ceasar Sun for Fedora 17/18 were applied.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 05 Feb 2013 11:07:03 +0800

clonezilla (3.2.17-drbl1) unstable; urgency=low

  * Program fail-mbr.bin from partclone instead the one from 
    drbl is used from now on.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 22 Jan 2013 11:40:15 +0800

clonezilla (3.2.16-drbl1) unstable; urgency=low

  * Bug fixed: ocs-onthefly failed to run disk to remote disk cloning.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 22 Jan 2013 10:15:55 +0800

clonezilla (3.2.15-drbl1) unstable; urgency=low

  * The size of a partition will be got from lsblk first in ocs-get-part-info
    if program lsblk exists.
  * The options of ocs-resize-part have been changed. No more separating them 
    as "ocs-resize-part sda 1", now using "ocs-resize-part /dev/sda1" so that 
    we can use that for dm in the future.
  * The output file Info-lsblk.txt has been renamed to blkdev.list with
    formatted output.
  * Using file system info from lsblk (blkdev.list) since it's much easier 
    to use than the output of parted if it's device mapper devices.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 20 Jan 2013 22:10:35 +0800

clonezilla (3.2.14-drbl1) unstable; urgency=low

  * Adding Xen disk (/dev/xvd[a-z]) in the support device.
  * Adding one more info file "Info-lsblk.txt", lsblk output.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 17 Jan 2013 11:26:31 +0800

clonezilla (3.2.13-drbl1) unstable; urgency=low

  * Using the mapping file instead of /proc/partitions in ocs-chnthn-functions, ocs-functions and ocs-restore-mdisks.
  * Using the get_disk_list in ocs-chnthn.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 14 Jan 2013 23:04:58 +0800

clonezilla (3.2.12-drbl1) unstable; urgency=low

  * Commets about using blkid to get file system was added in ocs-get-part-info.
  * Bug fixed: drbl-ocs-live-prep failed to identify the new, different arch 
    of iso for the alternative testing Clonezilla live on the repository.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 11 Jan 2013 11:00:00 +0800

clonezilla (3.2.11-drbl1) unstable; urgency=low

  * Bug fixed: failed to parse cciss/c0d0's partition number. 
    It should be nothing.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 10 Jan 2013 11:37:59 +0800

clonezilla (3.2.10-drbl1) unstable; urgency=low

  * Bug fixed: Typos in ocs-chkimg and ocs-functions were fixed.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 09 Jan 2013 23:04:08 +0800

clonezilla (3.2.9-drbl1) unstable; urgency=low

  * Function active_proc_partitions was moved to ocs-functions from drbl-functions.
  * Bug fixed: Swap partition of cciss partition was not saved and restored.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 09 Jan 2013 20:31:30 +0800

clonezilla (3.2.8-drbl1) unstable; urgency=low

  * Program create-ocs-tmp-img has been improved to be multipath compatible.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 09 Jan 2013 10:52:07 +0800

clonezilla (3.2.7-drbl1) unstable; urgency=low

  * Bug fixed: ocs-get-part-info failed to identify the cciss partition type.
  * Bug fixed: failed to identify logical partitioin in ocs-expand-mbr-pt.
  * Program cnvt-ocs-dev has been improved to be multipath compatible.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 09 Jan 2013 10:33:49 +0800

clonezilla (3.2.6-drbl1) unstable; urgency=low

  * All "hsv" related codes of Clonezilla were converted to multipath compatible.
  * The multipath codes from Miracle Linux were merged.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 08 Jan 2013 22:12:57 +0800

clonezilla (3.2.5-drbl1) unstable; urgency=low

  * Put the output of restore_hidden_data_after_MBR to log file, too.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 05 Jan 2013 21:36:52 +0800

clonezilla (3.2.4-drbl1) unstable; urgency=low

  * Typo fixed: "Unmouted" -> "Unmounted" in ocs-functions. 
    Thanks to Peter Bratton <peter _at_ bratton ca> for reporting this.
  * Part of the LVM codes from Miracle Linux were merged.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 05 Jan 2013 15:52:12 +0800

clonezilla (3.2.3-drbl1) unstable; urgency=low

  * Bug fixed: Getting default gateway was not working in function 
    network_config_if_necessary of ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 03 Jan 2013 19:38:27 +0800

clonezilla (3.2.2-drbl1) unstable; urgency=low

  * Using "route -n" instead of "route" to find the default 
    gateway in function network_config_if_necessary of ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 03 Jan 2013 17:49:10 +0800

clonezilla (3.2.1-drbl1) unstable; urgency=low

  * Two log files were separated from clonezilla.log: 
    ocs-netcfg.log and ocs-mount.log.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 03 Jan 2013 17:23:13 +0800

clonezilla (3.2.0-drbl1) unstable; urgency=low

  * Removing packages exfat-utils and exfat-fuse create-gparted-live.
  * If udevadm exists, use it to get the disk serial number. 
    Thanks to Miracle Linux for this idea.
  * Define the OCS_LOGFILE variable in drbl-ocs.conf.
  * The variable DRBL_SCRIPT_PATH in gparted-live-hook was removed. 
    It's not used when creating GParted live.
  * Function parse_cmdline_option in gl-functions was updated to be 
    the same as that in drbl-functions.
  * File ocs-devsort from Miracle Linux was added.
  * Part of the modifications from Miracle Linux were merged, including 
    using functions get_diskname, get_part_number... and logging the 
    screen output in /var/log/clonezilla.log.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 03 Jan 2013 14:13:09 +0800

clonezilla (3.1.38-drbl1) unstable; urgency=low

  * Using functions to decide if GPT or MBR disk in ocs-onthefly.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 24 Dec 2012 21:05:54 +0800

clonezilla (3.1.37-drbl1) unstable; urgency=low

  * Using functions to decide if GPT or MBR disk in ocs-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 24 Dec 2012 16:22:42 +0800

clonezilla (3.1.36-drbl1) unstable; urgency=low

  * Adding packages exfat-utils, exfat-fuse and tcplay in create-gparted-live.
  * Bug fixed: EFI booting for DRBL live did not really work.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 23 Dec 2012 10:52:13 +0800

clonezilla (3.1.35-drbl1) unstable; urgency=low

  * Package grub-pc instead of grub is put in the packages list
    of create-gparted-live.
  * Program create-gparted-live now supports creating amd64 release.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 22 Dec 2012 23:29:12 +0800

clonezilla (3.1.34-drbl1) unstable; urgency=low

  * Bug fixed: EFI booting for GParted live did not really work.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 22 Dec 2012 15:16:16 +0800

clonezilla (3.1.33-drbl1) unstable; urgency=low

  * Bug fixed: Usage prompt for "-f" in create-debian-live was not updated.
  * Option "-f" was added to create-ubuntu-live so that amd64 version of 
    Clonezilla live could be created.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 20 Dec 2012 20:51:45 +0800

clonezilla (3.1.32-drbl1) unstable; urgency=low

  * If the hidden data size won't be saved, a note file should be 
    saved in the image dir.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 20 Dec 2012 13:40:15 +0800

clonezilla (3.1.31-drbl1) unstable; urgency=low

  * Bug fixed: install_grub_hd should not run for GPT disk.
  * If the hidden data size after MBR is larger than 
    $hidden_data_after_mbr_limit (definited in drbl-ocs.conf), it won't be saved.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 19 Dec 2012 22:25:12 +0800

clonezilla (3.1.30-drbl1) unstable; urgency=low

  * Bug fixed: No more using "Something went wrong" message, instead more 
    precise messages will be given.
  * Module floppy was added in the blacklist in Clonezilla live and DRBL live. 
    The floppy is normally useless but if it exists, it might cause the disk d
    etection delay. If floppy is required, a user still can run 
    "modprobe floppy" to load it.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 16 Dec 2012 05:21:58 +0800

clonezilla (3.1.29-drbl1) unstable; urgency=low

  * Bug fixed: typos in the prompt were fixed.
  * Bug fixed: To avoid the OS does not know the partition changes, a commnad 
    "partprobe" was added in prep-ocsroot after local disk is inserted. 
    Thanks to neikalo for reporting this issue 
    (https://sourceforge.net/tracker/index.php?func=detail&aid=3592776&group_id=115473&atid=671650).
  * Bug fixed: To avoid grub1 on ext4 issue, running the grub-install from the 
    restored OS should be try first. If fails, then using the grub1 on the 
    running OS.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 09 Dec 2012 00:09:54 +0800

clonezilla (3.1.28-drbl1) unstable; urgency=low

  * Bug fixed: partition table should be initialized before using 
    function check_mbr_disk_size_gt_2TiB.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 05 Dec 2012 15:14:40 +0800

clonezilla (3.1.27-drbl1) unstable; urgency=low

  * Bug fixed: converting the checking mechanism of 2 TiB as 
    function and using that all before writing MBR partition table 
    on a hard disk.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 05 Dec 2012 10:53:24 +0800

clonezilla (3.1.26-drbl1) unstable; urgency=low

  * Bug fixed: MBR partition table should not be larger than 2 TiB (2.2 TB). 
    A checking mechanism was added in ocs-expand-mbr-pt to avoid going on.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 04 Dec 2012 23:05:46 +0800

clonezilla (3.1.25-drbl1) unstable; urgency=low

  * Bug fixed: the description for the option "-r" of ocs-sr and ocs-onthefly was polished. Thanks to auroracore.
  * Updtaed the lh_ver_required in drbl-ocs.conf, and since we no more using cdebootstrap to create Clonezilla/DRBL/GParted live, variable should change to debootstrap_ver_required instead of cdebootstrap_ver_required.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 01 Dec 2012 11:30:02 +0800

clonezilla (3.1.24-drbl1) unstable; urgency=low

  * Bug fixed: the -k option of ocs-iso and ocs-live-dev should 
    be updated since now keyboard layout boot parameter from 
    live-config is used.
  * Bug fixe: the batch_mode on the server is nothing to do with 
    that on the client in the program ocs-onthefly. Thanks to kevluck373 
    for reporting this issue 
    (https://sourceforge.net/projects/clonezilla/forums/forum/663168/topic/6188724).
  * The options "-j" and "-n" of ocs-iso and ocs-live-dev were removed 
    because we won't put the template iso on the repository anymore.
  * No more using templiate iso from reporitory, now we use clonezilla live
    iso when running ocs-iso or ocs-live-dev to create a recovery iso or zip.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 30 Nov 2012 09:15:43 +0800

clonezilla (3.1.23-drbl1) unstable; urgency=low

  * Locale ca_ES will be generated when creating Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 28 Nov 2012 20:06:48 +0800

clonezilla (3.1.22-drbl1) unstable; urgency=low

  * Bug fixed: for Debian live 3.x, the filesystem.squashfs is 
    in /lib/live/image.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 24 Nov 2012 11:45:41 +0800

clonezilla (3.1.21-drbl1) unstable; urgency=low

  * Bug fixed: the for loop for searching files /lib/udev/rules.d/*.drblsave
    should test if file really exists before going on.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 23 Nov 2012 20:57:54 +0800

clonezilla (3.1.20-drbl1) unstable; urgency=low

  * Help messages about autoproductname were added.
  * Another partition table file was added in image dir. 
    It's easier for human to read.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 23 Nov 2012 19:40:46 +0800

clonezilla (3.1.19-drbl1) unstable; urgency=low

  * Bug fixed: ocs-lvm2-stop did not work on Ubuntu Linux due to 
    the udevd rules 85-lvm2.rules from Ubuntu.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 20 Nov 2012 22:09:51 +0800

clonezilla (3.1.18-drbl1) unstable; urgency=low

  * Suppress the stderr messages of ocs-lvm2-start and ocs-lvm2-stop.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 08 Nov 2012 08:44:54 +0800

clonezilla (3.1.17-drbl1) unstable; urgency=low

  * Bug fixed: uEFI booting of Quantal-based Clonezilla failed due to 
    grub 2.x has no "pci.mod", so we should not list it.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 04 Nov 2012 14:01:42 +0800

clonezilla (3.1.16-drbl1) unstable; urgency=low

  * Bug fixed: for live-config v3.x, the last file in /lib/live/config/ 
    is 9990-hooks, not 999-hooks. S00ocs-start should honor 9990-hooks, too.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 29 Oct 2012 20:55:55 +0800

clonezilla (3.1.15-drbl1) unstable; urgency=low

  * Bug fixed: the filesystem.squashfs is in /lib/live/image/ when created by live-build 3.x.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 29 Oct 2012 13:38:26 +0800

clonezilla (3.1.14-drbl1) unstable; urgency=low

  * Bug fixed: autohostname failed to append the time tag for the image name.
    Thanks to dennisd248 for reporthing this bug.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 28 Oct 2012 10:41:03 +0800

clonezilla (3.1.13-drbl1) unstable; urgency=low

  * Bug fixed: the *.mod files for grub2 are not fixed in the path /boot/grub/. 
    It could be in /boot/grub/i386-pc/. Function install_grub_hd failed in 
    this case.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 24 Oct 2012 22:21:26 +0800

clonezilla (3.1.12-drbl1) unstable; urgency=low

  * Bug fixed: Prompts in create-ubuntu-live were out-of-date. They are updated 
    so there is no problem to create Raring-based Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 22 Oct 2012 15:33:07 +0800

clonezilla (3.1.11-drbl1) unstable; urgency=low

  * Bug fixed: variable DRBL_SCRIPT_PATH was not defined correctly in live-hook files 

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 28 Sep 2012 13:51:10 +0800

clonezilla (3.1.10-drbl1) unstable; urgency=low

  * Bug fixed: the install_grub_hd in ocs-live-dev should skip checking the boot loader on the USB flash drive, because it might be new, empty one.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 28 Sep 2012 11:46:52 +0800

clonezilla (3.1.9-drbl1) unstable; urgency=low

  * Typo fixed in ocs-live-boot-menu.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 26 Sep 2012 09:10:08 +0800

clonezilla (3.1.8-drbl1) unstable; urgency=low

  * To avoid the KMS and vmwgfx conflict issue (http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=686939), some blacklist boot parameters were added.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 26 Sep 2012 08:35:26 +0800

clonezilla (3.1.7-drbl1) unstable; urgency=low

  * Bug fixed: integer too large won't work in bash if command, changed to bc.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 24 Sep 2012 17:00:37 +0800

clonezilla (3.1.6-drbl1) unstable; urgency=low

  * Bug fixed: the VOL_LIMIT for spliting image file could not larger than 20000000000000. Ref: https://sourceforge.net/tracker/?func=detail&atid=671650&aid=3567350&group_id=115473
  * Bug fixed: saving mode should enable ncurse interface by default, too. Otherwise it's confusing.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 24 Sep 2012 14:46:41 +0800

clonezilla (3.1.5-drbl1) unstable; urgency=low

  * A KMS mode in the boot menu was added.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 08 Sep 2012 09:26:14 +0800

clonezilla (3.1.4-drbl1) unstable; urgency=low

  * Bug fixed: when vga=normal, locales was not set in /etc/ocs/ocs-live.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 07 Sep 2012 06:13:40 +0800

clonezilla (3.1.3-drbl1) unstable; urgency=low

  * Using drbl-run-parts instead of run-parts. This will be more 
    straightforward.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 05 Sep 2012 07:30:17 +0800

clonezilla (3.1.2-drbl1) unstable; urgency=low

  * A reserved image name "autoproductname" was added so that Clonezilla 
    can be used to save and restore image based on manufacture and product 
    name got from dmidecode.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 27 Aug 2012 14:23:46 +0800

clonezilla (3.1.1-drbl1) unstable; urgency=low

  * Removing the vague "Something went wrong" prompts.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 26 Aug 2012 10:22:32 +0800

clonezilla (3.1.0-drbl1) unstable; urgency=low

  * Using drbl-sl instead of calling drbl-SL.sh now.
  * Using drbl-live.sh instead of calling drbl-live now. 
  * Adding the interpreter's magic number for ocs-functions, and 
    ocs-chnthn-functions to avoid lintian's warning.
  * Fie ocs-srv-live.sh was renamed as ocs-srv-live.
  * Bug fixed: an extra "{" in the end of MC_HxEd was removed.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 25 Aug 2012 11:48:21 +0800

clonezilla (3.0.10-drbl1) unstable; urgency=low

  * Boot parameter "nolocales" was removed from Clonezilla live since 
    now "locales=" is used by default.
  * Prompt msg_client_job_are_logged_in was updated. 
    Thanks to Ren Mrou for asking.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 20 Aug 2012 15:00:36 +0800

clonezilla (3.0.9-drbl1) unstable; urgency=low

  * Tidy the boot parameters of Clonezilla live by modifying ocs-iso and ocs-live-dev.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 17 Aug 2012 10:54:55 +0800

clonezilla (3.0.8-drbl1) unstable; urgency=low

  * Boot parameter "ocs_lang" in Clonezilla live is now replaced by "locales" from live-config.
  * Boot parameter "ocs_live_keymap" Clonezilla live is now replaced by "keyboard-layouts" from live-config.
  * Boot parameters "echo_ocs_prerun" and "echo_ocs_postrun" were added. This can be used to disable echoing the ocs_prerun and ocs_postrun command.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 15 Aug 2012 23:16:05 +0800

clonezilla (3.0.7-drbl1) unstable; urgency=low

  * Bug fixed: The description using space key to mark the selection for disk to disk clone is not required. Thanks to sabrehagen (https://sourceforge.net/tracker/?func=detail&atid=671650&aid=3552271&group_id=115473).

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 15 Aug 2012 14:27:02 +0800

clonezilla (3.0.6-drbl1) unstable; urgency=low

  * Comments about isohybriding template iso and clonezilla/drbl/gparted iso were added.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 13 Aug 2012 09:17:18 +0800

clonezilla (3.0.5-drbl1) unstable; urgency=low

  * Using /usr/share/drbl instead of /usr/share/drbl/ so that no "//" in the PATH.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 12 Aug 2012 22:38:46 +0800

clonezilla (3.0.4-drbl1) unstable; urgency=low

  * Bug fixed: system PATH in live CD should include /sbin and /usr/sbin

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 09 Aug 2012 13:29:26 +0800

clonezilla (3.0.3-drbl1) unstable; urgency=low

  * Using file GPL instead of COPYING in live CD root dir.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 09 Aug 2012 10:30:32 +0800

clonezilla (3.0.2-drbl1) unstable; urgency=low

  * Bug fixed: drbl.conf and drbl-ocs.conf are not in $DRBL_SCRIPT_PATH/conf/ anymore.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 08 Aug 2012 22:35:05 +0800

clonezilla (3.0.1-drbl1) unstable; urgency=low

  * Adding experimental branch option in create-*-live, and remove unnecessary branch list.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 08 Aug 2012 19:39:45 +0800

clonezilla (3.0.0-drbl1) unstable; urgency=low

  * Clonezilla version 3. New files arch so it's easier to be packaged in Debian.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 07 Aug 2012 09:18:17 +0800

clonezilla (2.6.21-1drbl) unstable; urgency=low

  * The function get_live_autologin_account of gl-functions will now search the files in /etc/sudoers.d/, too.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 02 Aug 2012 14:25:44 +0800

clonezilla (2.6.20-1drbl) unstable; urgency=low

  * Bug fixed: leafpad in the fluxbox menu should not run with a terminal in GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 28 Jul 2012 10:01:23 +0800

clonezilla (2.6.19-1drbl) unstable; urgency=low

  * The man pages will be kept in GParted live (https://bugzilla.gnome.org/show_bug.cgi?id=680503).
  * Packages leafpad and pcmanfm were added in GParted live (https://bugzilla.gnome.org/show_bug.cgi?id=680504).

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 28 Jul 2012 08:49:13 +0800

clonezilla (2.6.18-1drbl) unstable; urgency=low

  * Do not remove libfreetype6 when creating Clonezilla live. It's required by fontconfig.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 27 Jul 2012 22:32:17 +0800

clonezilla (2.6.17-1drbl) unstable; urgency=low

  * Bug fixed: failed to multicast restore an EFI disk. 

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 27 Jul 2012 22:04:17 +0800

clonezilla (2.6.16-1drbl) unstable; urgency=low

  * The command to save an image will be saved in the image dir as file Info-saved-by-cmd.txt.
  * Adding package "man" in GParted live, and keeping the /usr/share/man files.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 25 Jul 2012 11:46:03 +0800

clonezilla (2.6.15-1drbl) unstable; urgency=low

  * Adding "sleep 5" after showning the warning about genisoimage not supporting "-efi-boot" option.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 21 Jul 2012 09:59:41 +0800

clonezilla (2.6.14-1drbl) unstable; urgency=low

  * The function get_live_autologin_account of ocs-functions will now search the files in /etc/sudoers.d/, too.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 14 Jul 2012 17:25:26 +0800

clonezilla (2.6.13-1drbl) unstable; urgency=low

  * Bug fixed: linux-image-extra version was not assigned correctly in Ubuntu-based (12.10 pre-release) Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 12 Jul 2012 20:13:55 +0800

clonezilla (2.6.12-1drbl) unstable; urgency=low

  * Package linux-image-extra was added in Ubuntu-based (12.10 pre-release) Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 12 Jul 2012 19:26:50 +0800

clonezilla (2.6.11-1drbl) unstable; urgency=low

  * File system exfat was added in partclone support file system.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 Jul 2012 22:53:41 +0800

clonezilla (2.6.10-1drbl) unstable; urgency=low

  * Netsurf icon was added on idesktop of GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 Jul 2012 04:49:14 +0800

clonezilla (2.6.9-1drbl) unstable; urgency=low

  * Comment was added in front of "Menu :RootMenu".

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 09 Jul 2012 23:38:24 +0800

clonezilla (2.6.8-1drbl) unstable; urgency=low

  * Bug fixed: "Menu :RootMenu" not "menu :RootMenu".

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 09 Jul 2012 19:26:49 +0800

clonezilla (2.6.7-1drbl) unstable; urgency=low

  * "menu :RootMenu" will be appended to fluxbox's keys file in GParted live. Ref: https://bugzilla.gnome.org/show_bug.cgi?id=578842#c8

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 05 Jul 2012 21:56:46 +0800

clonezilla (2.6.6-1drbl) unstable; urgency=low

  * Bug fixed: gl_lang taken from locales should be without ".UTF-8".

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 01 Jul 2012 19:36:45 +0800

clonezilla (2.6.5-1drbl) unstable; urgency=low

  * Function show_deprecated_ocs_gl_lang_and_keymap was added in gl-functions.
  * Separating the functions to show the deprecated messages for keybord and lang in Clonezilla/DRBL live and GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 01 Jul 2012 16:17:24 +0800

clonezilla (2.6.4-1drbl) unstable; urgency=low

  * Make the output of S03prep-drbl-clonezilla and S03prep-gparted-live better for reading.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 30 Jun 2012 14:03:07 +0800

clonezilla (2.6.3-1drbl) unstable; urgency=low

  * Showing deprecated messages about boot parameters ocs_live_keymap, ocs_lang, gl_kbd, gl_lang, and keyb.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 30 Jun 2012 13:36:17 +0800

clonezilla (2.6.2-1drbl) unstable; urgency=low

  * Bug fixed: wrong variables in S03prep-drbl-clonezilla and S03prep-gparted-live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 29 Jun 2012 15:30:37 +0800

clonezilla (2.6.1-1drbl) unstable; urgency=low

  * Comments were added in ocs-live-hook to mention about ocs_live_keymap is deprecated.
  * In DRBL/Clonezilla live, ocs_lang will honor the live-config boot parameter "locales", and live-config boot parameters "keyboard-layouts" or "live-config.keyboard-layouts" will be honored, too. From now on ocs_live_keymap is deprecated.
  * In GParted live, gl_lang will honor the live-config boot parameter "locales", and live-config boot parameters "keyboard-layouts" or "live-config.keyboard-layouts" will be honored, too. From now on "keyb" is deprecated.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 29 Jun 2012 11:37:57 +0800

clonezilla (2.5.42-1drbl) unstable; urgency=low

  * A better mechanism was implemented to decide the restored OS is using grub 1 or 2. Thanks to Robert Weir for reporting this issue on Fedora 17 restoring.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 20 Jun 2012 11:59:05 +0800

clonezilla (2.5.41-1drbl) unstable; urgency=low

  * Command "sleep 1" was added before running gdisk after sgdisk -l.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 18 Jun 2012 21:49:52 +0800

clonezilla (2.5.40-1drbl) unstable; urgency=low

  * Bug fixed: no grub config head data in ocs-gen-grub2-efi-bldr.
  * Booting on uEFI machine is supported in ocs-iso and ocs-live-dev.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 13 Jun 2012 16:47:42 +0800

clonezilla (2.5.39-1drbl) unstable; urgency=low

  * Improvement: if somehow protective MBR does not exist in GPT disk, we will create it.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 12 Jun 2012 22:04:57 +0800

clonezilla (2.5.38-1drbl) unstable; urgency=low

  * Bug fixed: (another one) when mounting partition in install_grub_hd, swap and extended partition should be skipped otherwise mount command might hang.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 07 Jun 2012 20:22:29 +0800

clonezilla (2.5.37-1drbl) unstable; urgency=low

  * Bug fixed: when mounting partition in install_grub_hd, swap and extended partition should be skipped otherwise mount command might hang.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 07 Jun 2012 16:45:19 +0800

clonezilla (2.5.36-1drbl) unstable; urgency=low

  * Force to add net-tools in packages list of create-gparted-live.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 20 May 2012 10:53:32 +0800

clonezilla (2.5.35-1drbl) unstable; urgency=low

  * Adding gptsync in packages list of create-gparted-live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 19 May 2012 10:09:13 +0800

clonezilla (2.5.34-1drbl) unstable; urgency=low

  * Bug fixed: Putting cifs as one of the network filesystem in prep-ocsroot.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 18 May 2012 20:05:09 +0800

clonezilla (2.5.33-1drbl) unstable; urgency=low

  * Adding Ubuntu Quantal support in create-ubuntu-live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 05 May 2012 16:34:46 +0800

clonezilla (2.5.32-1drbl) unstable; urgency=low

  * Allowing to enter command line prompt to create partition table when blank destination disk is found in restoreparts mode.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 17 Apr 2012 09:26:07 +0800

clonezilla (2.5.31-1drbl) unstable; urgency=low

  * "autohostname" was improved when no FQDN was found.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 Apr 2012 14:56:35 +0800

clonezilla (2.5.30-1drbl) unstable; urgency=low

  * Bug fixed: missing option -bt|--bootstrap for create-drbl-live-by-pkg.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 Apr 2012 13:44:38 +0800

clonezilla (2.5.29-1drbl) unstable; urgency=low

  * An option to use "autohostname" to create the image name was added.  Thanks to tererecool for this idea.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 08 Apr 2012 20:03:13 +0800

clonezilla (2.5.28-1drbl) unstable; urgency=low

  * Bug fixed: Non-free firmware doc should not be removed by function dirty_hacking_rm_files_for_ocs_live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 07 Apr 2012 10:27:01 +0800

clonezilla (2.5.27-1drbl) unstable; urgency=low

  * Non-free firmware doc will be included in Ubuntu-based Clonezilla live, too.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 07 Apr 2012 09:50:54 +0800

clonezilla (2.5.26-1drbl) unstable; urgency=low

  * More non-free firmware, e.g. ipw2200, will be included in Ubuntu-based Clonezilla live. Thanks to Shinobi (iam_shinobi _at_ yahoo com) for this suggestion.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 06 Apr 2012 21:50:22 +0800

clonezilla (2.5.25-1drbl) unstable; urgency=low

  * Vmfs5 supported by partclone was enabled in drbl-ocs.conf, because partclone 0.2.46 has supported it.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 05 Apr 2012 08:15:20 +0800

clonezilla (2.5.24-1drbl) unstable; urgency=low

  * Typo fixed in the previous grpck workaround.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 04 Apr 2012 22:01:54 +0800

clonezilla (2.5.23-1drbl) unstable; urgency=low

  * A workaround was added to avoid grpck error during booting. Ref: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=638263

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 04 Apr 2012 21:11:43 +0800

clonezilla (2.5.22-1drbl) unstable; urgency=low

  * A function get_not_busy_disks_or_parts was added in ocs-functions so it can be reused. 
  * A researved name "all" is used for finding all the devices in the system or in the image. Thanks to matthiaswe for this idea.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 19 Mar 2012 19:55:48 +0800

clonezilla (2.5.21-1drbl) unstable; urgency=low

  * Adding packages wicd and xvnc4viewe in drbl-live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 07 Mar 2012 10:58:15 +0800

clonezilla (2.5.20-1drbl) unstable; urgency=low

  * Adding packages "tree" and "cifs-utils" for gparted live in create-gparted-live.
  * The image of a partition saved by dd won't be treated as a broken one in ocs-chkimg.
  * The grub4 on ext4 warning will be shown again if grub1 is not run successfully.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 05 Mar 2012 14:28:23 +0800

clonezilla (2.5.19-1drbl) unstable; urgency=low

  * Adding package samba-common-bin in create-drbl-live-by-pkg.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 01 Mar 2012 22:18:24 +0800

clonezilla (2.5.18-1drbl) unstable; urgency=low

  * Enabling startpar for DRBL live server.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 27 Feb 2012 15:05:34 +0800

clonezilla (2.5.17-1drbl) unstable; urgency=low

  * Allowing cancellation when selecting a dir name for local image repository. Closed https://sourceforge.net/tracker/?func=detail&atid=671650&aid=3491047&group_id=115473

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 26 Feb 2012 11:22:44 +0800

clonezilla (2.5.16-1drbl) unstable; urgency=low

  * A warning message about grub 1 on ext4 partition will be shown.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 25 Feb 2012 23:06:16 +0800

clonezilla (2.5.15-1drbl) unstable; urgency=low

  * Replacing dillo with netsurf, and adding nilfs-tools in create-gparted-live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Feb 2012 10:21:38 +0800

clonezilla (2.5.14-2drbl) unstable; urgency=low

  * Switch to use "lrzip -q -d -o -" instead of "lrzcat -q" so that in order version of lrzip can be used. Closed https://sourceforge.net/tracker/index.php?func=detail&aid=3487541&group_id=115473&atid=671650.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 20 Feb 2012 14:32:04 +0800

clonezilla (2.5.13-2drbl) unstable; urgency=low

  * Update the requires for drbl 1.11.2.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 11 Feb 2012 09:10:08 +0800

clonezilla (2.5.13-1drbl) unstable; urgency=low

  * An option to start over while keeping the mounted image repository was added.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 10 Feb 2012 16:52:16 +0800

clonezilla (2.5.12-1drbl) unstable; urgency=low

  * Using btrfs instead of btrfsctl in ocs-resize-part.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 09 Feb 2012 15:29:58 +0800

clonezilla (2.5.11-1drbl) unstable; urgency=low

  * The prompt in ocs-update-syslinux was updated.
  * Force the kernel to re-read the partition table after sgdisk --zap-all the disk.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 06 Feb 2012 22:06:17 +0800

clonezilla (2.5.10-1drbl) unstable; urgency=low

  * Command fsck with options will be shown before running.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 03 Feb 2012 09:14:49 +0800

clonezilla (2.5.9-1drbl) unstable; urgency=low

  * The descriptions about grub2 and grub1 in functions of prepare_grub2_files_if_required and prepare_grub1_files_if_required of ocs-functions were updated.
  * Option -fsck-src-part-y was added for running fsck with option -y.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 02 Feb 2012 20:38:50 +0800

clonezilla (2.5.8-1drbl) unstable; urgency=low

  * A better way to purge grub1 or grub2 related packages was implemented in the functions of prepare_grub1_files_if_required and prepare_grub2_files_if_required.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 25 Jan 2012 18:21:40 +0800

clonezilla (2.5.7-2drbl) unstable; urgency=low

  * LVM on RAID device CCISS was improved. Thanks to Gianluca Bellina <Gianluca.Bellina _at_ acision com> for the bug report.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 25 Jan 2012 13:25:52 +0800

clonezilla (2.5.7-1drbl) unstable; urgency=low

  * "sudo" was added before "sgdisk -z /dev/sdx" prompt. Thanks to drobb for this suggestion.
  * The required packages of grub 1 and 2 were updated when Clonezilla/DRBL/GParted live are created.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 25 Jan 2012 13:21:15 +0800

clonezilla (2.5.6-1drbl) unstable; urgency=low

  * Disable apt languages and translations when creating Clonezilla/GParted live. This could reduce apt repository issue.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 23 Jan 2012 20:14:42 +0800

clonezilla (2.5.5-1drbl) unstable; urgency=low

  * Package discover1 was removed from the packages list in create-drbl-live-by-pkg.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 23 Jan 2012 17:36:02 +0800

clonezilla (2.5.4-1drbl) unstable; urgency=low

  * Disable apt languages and translations when creating DRBL live. This could reduce apt repository issue.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 23 Jan 2012 16:48:46 +0800

clonezilla (2.5.3-1drbl) unstable; urgency=low

  * A better mechanism was implemented in ocs-update-syslinux. Only when the files to be updated are found on the system "syslinux -i" will be run.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 21 Jan 2012 21:40:33 +0800

clonezilla (2.5.2-1drbl) unstable; urgency=low

  * The usage of ocs-sr and drbl-ocs were updated. "ask_user" and "autoname" were added.
  * An option to use "autoname" to create the image name was added.  Thanks to encephalophone (Mike) for the patch.
  * An option (-icds, --ignore-chk-dsk-size-pt) to skip checking skip checking destination disk size before creating the partition table on it was added. Thanks to Sartoratti Lorenzo for reporting this issue.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 20 Jan 2012 14:19:03 +0800

clonezilla (2.5.1-1drbl) unstable; urgency=low

  * VMFS3 and VMFS5 support are separated, no more mixed because partclone.fstype from 0.2.45 now can tell them. Since vmfs5 support is still buggy, disable it in drbl-ocs.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 18 Jan 2012 23:09:35 +0800

clonezilla (2.4.37-1drbl) unstable; urgency=low

  * A better mechanism was implemented to keep the MS Windows boot reserved partition size when option "-k1" is chosed.
  * GPT partition table info will also be dumped in plain text file when saving an image so that it's easier to read.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 16 Jan 2012 22:39:15 +0800

clonezilla (2.4.36-1drbl) unstable; urgency=low

  * A better mechanism to deal with UFS partition in a GPT table when saving FreeBSD 9.0.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 14 Jan 2012 08:21:53 +0800

clonezilla (2.4.35-1drbl) unstable; urgency=low

  * Make checking MBR/GPT partition table earlier in saveparts.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 11 Jan 2012 08:36:47 +0800

clonezilla (2.4.34-1drbl) unstable; urgency=low

  * The mismatched GPT and MBR partition table on a disk will be detected.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 Jan 2012 21:37:26 +0800

clonezilla (2.4.33-1drbl) unstable; urgency=low

  * An option to create source tarball was added in create-drbl-live-by-pkg.
  * Git was added in the packages list in create-drbl-live-by-pkg.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 05 Jan 2012 14:18:55 +0800

clonezilla (2.4.32-1drbl) unstable; urgency=low

  * Precise was added as a support version in create-ubuntu-live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 29 Dec 2011 10:45:02 +0800

clonezilla (2.4.31-1drbl) unstable; urgency=low

  * Overlayfs was added as memory disk in prep-ocsroot.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 29 Dec 2011 10:08:37 +0800

clonezilla (2.4.30-1drbl) unstable; urgency=low

  * Minor update for the prompt message in ocs-update-syslinux.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 22 Dec 2011 17:03:51 +0800

clonezilla (2.4.29-1drbl) unstable; urgency=low

  * A better method to update syslinux related files on restored partition was implemented in ocs-update-syslinux. This should make the restored VMWare ESXi 5 bootable.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 22 Dec 2011 16:52:11 +0800

clonezilla (2.4.28-1drbl) unstable; urgency=low

  * Bug fixed: grub2 boot menu background for EFI booting of DRBL live was added.
  * Minor typo fixed when restoring an image.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 21 Dec 2011 08:52:26 +0800

clonezilla (2.4.27-1drbl) unstable; urgency=low

  * Package grandr was replaced by lxrandr in DRBL live since it's no more in Debian repository for i386.
  * If xfce4 display setting program is found in DRBL live, use it for desktop icon app instead of lxrandr.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 20 Dec 2011 15:49:27 +0800

clonezilla (2.4.26-1drbl) unstable; urgency=low

  * Bug fixed: if block should not be nothing in create-drbl-live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 20 Dec 2011 14:11:18 +0800

clonezilla (2.4.25-1drbl) unstable; urgency=low

  * Bug fixed: no grub2 boot menu for EFI booting of DRBL live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 20 Dec 2011 13:53:52 +0800

clonezilla (2.4.24-1drbl) unstable; urgency=low

  * Bug fixed: some files were not copied to systems during gparted-live-hook.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 20 Dec 2011 11:01:23 +0800

clonezilla (2.4.23-1drbl) unstable; urgency=low

  * Files gl-mountstick.sh, resize-windows.txt and gl-packages were removed since they are not used in GParted live anymore.
  * Packages pppoeconf, ethtool, whiptail and lshw were added for GParted live.
  * Program gl-live-netcfg was added to make it easier for users to configure network.
  * Minor improvement for ocs-live-netcfg.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 20 Dec 2011 10:24:19 +0800

clonezilla (2.4.22-1drbl) unstable; urgency=low

  * File grandr.xpm was renamed as lxrandr.xpm.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 18 Dec 2011 14:39:59 +0800

clonezilla (2.4.21-1drbl) unstable; urgency=low

  * Package grandr was replaced by lxrandr since it's no more in Debian repository for i386.
  * An icon on desktop for dillo was added for GParted live.
  * Package netbase was added in GParted live.
  * The fluxbox menu for GParted live was updated.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 17 Dec 2011 10:23:39 +0800

clonezilla (2.4.20-1drbl) unstable; urgency=low

  * The font color of grub2 for Clonezilla live was changed.
  * Bug fixed: the option "-g auto" failed for restored OS Fedora 16 has been fixed. It's due to different grub2 boot dir (/boot/grub2 instead of /boot/grub).
  * Switch to include grub-pc (grub2) instead of grub-legacy (grub1) for Debian-based Clonezilla/DRBL/GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 03 Dec 2011 22:28:52 +0800

clonezilla (2.4.19-1drbl) unstable; urgency=low

  * Option -z7|--lrzip-compress was added for Clonezilla to use lrzip to compress image.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 30 Nov 2011 15:00:59 +0800

clonezilla (2.4.18-1drbl) unstable; urgency=low

  * Program ocs-onthefly was improved to make the destination disk info more clear.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 10 Nov 2011 16:56:53 +0800

clonezilla (2.4.17-1drbl) unstable; urgency=low

  * Parameter job_before_quit was added for functions confirm_continue_no_default_answer and confirm_continue_or_default_quit in ocs-functions.
  * Program ocs-onthefly was improved to give better info before starting cloning and repartitioning the disk. 
  * An option "-pa|--postaction" was added to ocs-onthefly so it could be assigned to reboot or shutdown the machine after cloning. Thanks to flyfoxuk for this idea.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 10 Nov 2011 10:33:45 +0800

clonezilla (2.4.16-1drbl) unstable; urgency=low

  * Before creating partition table on the destination disk, Clonezilla will check if the size is big enough. If not, quit.
  * Besides the *.c32 and *.bin files, those *.com and memdisk will be updated by ocs-update-syslinux.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 07 Nov 2011 23:10:26 +0800

clonezilla (2.4.15-1drbl) unstable; urgency=low

  *- The output log for each disk creating will be in /tmp/ when running ocs-restore-mdisks.
  *- By default we do not separate fdisk actions in ocs-restore-mdisks.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 07 Nov 2011 11:21:10 +0800

clonezilla (2.4.14-1drbl) unstable; urgency=low

  * Use function get_sort_V_opt in ocs-tux-postprocess.
  * A program "ocs-update-syslinux" to update syslinux and its related files on a FAT partition was added.
  * An option "-ius|--ius" was added to ocs-sr and ocs-onthefly so that we can skip updating syslinux after restoring. By default it will be done if a FAT partition with ldlinux.sys is found.
  * The option to fsck the source partition will be shown in beginner mode of ocs-onthefly.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 06 Nov 2011 10:53:12 +0800

clonezilla (2.4.13-1drbl) unstable; urgency=low

  * Deprecated files gl-win and gl-info of GParted live were removed. Ref: https://bugzilla.gnome.org/show_bug.cgi?id=662726
  * Package dillo was added for GParted live. Ref: https://bugzilla.gnome.org/show_bug.cgi?id=662723
  * Use 2 as the gap sectors in ocs-expand-mbr-pt. Otherwise the option "-k1" of clonezilla might create a wrong partition table.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 03 Nov 2011 22:53:02 +0800

clonezilla (2.4.12-1drbl) unstable; urgency=low

  * Keep the good distance between grandr icon and GParted icon on GParted live desktop.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 02 Nov 2011 22:04:56 +0800

clonezilla (2.4.11-1drbl) unstable; urgency=low

  * Minor update in the output messages in ocs-functions.
  * The deprecated icon "info" on GParted live desktop was removed.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 02 Nov 2011 18:34:31 +0800

clonezilla (2.4.10-1drbl) unstable; urgency=low

  * Program opoen-iscsi was added in GParted live.
  * Timezone info will be shown in the file "clonezilla-img" in the image dir.
  * The option -fsck-src-part will be prompted when saving, no matter it's beginner or expert mode.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 31 Oct 2011 22:32:19 +0800

clonezilla (2.4.9-1drbl) unstable; urgency=low

  * The "ask_user" option was added in the prompt in recovery-iso-zip dialogs.
  * Btrfs file system resize was added in ocs-resize-part.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 28 Oct 2011 08:58:15 +0800

clonezilla (2.4.8-1drbl) unstable; urgency=low

  * A better prompt about destination disks info was added in ocs-restore-mdisks.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 22 Oct 2011 22:18:09 +0800

clonezilla (2.4.7-1drbl) unstable; urgency=low

  * A function check_if_any_image_exists was added in ocs-functions to identify the clonezilla image. It's used to ocs-sr.
  * A file "clonezilla-img" to tag an Clonezilla image was added in the image dir.
  * Restore related menu, i.e. restoredisk and restoreparts, will only be shown when images exists in image repository.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 21 Oct 2011 22:17:04 +0800

clonezilla (2.4.6-1drbl) unstable; urgency=low

  * Function get_part_vol_name should show nothing when no file system on a partition. No any error or warning message should be shown in stdin. 
  * Prompt to insert USB device in the beginning of ocs-restore-mdisks.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 21 Oct 2011 13:36:44 +0800

clonezilla (2.4.5-1drbl) unstable; urgency=low

  * The rerun commands will be saved as a script in /tmp/ when running ocs-restore-mdisks.
  * Bug fixed: ocs_user_mode should not be asked twice in ocs-sr -> 1-2-mdisks.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 20 Oct 2011 23:02:28 +0800

clonezilla (2.4.4-1drbl) unstable; urgency=low

  * Reuse confirm_continue_no_default_answer in ocs-functions.
  * Prompt was updated in ocs-restore-mdisks.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 20 Oct 2011 22:39:25 +0800

clonezilla (2.4.3-1drbl) unstable; urgency=low

  * Function confirm_continue_no_default_answer was added in ocs-functions.
  * No default answer to continue in ocs-restore-mdisks.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 20 Oct 2011 22:14:09 +0800

clonezilla (2.4.2-1drbl) unstable; urgency=low

  * Put "wait" command in the end of ocs-restore-mdisks so it won't enter shell before the jobs are done.
  * The converted images by ocs-restore-mdisks are put in /tmp/.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 20 Oct 2011 21:08:32 +0800

clonezilla (2.4.1-1drbl) unstable; urgency=low

  * Improvement: now we can assign the parameters of ocs-sr in ocs-restore-mdisks.
  * The mode "1-2-mdisks" (one image to be restored to multiple disks) was added in Clonezilla main menu.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 20 Oct 2011 18:36:35 +0800

clonezilla (2.3.77-1drbl) unstable; urgency=low

  * Give warning color (yellow) instead of error color (red) when destination disk is the same as source one in cnvt-ocs-dev.
  * A program (restore-mdisks) to restore an image to multiple destination disks were added.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 20 Oct 2011 14:34:58 +0800

clonezilla (2.3.76-1drbl) unstable; urgency=low

  * Bug fixed: dialog failed when volume name containing a white space.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 18 Oct 2011 18:26:14 +0800

clonezilla (2.3.75-1drbl) unstable; urgency=low

  * The required files of grub2, e.g. fonts file, will also be copied to /EFI/boot in ocs-gen-grub2-efi-bldr.
  * The grub.cfg for EFI booting was improved.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 18 Oct 2011 15:58:24 +0800

clonezilla (2.3.74-1drbl) unstable; urgency=low

  * Set grub_prefux as "/EFI/boot" when running grub-mkimage in program ocs-gen-grub2-efi-bldr. Grub2 module "gfxterm" was added, too.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 Oct 2011 22:16:01 +0800

clonezilla (2.3.73-1drbl) unstable; urgency=low

  * Package cpufrequtils was added in GParted live packages list.
  * The volume name of DOS and NTFS partition will be shown before restoring. Thanks to LittleLight Lee <littlelight _at_ gmail com> for this suggestion.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 Oct 2011 11:15:34 +0800

clonezilla (2.3.72-1drbl) unstable; urgency=low

  * Program gl-gen-grub2-efi-bldr was improved to make the bootia32.efi/bootx64.efi work with the partition table of MBR instead of only GPT.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 15 Oct 2011 16:55:38 +0800

clonezilla (2.3.71-1drbl) unstable; urgency=low

  * Bug fixed: grub.cfg and wallpaper image were not included in the iso version of GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 15 Oct 2011 16:21:14 +0800

clonezilla (2.3.70-1drbl) unstable; urgency=low

  * Wallpaper image was added in the EFI grub2 boot menu of GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 15 Oct 2011 14:39:42 +0800

clonezilla (2.3.69-1drbl) unstable; urgency=low

  * Wallpaper image was added in the EFI grub2 boot menu.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 15 Oct 2011 13:27:50 +0800

clonezilla (2.3.68-1drbl) unstable; urgency=low

  * Program ocs-gen-grub2-efi-bldr was improved to make the bootia32.efi/bootx64.efi work with the partition table of MBR instead of only GPT.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 14 Oct 2011 16:14:25 +0800

clonezilla (2.3.67-1drbl) unstable; urgency=low

  * The nfs version 3 option will be specific in prep-ocsroot when mounting a NFS2/3 server. Thanks to darstra for this bug report.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 12 Oct 2011 22:52:04 +0800

clonezilla (2.3.66-1drbl) unstable; urgency=low

  * A typo in the comment of ocs-live-general was fixed.
  * Option "-r" was on by default in ocs-onthefly.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 11 Oct 2011 15:44:47 +0800

clonezilla (2.3.65-1drbl) unstable; urgency=low

  * The prompt about not to expand the "system reserved partition" is highlighted in ocs-expand-mbr-pt.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 03 Oct 2011 22:13:46 +0800

clonezilla (2.3.64-1drbl) unstable; urgency=low

  * Version sorting for partitions list will be used if supported in ocs-tux-postprocess.
  * Bug fixed: ocs-expand-mbr-pt failed to deal with partition number larger than 10, and the calculation to expand logical drivers was wrong.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 03 Oct 2011 21:52:06 +0800

clonezilla (2.3.63-1drbl) unstable; urgency=low

  * Bug fixed: Function parse_cmdline_option in gl-functions was improved. Make the parsing for gl_lang="" correct.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 12 Sep 2011 11:37:17 +0800

clonezilla (2.3.62-1drbl) unstable; urgency=low

  * Function parse_cmdline_option in gl-functions was improved to accept the /proc/cmdline parsed by grub2 1.99. Now it works for 3 cases in /proc/cmdline: E.g. (1) ocs_prerun="sleep 5" (2) ocs_prerun=\"sleep 5\" and (3) "ocs_prerun=sleep 5".

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 08 Sep 2011 18:10:53 +0800

clonezilla (2.3.61-1drbl) unstable; urgency=low

  * More prompts were added about removing Linux udev hardware record.
  * Option "-irhr, --irhr" was added in ocs-onthefly. This option allows us to skip removing Linux udev hardware record after a disk is cloned.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 31 Aug 2011 22:24:38 +0800

clonezilla (2.3.60-1drbl) unstable; urgency=low

  * More prompts were added about removing udev hardware record.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 31 Aug 2011 16:59:16 +0800

clonezilla (2.3.59-1drbl) unstable; urgency=low

  * Option "-icrc, --icrc" was added in the usage manual of ocs-sr.
  * Option "-irhr, --irhr" was added. This option allows us to skip removing udev hardware record after an image is restored.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 31 Aug 2011 16:46:27 +0800

clonezilla (2.3.58-1drbl) unstable; urgency=low

  * German language files were added. Thanks to Michael Vinzenz <michael.vinzenz _at_ scalaris com>.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 05 Aug 2011 21:46:00 +0800

clonezilla (2.3.57-1drbl) unstable; urgency=low

  * Bug fixed: sgdisk failed to reload a GPT table if no inital GPT table on a new disk.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 27 Jul 2011 22:05:11 +0800

clonezilla (2.3.56-1drbl) unstable; urgency=low

  * Program create-ubuntu-live supports Oneiric now.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 27 Jul 2011 08:27:52 +0800

clonezilla (2.3.55-1drbl) unstable; urgency=low

  * The URL for GParted project was updated to be "http://gparted.org".

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 26 Jul 2011 13:32:30 +0800

clonezilla (2.3.54-1drb1) unstable; urgency=low

  * Remove the option "-b1024" for pbzip2 since the unit is 100K, -b1024 will use 1024*100K per thread, and this might cause system to crash due to out of memory for multiple cores. Without the option -b, the default value will be used. Thanks to Telligent for the bug report (https://sourceforge.net/tracker/?func=detail&atid=671650&aid=3324096&group_id=115473).

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 24 Jun 2011 01:44:45 +0800

clonezilla (2.3.53-1drb1) unstable; urgency=low

  * Improve the sfdisk failure process.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 24 Jun 2011 00:12:50 +0800

clonezilla (2.3.52-1drb1) unstable; urgency=low

  * A beter method was implemented to check the exit status of sfdisk. Otherwise if the partition table creation goes wrong, the program won't stop.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Jun 2011 06:22:13 +0800

clonezilla (2.3.51-1drb1) unstable; urgency=low

  * Force to use LC_ALL=C when chroot to run grub-install.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Jun 2011 04:24:18 +0800

clonezilla (2.3.50-1drb1) unstable; urgency=low

  * Language file pt_BR was added, so the corresponding parts were updated. Thanks to Marcos Pereira da Silva Cruz <marcospcruz _at_ gmail com>.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 19 Jun 2011 09:47:36 +0800

clonezilla (2.3.49-1drbl) unstable; urgency=low

  * Big fixed: after start over in Clonezilla live, nfs mount won't work.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 18 Jun 2011 10:45:24 +0800

clonezilla (2.3.48-1drbl) unstable; urgency=low

  * Enable XZ compression for filesystem.squashfs.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 09 Jun 2011 08:57:22 +0800

clonezilla (2.3.47-1drbl) unstable; urgency=low

  * Program prep-ocsroot was improved to make mounting cifs and sshfs with an account name including white space.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 08 Jun 2011 16:34:25 +0800

clonezilla (2.3.46-1drbl) unstable; urgency=low

  * An option (-o|--create-source-tarball) was added to create-ubuntu-live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 30 May 2011 14:50:09 +0800

clonezilla (2.3.45-1drbl) unstable; urgency=low

  * Source files list in /var/lib/apt/lists will be removed when clonezilla/drbl/gparted live is created.
  * Program create-gparted-live will create EFI booting files, too. 
  * An option (-o|--create-source-tarball) was added to create-(debian|drbl|gparted-live).

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 30 May 2011 14:02:56 +0800

clonezilla (2.3.44-1drbl) unstable; urgency=low

  * Bug fixed: create-drbl-live syntax error.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 25 May 2011 21:54:14 +0800

clonezilla (2.3.43-1drbl) unstable; urgency=low

  * "nomodeset" was added in the ocs-live-boot-menu for vga=normal. It's a must otherwise if KMS is on, vga=normal is useless.
  * Package "partimage" was removed from the package list in create-gparted-live. The option "-k" of create-gparted-live can be used to add the packages.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 24 May 2011 18:22:59 +0800

clonezilla (2.3.42-1drbl) unstable; urgency=low

  * Suppress the error messages when removing /live/image dir. In some cases it should not be removed.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 24 May 2011 15:29:06 +0800

clonezilla (2.3.41-1drbl) unstable; urgency=low

  * Bug fixed: syslinux/isolinux files did not exist in /opt/drbl/pkg/syslinux, and this made recovery-iso-zip fail. Thanks to cbeazer for this bug report.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 23 May 2011 22:38:00 +0800

clonezilla (2.3.40-1drbl) unstable; urgency=low

  * Use XZ initrd for DRBL and GParted live, too.
  * Mlterm was replaced by lxterminal in GParted live, since lxterminal is smaller, and be used in many distributions.
  * Ssh service in GParted live is off by default.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 15 May 2011 11:38:56 +0800

clonezilla (2.3.39-1drbl) unstable; urgency=low

  * When kernel supports XZ initrd, we use it in Clonezilla/DRBL/GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 12 May 2011 12:48:26 +0800

clonezilla (2.3.38-1drbl) unstable; urgency=low

  * The option "-comp xz -Xbcj x86" was used for mksquashfs when creating Natty-based Clonezilla live. This xz compression instead of gzip method made the Clonezilla live iso or zip file smaller by ~ 33 MB.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 May 2011 23:03:12 +0800

clonezilla (2.3.37-1drbl) unstable; urgency=low

  * Package ssh added in create-gparted-live.
  * Put wheezy in ocs-functions for create-*-live.
  * The tmp dir /tmp/ocs-iso.* will be cleaned after use.
  * Program create-debian-live was improved so that the amd64 image can be created on an i386 Debian server, and vice versa.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 10 May 2011 17:07:34 +0800

clonezilla (2.3.36-1drbl) unstable; urgency=low

  * The syslinux.exe should be the same version with that in isolinux in Clonezilla|DRBL|GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 06 May 2011 14:36:31 +0800

clonezilla (2.3.35-1drbl) unstable; urgency=low

  * Reverted to use live-initramfs, not live-boot, in lb_config of create-ubuntu-live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 04 May 2011 22:41:07 +0800

clonezilla (2.3.34-1drbl) unstable; urgency=low

  * Use live-boot instead of live-initramfs for lb_config in create-(debian|drbl|gparted|ubuntu)-live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 04 May 2011 21:25:39 +0800

clonezilla (2.3.33-1drbl) unstable; urgency=low

  * Put wheezy in create-(debian|drbl|gparted)-live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 04 May 2011 18:27:26 +0800

clonezilla (2.3.32-1drbl) unstable; urgency=low

  * ocs-sr --help will show some more options about saving an image. (https://sourceforge.net/tracker/?func=detail&atid=671650&aid=3295392&group_id=115473).

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 03 May 2011 10:29:11 +0800

clonezilla (2.3.31-1drbl) unstable; urgency=low

  * Output messages of ocs-chkimg were improved with the image name shown.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 02 May 2011 16:32:09 +0800

clonezilla (2.3.30-1drbl) unstable; urgency=low

  * Bug fixed: The last action in live-config is umountfs, not login in live-config 2.0.15-drbl1. Therefore /etc/ocs/ocs-live.d/S00ocs-start was modified (Ubuntu-based Clonezilla live).
  * Bug fixed: halt should not be run before live-boot in Ubuntu-based Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 29 Apr 2011 10:16:33 +0800

clonezilla (2.3.29-1drbl) unstable; urgency=low

  * Function parse_cmdline_option of gl-functions was updated to allow "@" because it is required by sshfs.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 28 Apr 2011 13:29:43 +0800

clonezilla (2.3.28-1drbl) unstable; urgency=low

  * To avoid the postrun won't be run, "set -e" was removed in ocs-live-run-menu.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 28 Apr 2011 09:36:31 +0800

clonezilla (2.3.27-1drbl) unstable; urgency=low

  * Suppress the error messages if no K* service in stop-drbl-live and stop-ocs-live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 27 Apr 2011 22:56:53 +0800

clonezilla (2.3.26-1drbl) unstable; urgency=low

  * The pre-run and post-run of Clonezilla live were moved from the service in rc2.d to the shell after login. This would allow interactive command work (e.g. sshfs mount with password input).

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 27 Apr 2011 20:58:08 +0800

clonezilla (2.3.25-1drbl) unstable; urgency=low

  * Since the issue of "hang on exit" of jfbterm has been fixed, we turn on jfbterm in Ubuntu-based Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 21 Apr 2011 22:52:13 +0800

clonezilla (2.3.24-1drbl) unstable; urgency=low

  * Bug fixed: no grub.cfg was created.
  * 

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 20 Apr 2011 22:09:39 +0800

clonezilla (2.3.23-1drbl) unstable; urgency=low

  * "ntfs" module was added for grub EFI boot loader.
  * When an empty bootia32.efi or bootx64.efi is created, it should be removed.
  * Only grub.cfg will be used for EFI booting, no more bootia32.conf and bootx86.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 20 Apr 2011 21:03:03 +0800

clonezilla (2.3.22-1drbl) unstable; urgency=low

  * Disable the background photo for grub efi in Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 19 Apr 2011 22:18:20 +0800

clonezilla (2.3.21-1drbl) unstable; urgency=low

  * "png" module was added for grub EFI boot loader.
  * Rename the dir /EFI/BOOT/ as /EFI/boot/, and add the grub efi config file grub.cfg.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 19 Apr 2011 21:55:42 +0800

clonezilla (2.3.20-1drbl) unstable; urgency=low

  * EFI is included in the Clonezilla live now.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 19 Apr 2011 15:59:40 +0800

clonezilla (2.3.19-1drbl) unstable; urgency=low

  * Bug fixed: EFI/BOOT should not be inside filesystem.squashfs.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 19 Apr 2011 15:13:47 +0800

clonezilla (2.3.18-1drbl) unstable; urgency=low

  * "toram=filesystem.squashfs" was added for locales menu in ocs-live-boot-menu.
  * The "gPXE" part is replaced by "iPXE".
  * A better method to download unifont.bgf was implemented in ocs-live-hook.
  * The grub2 boot loader for EFI was added.
  * "unifont.bgf" part in create-gparted-live was removed, since we do not use it anymore.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 19 Apr 2011 09:00:18 +0800

clonezilla (2.3.17-1drbl) unstable; urgency=low

  * An workaround was added to make unfs3 work with nfs-common which is started first in drbl live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 14 Apr 2011 16:24:50 +0800

clonezilla (2.3.16-1drbl) unstable; urgency=low

  * Put canonical_hostname_prep before check_portmap_nfs_common_daemon is run in prep-ocsroot, otherwise the rpcbind and unfs3 won't work correctly.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 14 Apr 2011 14:53:34 +0800

clonezilla (2.3.15-1drbl) unstable; urgency=low

  * "jfbterm" instead of "bterm" is used when asking VGA config in DRBL live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 14 Apr 2011 10:38:47 +0800

clonezilla (2.3.14-1drbl) unstable; urgency=low

  * Bug fixed: failed to remove unfs3 service in drbl live hook.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 14 Apr 2011 10:16:51 +0800

clonezilla (2.3.13-1drbl) unstable; urgency=low

  * "insserv", if found, is used to remove service in ocs-live-hook-functions
  * "jfbterm" instead of "bterm" is used when asking language and keymap in DRBL live.
  * "unfs3" service should be removed in drbl live hook.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 14 Apr 2011 09:08:37 +0800

clonezilla (2.3.12-1drbl) unstable; urgency=low

  * The sigle service in /etc/rc1.d of Debian DRBL clients is force to S99single.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 13 Apr 2011 13:50:26 +0800

clonezilla (2.3.11-1drbl) unstable; urgency=low

  * Force to use LC_ALL=C in the mount command of prep-ocsroot. A workaround to avoid sshfs "Read: connection reset by peer" or "remote host has disconnected" issue. Thanks to Greg Trounson <gregt _at_ maths otago ac nz> for reporting this issue and providing testing environment.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 12 Apr 2011 18:37:24 +0800

clonezilla (2.3.10-1drbl) unstable; urgency=low

  * NFS option "nofsc" was removed from drbl live, since it does not solve the "Stale NFS file handle" issue in drbl live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 11 Apr 2011 16:47:13 +0800

clonezilla (2.3.9-1drbl) unstable; urgency=low

  * New upstream tarball naming.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 11 Apr 2011 15:33:53 +0800

clonezilla (2.3.8-31) unstable; urgency=low

  * "nofsc" instead of "noac" was used for DRBL live clients.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 07 Apr 2011 22:39:41 +0800

clonezilla (2.3.8-30) unstable; urgency=low

  * "noac" was added in udhcpc-post and init.drbl for DRBL live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 06 Apr 2011 22:32:40 +0800

clonezilla (2.3.8-29) unstable; urgency=low

  * Package mlterm was replaced by xfce4-terminal in create-drbl-live-by-pkg.
  * "noac" wad added to workaround the unfs3 "Stale NFS file handle" in DRBL live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 06 Apr 2011 18:29:18 +0800

clonezilla (2.3.8-28) unstable; urgency=low

  * A typo (Mouting) in prep-ocsroot was fixed.
  * Required hal service was removed from "start-drbl-live" and "stop-drbl-live" in drbl-live. Since now hal is no more a service.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 06 Apr 2011 10:17:57 +0800

clonezilla (2.3.8-27) unstable; urgency=low

  * Either portmap or rpcbind service will be started in prep-ocsroot.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 04 Apr 2011 22:06:42 +0800

clonezilla (2.3.8-26) unstable; urgency=low

  * "Requires" in clonezilla.spec file was updated.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 03 Apr 2011 20:53:39 +0800

clonezilla (2.3.8-25) unstable; urgency=low

  * "Requires" in clonezilla.spec file was updated.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 02 Apr 2011 23:35:34 +0800

clonezilla (2.3.8-24) unstable; urgency=low

  * Revert to use boot parameter "nomodeset", otherwise KMS will take effect, and the framebuffer mode parameter (vga=788...) will be ended. Thanks to NJ_Dude for reporting this issue.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 27 Mar 2011 17:56:38 +0800

clonezilla (2.3.8-23) unstable; urgency=low

  * The default boot parameter "nomodeset" was removed from Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 25 Mar 2011 06:24:02 +0800

clonezilla (2.3.8-22) unstable; urgency=low

  * The existing image dir will only be removed after the first confirmation, not before it.
  * Bug fixed: the grep segfault when checking unknown file system if supported by partclone.
  * Perl temp file (e.g. .nfs0000000096af2bf70000000f) exists in image dir is avoided.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 23 Mar 2011 14:58:31 +0800

clonezilla (2.3.8-21) unstable; urgency=low

  * Function get_bsd_swap_partition in ocs-functions was improved to process multiple BSD slices.
  * The partitions list are not sorted any more in the function get_known_partition_proc_format in ocs-functions.
  * Program ocs-get-part-info was improved to tell ufs partition and BSD slice.
  * Program dd is used to save BSD slice info. This will avoid duplicating save for BSD slice and the 1st partition inside it.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 20 Mar 2011 10:59:10 +0800

clonezilla (2.3.8-20) unstable; urgency=low

  * Typo fixed: The term "slice" and "partition" of BSD system in ocs-functions and ocs-chkimg were not used correctly.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 16 Mar 2011 22:53:21 +0800

clonezilla (2.3.8-19) unstable; urgency=low

  * The mechanism to skip the vmkcore of BSD swap slice was improved.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 13 Mar 2011 11:29:22 +0800

clonezilla (2.3.8-18) unstable; urgency=low

  * Typo fixed: -uS instead of -us for sfdisk in function get_bsd_swap_slice.
  * -

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 13 Mar 2011 11:29:19 +0800

clonezilla (2.3.8-17) unstable; urgency=low

  * The function get_bsd_swap_slice was added in ocs-functions.
  * Program ocs-chkimg will skip checking BSD swap slice, since there is no need to do that, and the false alarm can be ignored.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 12 Mar 2011 09:08:29 +0800

clonezilla (2.3.8-16) unstable; urgency=low

  * The mechanism to inform kernel the partition table change was improved. This makes the FreeBSD slices restoring work.
  * Program get-latest-ocs-live-ver was improved to sort and get only one output.
  * The function get_part_id_from_sf_format was added in ocs-functions.
  * Program ocs-chkimg was improved to skip checking VMware VMKCORE partition, since there is no need to do that, and the false alarm can be ignored.
  * Some of the settings of ocs-onthefly were moved to drbl-ocs.conf.
  * By default we use partclone.dd to replace dd in ocs now. A flag was added in drbl-ocs.conf so it can be switched easily.
  
 -- Steven Shiau <steven@nchc.org.tw>  Fri, 11 Mar 2011 23:44:46 +0800

clonezilla (2.3.8-15) unstable; urgency=low

  * Package mkswap-uuid was removed from Requires. Since modern mkswap has supported that.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 09 Mar 2011 14:15:19 +0800

clonezilla (2.3.8-14) unstable; urgency=low

  * Recompiled, sync the deb and rpm version number.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 05 Mar 2011 16:34:16 +0800

clonezilla (2.3.8-11) unstable; urgency=low

  * By default, sgdisk is used for GPT in ocs-onthefly.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 02 Mar 2011 16:38:53 +0800

clonezilla (2.3.8-10) unstable; urgency=low

  * Option "-batch" instead of "-b" in ocs-sr and ocs-onthefly is used by default. This will avoid the problem when using in the boot prameters, init will honor it.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 01 Mar 2011 11:38:55 +0800

clonezilla (2.3.8-9) unstable; urgency=low

  * Package xserver-xorg was listed as a must in create-gparted-live.
  * Bug fixed: a workaround was added to make setxkbmap work.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 28 Feb 2011 13:12:57 +0800

clonezilla (2.3.8-8) unstable; urgency=low

  * Bug fixed: ocs-get-part-info failed to remove temp file in /tmp.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 28 Feb 2011 09:29:37 +0800

clonezilla (2.3.8-7) unstable; urgency=low

  * Program gdisk was used to save and restore GPT partition table.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 27 Feb 2011 23:01:22 +0800

clonezilla (2.3.8-6) unstable; urgency=low

  * ocs-chnthn and ocs-chnthn-functions were improved by Ceasar Sun.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 23 Feb 2011 10:57:06 +0800

clonezilla (2.3.8-5) unstable; urgency=low

  * Bug fixed: Cannot skip "Check image" was fixed. Thanks to nj-dude for reporting this bug.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 20 Feb 2011 13:09:50 +0800

clonezilla (2.3.8-4) unstable; urgency=low

  * A prompt was added, and it is about not checking swap info when the image is for a whole disk in ocs-chkimg.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 19 Feb 2011 15:45:15 +0800

clonezilla (2.3.8-3) unstable; urgency=low

  * The name of the cheked image is shown after the image is checked.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 18 Feb 2011 13:34:53 +0800

clonezilla (2.3.8-2) unstable; urgency=low

  * A variable typo fixed in ocs-chkimg.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 18 Feb 2011 12:31:11 +0800

clonezilla (2.3.8-1) unstable; urgency=low

  * When an image is saved, an option to run ocs-chkimg was added.
  * An option to check if the image is restorable was added in the wizard.
  * The image time info format shown on the dialog menu is improved.
  * 

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 18 Feb 2011 12:21:42 +0800

clonezilla (2.3.7-71) unstable; urgency=low

  * A mode "check" was added in get_existing_partitions_from_img of ocs-functions.
  * Program ocs-chkimg was added. It can be used to check the image of Clonezilla.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 16 Feb 2011 13:02:20 +0800

clonezilla (2.3.7-70) unstable; urgency=low

  * Minor prompt update in ocs-resize-part.
  * Minor note was added in ocs-live-hook-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 10 Feb 2011 15:53:03 +0800

clonezilla (2.3.7-69) unstable; urgency=low

  * The virtual block device (/dev/vd[a-z]) support was added. Thanks to Cyril Roos for providing patch.
  * Bug fixed: failing to use ntfs-3g to mount ntfs file system in ocs-chnthn.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 06 Feb 2011 20:40:00 +0800

clonezilla (2.3.7-68) unstable; urgency=low

  * Option "noatime" and "nodiratime" are used when mounting file system in prep-ocsroot.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 05 Feb 2011 21:44:41 +0800

clonezilla (2.3.7-67) unstable; urgency=low

  * If error occurs, program ocs-onthefly will show errors in red and wait for key input then continue.
  * The previous generated iso will be cleaned before a new one is created again in ocs-iso.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 04 Feb 2011 12:55:55 +0800

clonezilla (2.3.7-66) unstable; urgency=low

  * Use "Default-Stop 0 6" for stop-ocs-live and start-drbl-live services.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 29 Jan 2011 13:50:04 +0800

clonezilla (2.3.7-65) unstable; urgency=low

  * A new boot parameter "ocs_postrun" was added for Clonezilla live and DRBL live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 27 Jan 2011 08:47:37 +0800

clonezilla (2.3.7-64) unstable; urgency=low

  * An example IP address instead of real IP address got from the machine was used in the drbl-live-hook, because the real one is useless and it will be automatically updated when DRBL live is booted on the server machine.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 16 Jan 2011 09:50:13 +0800

clonezilla (2.3.7-63) unstable; urgency=low

  * Bug fixed: start-stop-daemon in DRBL live was not real one.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 15 Jan 2011 20:24:01 +0800

clonezilla (2.3.7-62) unstable; urgency=low

  * An option -s|--server-ip was added to drbl-ocs-live-prep.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 12 Jan 2011 14:19:30 +0800

clonezilla (2.3.7-61) unstable; urgency=low

  * Use Clonezilla live as the clonezilla-related OS in drbl live.
  * Bug fixed: drbl-ocs-live-prep failed to remove the tmp dir.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 09 Jan 2011 15:01:20 +0800

clonezilla (2.3.7-60) unstable; urgency=low

  * Program create-gparted-live was modified to put the correct background file for isolinux.
  * Bug fixed: "ocs-live-dev -s -d /dev/sda1" failed to copy files to the ouput dev (/dev/sda1), it was using files linked. Thanks to Asou Y.S. Chang for this bug report.
  * An option -d|--dark-bg was added for ocs-live-boot-menu.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 07 Jan 2011 10:36:50 +0800

clonezilla (2.3.7-59) unstable; urgency=low

  * Gsplash.png was updated. Thanks to Linda Temple and Curtis Gedak.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 05 Jan 2011 22:30:46 +0800

clonezilla (2.3.7-58) unstable; urgency=low

  * The function exclude_umount_live_mnt_point_in_umountfs is obsolete. We let live-config to do this. Ref: http://lists.debian.org/debian-live/2010/12/msg00191.html

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 25 Dec 2010 11:36:53 +0800

clonezilla (2.3.7-57) unstable; urgency=low

  * Bug fixed: Force to unmount image repository before rebooting/shutdowning Clonezilla live. Thanks to Manuel Borchers for reporting this.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Dec 2010 11:46:55 +0800

clonezilla (2.3.7-56) unstable; urgency=low

  * Bug fixed: only -q1 was added, no -q, -q2 in ocs-onthefly.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 18 Dec 2010 17:03:43 +0800

clonezilla (2.3.7-55) unstable; urgency=low

  * Option to force to do sector by sector copy for ocs-onthefly was added.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 17 Dec 2010 22:27:57 +0800

clonezilla (2.3.7-54) unstable; urgency=low

  * Two variables were added in drbl-ocs.conf: ocs_live_username & ocs_live_passwd. They will be used to send the command to Clonezilla live clients of Clonezilla SE.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 16 Dec 2010 22:15:38 +0800

clonezilla (2.3.7-53) unstable; urgency=low

  * Bug fixed: If no Clonezilla live section is found in pxelinux config file, we should not add or remove the options.
  * GParted icon gparted.xpm was updated.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 15 Dec 2010 08:44:31 +0800

clonezilla (2.3.7-52) unstable; urgency=low

  * An option to use alternative Clonezilla live was added in drbl-ocs-live-prep.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 13 Dec 2010 14:26:59 +0800

clonezilla (2.3.7-51) unstable; urgency=low

  * Package mount-gtk was removed in GParted live. It can not be used to mount the device by selection, one still has to know the device name.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 12 Dec 2010 09:53:05 +0800

clonezilla (2.3.7-50) unstable; urgency=low

  * Bug fixed: grub-pc and grub-legacy debs were not put in /root/pkg/grub/.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 11 Dec 2010 23:18:48 +0800

clonezilla (2.3.7-49) unstable; urgency=low

  * By default we install grub-legacy in GParted live, and put grub-pc and grub-legacy debs in /root/pkg/grub/.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 11 Dec 2010 10:05:28 +0800

clonezilla (2.3.7-48) unstable; urgency=low

  * Program ocs-langkbdconf-bterm was updated to use drbl-kbdchooser.
  * Bug fixed: drbl-ocs failed to find the correct kernel and initrd for Clonezilla live mode in Clonezilla SE.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 09 Dec 2010 22:11:18 +0800

clonezilla (2.3.7-47) unstable; urgency=low

  * Bug fixed: get-latest-ocs-live-ver failed to get the version from the new HTML layout of sourceforge download page.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 08 Dec 2010 17:23:35 +0800

clonezilla (2.3.7-46) unstable; urgency=low

  * A more specific message was added for restoring image of partition to different partition device. Thanks to odoyle81 for this.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 07 Dec 2010 14:53:27 +0800

clonezilla (2.3.7-45) unstable; urgency=low

  * Some minor codes cleanup.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 30 Nov 2010 18:32:19 +0800

clonezilla (2.3.7-44) unstable; urgency=low

  * A typo fixed in ocs-functions.
  * The option "-j2" was not working when using restoreparts. Thanks to dzundam for this bug report.
  * Another example custom-ocs-2 was added. It can be used to save and restore dual boot systems.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 30 Nov 2010 11:36:21 +0800

clonezilla (2.3.7-43) unstable; urgency=low

  * Package hicolor-icon-theme was added in create-gparted-live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 29 Nov 2010 10:32:47 +0800

clonezilla (2.3.7-42) unstable; urgency=low

  * Package mount-gtk was added in create-gparted-live.
  * Package dhcp*-client* was listed instead of dhcp-client in create-gparted-live.
  * Put natty in create-ubuntu-live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 25 Nov 2010 20:36:26 +0800

clonezilla (2.3.7-41) unstable; urgency=low

  * Set vga=normal instead of vga=788 in create-gparted-live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 06 Nov 2010 09:58:22 +0800

clonezilla (2.3.7-40) unstable; urgency=low

  * Remove boot parameter "nomodeset" in create-gparted-live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 05 Nov 2010 13:56:16 +0800

clonezilla (2.3.7-39) unstable; urgency=low

  * The boot parameter ocs_live_extra_param can not be deprecated. We still need that for ocs-live-restore. It's still a better way to separate command options and link the embedded image.
  * Program ocs-live-restore was improved to make it allow shutdown the machine when using Clonezilla recovery iso/zip with "-p poweroff".

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 30 Oct 2010 08:53:33 +0800

clonezilla (2.3.7-38) unstable; urgency=low

  * A better mechanism was implemented in ocs-live-run-menu so boot parameter ocs_live_extra_param can be deprecated, i.e. we can put all in a line in boot parameter ocs_live_run.
  * Bug fixed: A bug about failing restoring swap parition on GPT disk. Thanks to Bill Marohn <bmarohn _at_ digitiliti com> for this bug report.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 29 Oct 2010 11:22:24 +0800

clonezilla (2.3.7-37) unstable; urgency=low

  * The files of x11-common won't be removed otherwise the error messages will be shown by startpar during Clonezilla live booting.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 20 Oct 2010 18:57:36 +0800

clonezilla (2.3.7-36) unstable; urgency=low

  * ocs-live-run-menu will be started only when S99ocs-end is done.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 20 Oct 2010 18:10:57 +0800

clonezilla (2.3.7-35) unstable; urgency=low

  * More prompts were added in drbl-ocs-live-prep.
  * Minor update (prdownloads.sf.net -> downloads.sf.net) in drbl-ocs-live-prep.
  * Minoro update for create-ubuntu-live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 15 Oct 2010 21:47:45 +0800

clonezilla (2.3.7-34) unstable; urgency=low

  * Function parse_cmdline_option in gl-functions was updated to allow "=" and ",". Thanks to Jacobo Vilella Vilahur for this bug report (https://sourceforge.net/tracker/?func=detail&atid=671650&aid=3081655&group_id=115473).

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 13 Oct 2010 13:27:21 +0800

clonezilla (2.3.7-33) unstable; urgency=low

  * Bug fixed: get-latest-ocs-live-ver was unable to get the latest one.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 04 Oct 2010 11:11:37 +0800

clonezilla (2.3.7-32) unstable; urgency=low

  * Bug fixed: failed to use the grub deb package in /opt/drbl/pkg/grub.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 03 Oct 2010 11:49:19 +0800

clonezilla (2.3.7-31) unstable; urgency=low

  * The grub 1 and 2 deb files were moved to /opt/drbl/pkg/grub instead of /root. Otherwise DRBL live client won't have that.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 03 Oct 2010 09:21:23 +0800

clonezilla (2.3.7-30) unstable; urgency=low

  * A workaround was added to avoid "sed command not found" error in drbl live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 02 Oct 2010 13:03:57 +0800

clonezilla (2.3.7-29) unstable; urgency=low

  * Live-build 2.0.0-1 puts "config" instead of "live-config" in the boot parameters, so now "config" will be detected in ocs-functions, too.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 30 Sep 2010 13:41:31 +0800

clonezilla (2.3.7-28) unstable; urgency=low

  * The private DNS name server won't be built-in in dhcpd.conf when creating drbl live.
  * A new boot parameter "ocs_client_no_per_NIC" was added for DRBL live. It is used to assing the DRBL clients' number.
  * Bug fixed: ocs-srv-live.sh should detect dhcpd, not only dhcpd3.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 27 Sep 2010 13:15:06 +0800

clonezilla (2.3.7-27) unstable; urgency=low

  * Now the X will be run as normal login account in GParted live. This is due to the change of live-config, so we follow that.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 25 Sep 2010 07:46:31 +0800

clonezilla (2.3.7-26) unstable; urgency=low

  * Sudo was added for live-config/scripts/config/012-xinit after booting GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 24 Sep 2010 20:17:41 +0800

clonezilla (2.3.7-25) unstable; urgency=low

  * Package name dhcp3-client was replaced by dhcp-client in create-gparted-live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Sep 2010 23:00:46 +0800

clonezilla (2.3.7-24) unstable; urgency=low

  * Program etherboot will not be included when creating drbl live (another part).

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Sep 2010 17:20:04 +0800

clonezilla (2.3.7-23) unstable; urgency=low

  * Program etherboot will not be included when creating drbl live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 23 Sep 2010 16:59:27 +0800

clonezilla (2.3.7-22) unstable; urgency=low

  * The file sytem header will be cleaned only when the image of the partition exists, not to be cleaned before testing existence.
  * Program drbl-ocs-live-prep was implemented to use a better way to get the latest stable Clonezilla live iso (get-latest-ocs-live-ver).
  * The processes in /ocs/ocs-live.d/ in ubuntu-based clonezilla live will be started only after live-config is done.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 08 Sep 2010 11:10:10 +0800

clonezilla (2.3.7-21) unstable; urgency=low

  * A program get-latest-ocs-live-ver was added to parse the latest Clonezilla live on the sourceforge repository.
  * Use "lb" instead of "lh" since no more "lh" command in live-build 2.0~a25-1 or later.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 03 Sep 2010 12:19:08 +0800

clonezilla (2.3.7-20) unstable; urgency=low

  * The utils dir is included in GParted live iso file. With this, we can put the files of GParted live iso on an USB stick and make it bootable with some commands.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 02 Sep 2010 23:09:30 +0800

clonezilla (2.3.7-19) unstable; urgency=low

  * When using the grub2 in the restored OS failed, the plan B (grub2 from Clonezilla live) will be used.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 02 Sep 2010 11:05:52 +0800

clonezilla (2.3.7-18) unstable; urgency=low

  * Both gl_debug and gl-debug are the same boot parameters for GParted live debug mode.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 01 Sep 2010 05:52:47 +0800

clonezilla (2.3.7-17) unstable; urgency=low

  * The .xinitrc and .bashrc of GParted live will be created during booting, no more in the live hook.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 31 Aug 2010 15:54:18 +0800

clonezilla (2.3.7-16) unstable; urgency=low

  * Verbose messages will be shown when using dhclient to lease IP address in Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 30 Aug 2010 14:07:59 +0800

clonezilla (2.3.7-15) unstable; urgency=low

  * File system btrfs support was added in drbl-ocs.conf. From partclone 0.2.14 btrfs is supported (experimental). 

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 30 Aug 2010 09:35:32 +0800

clonezilla (2.3.7-14) unstable; urgency=low

  * A better description was added when the image restoring of a partition fails.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 29 Aug 2010 13:45:05 +0800

clonezilla (2.3.7-13) unstable; urgency=low

  * Small English Grammatical Errors were fixed. Thanks to Mike Taylor (https://sourceforge.net/tracker/?func=detail&atid=671650&aid=3054348&group_id=115473).
  * A bug about failing to run batch mode in drbl-ocs was fixed. Thanks to Mike Taylor (https://sourceforge.net/tracker/?func=detail&atid=671650&aid=3054348&group_id=115473).

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 27 Aug 2010 23:40:55 +0800

clonezilla (2.3.7-12) unstable; urgency=low

  * Package usplash and usplash-theme-clonezilla won't be included when creating Debian-based Clonezilla live, since usplash is no more in Sid.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 27 Aug 2010 10:50:56 +0800

clonezilla (2.3.7-11) unstable; urgency=low

  * Option "--force" was added for grub-install (grub2).
  * Russian language file settings were added in ocs-live-hook.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 26 Aug 2010 23:03:03 +0800

clonezilla (2.3.7-10) unstable; urgency=low

  * Not to force to use the iso-hybrid option when using live-build to create lenny or lucid based clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 19 Aug 2010 21:35:00 +0800

clonezilla (2.3.7-9) unstable; urgency=low

  * A backup plan for testing lzip image format was added. Thanks to Scaz for this bug report (https://sourceforge.net/tracker/?func=detail&atid=671650&aid=3022428&group_id=115473).
  * Force to use the iso-hybrid option for live-build.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 16 Aug 2010 09:48:32 +0800

clonezilla (2.3.7-8) unstable; urgency=low

  * Make sudo as the required package when creating gparted live. In case it is not included by the live-build.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 08 Aug 2010 10:48:46 +0800

clonezilla (2.3.7-7) unstable; urgency=low

  * Variable lh_ver_required in drbl-ocs.conf was changed to be "2.0~a19-1drbl". Ready for live-build.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 08 Aug 2010 08:56:58 +0800

clonezilla (2.3.7-6) unstable; urgency=low

  * A better way to deal with live-config boot parameter was used.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 06 Aug 2010 08:02:09 +0800

clonezilla (2.3.7-5) unstable; urgency=low

  * "live-config" was added in the boot parameter for the live system so that we can use live-initramfs 2.0.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 05 Aug 2010 23:20:42 +0800

clonezilla (2.3.7-4) unstable; urgency=low

  * The color of icon fonts was set as red so that they can be shown on new fluxbox in GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 03 Aug 2010 09:07:11 +0800

clonezilla (2.3.7-3) unstable; urgency=low

  * Forget about removing dir /usr/share/zoneinfo/ in ocs-live-hook-functions. This might break live-config.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 01 Aug 2010 11:28:09 +0800

clonezilla (2.3.7-2) unstable; urgency=low

  * Remove the workaround in ocs-functions which converts VMFS_volume_member as vmfs when using blkid to detect the file system.
  * File system VMFS_volume_member was added in partclone_support_fs in drbl-ocs.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 28 Jul 2010 18:43:04 +0800

clonezilla (2.3.7-1) unstable; urgency=low

  * Program ocs-live-dev was improved to save the space and the time when copying files. Thanks to Orgad Shaneh for this idea.
  * File system jfs was added in the file system list of partclone in drbl-ocs.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 27 Jul 2010 15:55:05 +0800

clonezilla (2.3.6-43) unstable; urgency=low

  * Bug fixed: create-drbl-live should not exit if gpxe/drbl-etherboot not installed.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 20 Jul 2010 09:10:11 +0800

clonezilla (2.3.6-42) unstable; urgency=low

  * S03prep-drbl-clonezilla for drbl-live.d was patched with ocs-live-run-menu started automatically when X not existing in the system. Thanks to Orgad Shaneh for this patch.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 18 Jul 2010 15:26:48 +0800

clonezilla (2.3.6-41) unstable; urgency=low

  * Bug fixed: an extra shift should not exist in create-gparted-live and create-drbl-by-pkg.
  * 

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 01 Jul 2010 06:37:36 +0800

clonezilla (2.3.6-40) unstable; urgency=low

  * Put packages console-data console-setup console-common kbd as the required ones since live-helper changed to depend on keyboard-configuration which is not the one we need.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 26 Jun 2010 10:27:02 +0800

clonezilla (2.3.6-39) unstable; urgency=low

  * Boot parameter "nomodeset" was added in GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 26 Jun 2010 08:42:38 +0800

clonezilla (2.3.6-38) unstable; urgency=low

  * We change client_no_per_NIC to 50 from 100. As some errors were reported by requested by hcj and he can only successfully used DRBL live to multicast restore an image to 50 machines.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 25 Jun 2010 17:07:58 +0800

clonezilla (2.3.6-37) unstable; urgency=low

  * By default we change client_no_per_NIC to 100 from 40. As requested by hcj and he has successfully used DRBL live to multicast restore an image to 62 machines.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 25 Jun 2010 16:16:50 +0800

clonezilla (2.3.6-36) unstable; urgency=low

  * Bug fixed: Accidently a charactor was removed in ocs-live-boot-menu in 2.3.6-35.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 23 Jun 2010 16:09:00 +0800

clonezilla (2.3.6-35) unstable; urgency=low

  * By default "nomodeset" is used in the boot parameters. This will make sure the VGA framebuffer mode is correct.
  * Default to use VGA 800x600 for Clonezilla live. Since most of the netbook does not support 1024x768, and 800x600 is the common one for most of the computers, and it's good enough for Clonezilla live. Thanks for swdotnet for suggesting this.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 23 Jun 2010 15:01:00 +0800

clonezilla (2.3.6-34) unstable; urgency=low

  * Program create-drbl-live-by-pkg was improved with option -c.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 22 Jun 2010 15:25:00 +0800

clonezilla (2.3.6-33) unstable; urgency=low

  * Packages tango-icon-theme and hicolor-icon-theme were added in the xfce required packages list for drbl live.
  * LXDE packages list was added in create-drbl-live-by-pkg (Not finished).

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 21 Jun 2010 22:30:00 +0800

clonezilla (2.3.6-32) unstable; urgency=low

  * Functions get_ocs_live_autologin_account and get_ocs_live_auto_login_id_home were renamed to be get_live_autologin_account and get_live_auto_login_id_home so that they can be used in more general way.
  * Variables ocs_live_autologin_account and ocs_live_auto_login_id_home were renamed to be live_autologin_account and live_auto_login_id_home so that they can be used in more general way.
  * Files copied to autologin account will be done during booting of DRBL live, no more in drbl-live-hook.
  * Parallel start (startpar) was disabled in DRBL live, otherwise gdm will be started before start-drbl-live is done.
  * Force to make start-drbl-live run before gdm3, but after dus and hal.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 21 Jun 2010 11:02:00 +0800

clonezilla (2.3.6-31) unstable; urgency=low

  * More tryes to make service start-drbl-live work in drbl-live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 18 Jun 2010 15:18:00 +0800

clonezilla (2.3.6-30) unstable; urgency=low

  * Service start-drbl-live should be started before gdm3 in drbl live.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 18 Jun 2010 14:10:00 +0800

clonezilla (2.3.6-29) unstable; urgency=low

  * Service start-drbl-live was changed to be started in runlevel 2.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 18 Jun 2010 13:45:00 +0800

clonezilla (2.3.6-28) unstable; urgency=low

  * Bug fixed: an extra shift should not exist in create-drbl-live. Thanks to Orgad Shaneh for this bug report (http://sourceforge.net/tracker/?func=detail&atid=671650&aid=3016950&group_id=115473).

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 17 Jun 2010 21:07:00 +0800

clonezilla (2.3.6-27) unstable; urgency=low

  *  Ubuntu Maverick support was added in create-ubuntu-live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 15 Jun 2010 08:01:00 +0800

clonezilla (2.3.6-26) unstable; urgency=low

  * Minor updates in ocs-functions.
  * Program prep-ocsroot was improved to work with sshfs/cifs path with space.
  * Program ocs-iso is able to create the recovery iso larger than 4.5 GB. Thanks to Zoltan Kerenyi Nagy for reporting this issue.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 08 Jun 2010 16:14:00 +0800

clonezilla (2.3.6-25) unstable; urgency=low

  * Make start-gparted-live work with innserv.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 01 Jun 2010 08:29:00 +0800

clonezilla (2.3.6-24) unstable; urgency=low

  * start-ocs-live and start-drbl-live were improved to work with insserv and upstart.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 31 May 2010 14:51:00 +0800

clonezilla (2.3.6-23) unstable; urgency=low

  * start-ocs-live and start-drbl-live were improved to work with insserv.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 30 May 2010 19:30:00 +0800

clonezilla (2.3.6-22) unstable; urgency=low

  * start-ocs-live and start-drbl-live were improved to work with insserv.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 30 May 2010 19:21:00 +0800

clonezilla (2.3.6-21) unstable; urgency=low

  * S99start-ocs-live was improved to work with insserv.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 30 May 2010 18:25:00 +0800

clonezilla (2.3.6-20) unstable; urgency=low

  * Bug fixed: Programs ocs-iso and ocs-live-dev were improved to include only Clonezilla-related files. Other files in /live/image/ won't be included.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 30 May 2010 17:27:00 +0800

clonezilla (2.3.6-19) unstable; urgency=low

  * A workaround function canonical_hostname_prep was used in prep-ocsroot to avoid NFS statd/lockd issue.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 21 May 2010 21:03:00 +0800

clonezilla (2.3.6-18) unstable; urgency=low

  *  Disable the volatile repository when creating clonezilla/drbl/gparted live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 19 May 2010 09:43:00 +0800

clonezilla (2.3.6-17) unstable; urgency=low

  * A better mechanism for running vgcfgbackup to save the LVM configuration was implemented. It will avoid triggering NFS lockd.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 17 May 2010 22:20:00 +0800

clonezilla (2.3.6-16) unstable; urgency=low

  * Boot parameter "nomodeset" was added with vga=normal to avoid using framebuffer mode in safe graphic mode for drbl/clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 11 May 2010 08:55:00 +0800

clonezilla (2.3.6-15) unstable; urgency=low

  * Due to a problem about lbzip2, we swtich back to use pbzip2 for parallel bzip2 compresstion and decompression.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 10 May 2010 11:15:00 +0800

clonezilla (2.3.6-14) unstable; urgency=low

  - RPM spec file was updated.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 09 May 2010 11:19:00 +0800

clonezilla (2.3.6-13) unstable; urgency=low

  * Comments in clone-multiple-usb-example.sh were updated.
  * "--language en" was changed as "-l en_US.UTF-8" in ocs-functions.
  * Bug fixed: select-in-client mode with Clonezila-live based Clonezilla SE failure was fixed.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 05 May 2010 09:27:00 +0800

clonezilla (2.3.6-12) unstable; urgency=low

  * '/proc/devices: fopen failed: no such file or directory is device mapper missing from kernel? Clonezilla is done, no error reported.' error in Ubuntu-based clonezilla live was fixed. Thanks to orographic for this bug report.
  * Examples were updated in drbl-ocs-live-prep.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 04 May 2010 10:14:00 +0800

clonezilla (2.3.6-11) unstable; urgency=low

  * The prompt to run ocs-sr command does not need to have double quotation marks ("") in the command options. Remove them to avoid confusing.
  * An option -a|--client-arch to assign the CPU arch for Clonezilla SE client was added in drbl-ocs-live-prep.
  * drbl-ocs-live-prep supports local clonezilla iso file, and support to use nfsroot when using drbl-SL.sh to deploy Clonezilla live on Clonezilla SE.
  * Package discover and dmraid were added in gparted live.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 02 May 2010 20:26:00 +0800

clonezilla (2.3.6-10) unstable; urgency=low

  * Package "discover1" was removed in the packages list in create-gparted-live since it does not exist on Sid/Squeeze. Thanks to Scott Hsiao for this bug report.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 29 Apr 2010 15:08:00 +0800

clonezilla (2.3.6-9) unstable; urgency=low

  * Functions get_ocs_live_autologin_account and get_ocs_live_auto_login_id_home were added in ocs-functions.
  * The exec of ocs-live-run-menu in ~user/.bash_profile will be commented after clonezilla job is done in drbl-ocs-live mode. This will avoid it's run again if just a logout.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 27 Apr 2010 17:04:00 +0800

clonezilla (2.3.6-8) unstable; urgency=low

  * More boot parameters (vga and video) will be removed in pxelinux config when running dcs to start clonezilla-live based Clonezilla SE service.
  * drbl-ocs-live-prep was improved to allow assigning clonezilla live iso URL with command line option.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 27 Apr 2010 14:57:00 +0800

clonezilla (2.3.6-7) unstable; urgency=low

  * Minor update for the comments in drbl-ocs-live-prep.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 26 Apr 2010 11:13:00 +0800

clonezilla (2.3.6-6) unstable; urgency=low

  * An variable iso_url_for_pxe_ocs_live was added in drbl-ocs.conf so that clonezilla-live based client works better.
  * Program drbl-ocs-live-prep was added so that it's easier to put and configure clonezilla live on DRBL server.
  * Modules uvesafb, vesafb and fbcon should not be listed in /etc/modules for Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 26 Apr 2010 09:03:00 +0800

clonezilla (2.3.6-5) unstable; urgency=low

  * A prompt message was minor updated in ocs-functions.
  * Some preseed values were added in drbl-ocs.conf so that clonezilla-live based client works better.
  * Files in /etc/update-motd.d/ of Clonezilla live will be removed to avoid lsb-release pacakge is required. Otherwise ~ 5 MB size will be need.
  * Command clear won't be in ~user/.bash_profile (S03prep-drbl-clonezilla) in Clonezilla live if the mode is Clonezilla-live based Clonezilla SE.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 20 Apr 2010 20:31:00 +0800

clonezilla (2.3.6-4) unstable; urgency=low

  * More config variables were added in drbl-ocs.conf so that clonezilla-live based client works better.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 20 Apr 2010 17:55:00 +0800

clonezilla (2.3.6-3) unstable; urgency=low

  * Dirs /lib32 and /usr/lib32 will be removed in amd64 version of Clonezilla live. This makes the created file smaller about 30 MB.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 19 Apr 2010 11:52:00 +0800

clonezilla (2.3.6-2) unstable; urgency=low

  * Bug fixed: ocsmgrd failed to hide the clonezilla live menu after cloning.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 14 Apr 2010 18:38:00 +0800

clonezilla (2.3.6-1) unstable; urgency=low

  * This release supports Clonezilla-live based client to do clonezilla job.
  * Typos in ocs-function were fixed.
  * A comment was added in drbl-ocs.
  * Variable diskless_client_os was added in drbl-ocs.conf. This will be used as a flag for NFSroot-based or Clonezilla-live-based system in Clonezilla SE.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 14 Apr 2010 15:51:00 +0800

clonezilla (2.3.5-33) unstable; urgency=low

  * The function to parse boot parameter ocs_server=$IP then notify ocsmgrd was added in ocs-function.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 13 Apr 2010 14:30:00 +0800

clonezilla (2.3.5-32) unstable; urgency=low

  * Bug fixed: Wrong keymap name for setxkbmap in GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 12 Apr 2010 14:08:00 +0800

clonezilla (2.3.5-31) unstable; urgency=low

  * Merge boot parameter gl_kaymap and keyb. Now only "keyb" is required.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 12 Apr 2010 13:36:00 +0800

clonezilla (2.3.5-30) unstable; urgency=low

  * Gave up - polymouth with framebuffer text mode is still very unstable.
  * Bug fixed: service ssh and etc were not disabled for Karmic-based and Lucid-based Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 11 Apr 2010 14:50:00 +0800

clonezilla (2.3.5-29) unstable; urgency=low

  * Make polymouth of ubuntu-based Clonezilla live work.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 11 Apr 2010 10:23:00 +0800

clonezilla (2.3.5-28) unstable; urgency=low

  * Make polymouth of ubuntu-based Clonezilla live work.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 11 Apr 2010 10:04:00 +0800

clonezilla (2.3.5-27) unstable; urgency=low

  * Make polymouth of ubuntu-based Clonezilla live work.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 11 Apr 2010 09:37:00 +0800

clonezilla (2.3.5-26) unstable; urgency=low

  * Make polymouth of ubuntu-based Clonezilla live work.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 11 Apr 2010 08:56:00 +0800

clonezilla (2.3.5-25) unstable; urgency=low

  * Force to sort the partitions list got from /proc/partitions.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 03 Apr 2010 19:47:00 +0800

clonezilla (2.3.5-24) unstable; urgency=low

  * Bug fixed: Suppress and avoid the error message when getting data from EDD.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 29 Mar 2010 10:42:00 +0800

clonezilla (2.3.5-23) unstable; urgency=low

  * Bug fixed: Boot parameter keyb should be honored in GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 24 Mar 2010 17:40:00 +0800

clonezilla (2.3.5-22) unstable; urgency=low

  * Bug fixed: Boot parameter keyb should be honored in GParted live.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 24 Mar 2010 16:50:00 +0800

clonezilla (2.3.5-21) unstable; urgency=low

  * Make create-ubuntu-live work with live helper 2.0~a9-1drbl1.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 16 Mar 2010 18:15:00 +0800

clonezilla (2.3.5-20) unstable; urgency=low

  * Delay umount the Windows partition when removeing hibernation ans page files. since the mounted partition was not aware so fast. This should fix this "partition busy error": https://sourceforge.net/projects/drbl/forums/forum/394007/topic/3559920

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 15 Mar 2010 19:20:00 +0800

clonezilla (2.3.5-19) unstable; urgency=low

  * Delay umount the testing grub partition, since on OpenSuSE 11.2, the mounted ntfs partition was not aware so fast. This should fix this "ntfsfixboot I/O error issue": https://sourceforge.net/projects/drbl/forums/forum/394007/topic/3559920

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 13 Mar 2010 20:17:00 +0800

clonezilla (2.3.5-18) unstable; urgency=low

  * A better file nameing was done for the log files in /var/log/clonezilla/.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 10 Mar 2010 09:11:00 +0800

clonezilla (2.3.5-17) unstable; urgency=low

  * Bug fixed: extra "=" was added in -quiet and -splash options of ocs-live-boot-menu. Thanks to Orgad Shaneh for this bug report (https://sourceforge.net/tracker/?func=detail&atid=671650&aid=2965604&group_id=115473).
  * clonezilla-jobs.log will be put in /var/log/clonezilla/ now, and it will be kept as the file name based on time after the clone job is done.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 09 Mar 2010 15:43:00 +0800

clonezilla (2.3.5-16) unstable; urgency=low

  * Service "mdadm" will be removed in Ubuntu-based Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 08 Mar 2010 15:33:00 +0800

clonezilla (2.3.5-15) unstable; urgency=low

  * Some improvements in the hook scripts when creating clonezilla/drbl live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 08 Mar 2010 13:56:00 +0800

clonezilla (2.3.5-14) unstable; urgency=low

  * Using "get_pkg_from_dbn_which_ocs_live_need" was a bad idea. Forget about that.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 08 Mar 2010 10:42:00 +0800

clonezilla (2.3.5-13) unstable; urgency=low

  - get_pkg_from_dbn_which_ocs_live_need was moved to ocs-live-hook-functions from ocs-functions.
  - Bug fixed: we should check if the package available in live hook instead of the running system when creating Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 08 Mar 2010 10:08:00 +0800

clonezilla (2.3.5-12) unstable; urgency=low

  * Improve create-ubuntu-live, ocs-cnvt-usb-zip-to-dsk, ocs-iso, ocs-live-dev, create-ocs-tmp-img, ocs-makeboot, create-drbl-live, ocs-onthefly and create-gparted-live to avoid potential "rm -rf" error.
  * A function get_pkg_from_dbn_which_ocs_live_need was added to check the packages available for creating drbl/clonezilla live system.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 05 Mar 2010 11:27:00 +0800

clonezilla (2.3.5-11) unstable; urgency=low

  * Avoid to use "rm -rf" when dealing with temp mount point.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 03 Mar 2010 15:32:00 +0800

clonezilla (2.3.5-10) unstable; urgency=low

  * Bug fixed: when failing to umount the partition in ocs-rm-win-swap-hib, we should not remove the whoile dir.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 01 Mar 2010 16:26:00 +0800

clonezilla (2.3.5-9) unstable; urgency=low

  * Bug fixed: boot parameters ocs_sr_save_extra_opt and ocs_sr_restore_extra_opt was not honored by ocs-sr again.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 01 Mar 2010 11:33:00 +0800

clonezilla (2.3.5-8) unstable; urgency=low

  * Bug fixed: boot parameters ocs_sr_save_extra_opt and ocs_sr_restore_extra_opt was not honored by ocs-sr.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 01 Mar 2010 10:49:00 +0800

clonezilla (2.3.5-7) unstable; urgency=low

  * Boot parameters ocs_sr_save_extra_opt and ocs_sr_restore_extra_opt will be honored by ocs-sr.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 28 Feb 2010 11:10:00 +0800

clonezilla (2.3.5-6) unstable; urgency=low

  * Bug fixed: ocsroot_src was not parsed in S03prep-drbl-clonezilla.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 27 Feb 2010 09:22:00 +0800

clonezilla (2.3.5-5) unstable; urgency=low

  - Boot parameter "ocsroot_src" is honored by clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 27 Feb 2010 09:22:00 +0800

clonezilla (2.3.5-4) unstable; urgency=low

  * By default we put "nosplash" in the live boot menu.
  * Boot parameter "ocs_batch_mode" and "ocs_live_type" are honored by drbl/clonezilla live now.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 27 Feb 2010 09:02:00 +0800

clonezilla (2.3.5-3) unstable; urgency=low

  * Typos fixed in create-drbl-live and create-gparted-live.
  * Bug fixed: boot parameter ocs_se_restore_save_opt should be ocs_se_save_extra_opt.

 -- Steven Shiau <steven@nchc.org.tw>  Fri, 26 Feb 2010 14:47:00 +0800

clonezilla (2.3.5-2) unstable; urgency=low

  * The boot parameter "limit_pxe_drbl_client", which can be "yes" or "no, will honored in drbl live.
  * Remove this: In ocs-srv-live.sh we will force dhcp server to lease IP address to PXE or DRBL client. Since it has been done in drbl-live.sh.
  * Programs ocs-srv-live.sh, drbl-live.sh, and dcs will load the settings of /etc/ocs/ocs-live.conf if it exists.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 25 Feb 2010 22:09:00 +0800

clonezilla (2.3.5-1) unstable; urgency=low

  * The complete options added to param_2_be_parsed in drbl-live.d/S03prep-drbl-clonezilla should be:dcs_choose_client ocs_user_mode dcs_input_img_name ocs_postmode dcs_img_vol_limit ocs_se_restore_save_opt dcs_cast_mode dcs_mcast_type ocs_se_restore_extra_opt

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 25 Feb 2010 18:34:00 +0800

clonezilla (2.3.4-87) unstable; urgency=low

  * Program ocs-get-part-info was improved to use partclone.fstype so that vmfs can be detected.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 25 Feb 2010 18:20:00 +0800

clonezilla (2.3.4-86) unstable; urgency=low

  * In ocs-srv-live.sh we will force dhcp server to lease IP address to PXE or DRBL client.
  * The boot parameter "dcs_mcast_type", which can be one of these values: "clients+time-to-wait", "time-to-wait", or "clients-to-wait" will honored in dcs.
  * "dcs_choose_client dcs_input_img_name dcs_cast_mode dcs_mcast_type ocs_se_restore_save_opt ocs_se_restore_extra_opt" was added to param_2_be_parsed in drbl-live.d/S03prep-drbl-clonezilla. 

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 25 Feb 2010 16:31:00 +0800

clonezilla (2.3.4-85) unstable; urgency=low

  * Comment the usage assing_default_dns_server in drbl-live-hook since it won't work.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 25 Feb 2010 11:58:00 +0800

clonezilla (2.3.4-84) unstable; urgency=low

  * Some minor improvements in drbl live so it can be used in an unattended mode.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 25 Feb 2010 10:49:00 +0800

clonezilla (2.3.4-83) unstable; urgency=low

  * S00ocs-start and S99ocs-end were added in ocs-live.d for tag purpose.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 23 Feb 2010 16:40:00 +0800

clonezilla (2.3.4-82) unstable; urgency=low

  * Plymouth is not stable in Lucid, and since tehre is no way to use boot parameter to disable it, so force to remove the files of plymouth in the function dirty_hacking_rm_files_for_ocs_live in ocs-live-hook-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 23 Feb 2010 15:45:00 +0800

clonezilla (2.3.4-81) unstable; urgency=low

  * Instead of setting CRYPTDISKS_ENABLE=No, We just remove the start services of cryptdisks-udev.conf and cryptdisks-enable.conf in Lucid Clonezilla live.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 23 Feb 2010 14:00:00 +0800

clonezilla (2.3.4-80) unstable; urgency=low

  * Bug fixed: When a partition is mounted after ocs-sr saving started (seldom case), the image files on /home/partimag will be all removed (https://sourceforge.net/tracker/?func=detail&atid=671650&aid=2956592&group_id=115473). Thanks to Chris Cooper for this bug report.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 23 Feb 2010 10:43:00 +0800

clonezilla (2.3.4-79) unstable; urgency=low

  * A workaround for VMWare ESX grub was added. For grub 1, if grub.conf exists, but menu.lst not, Clonezilla will try to link grub.conf as menu.lst.
  * An option "-x" to add boot parameters for drbl live was added in create-drbl-live-by-pkg.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 22 Feb 2010 16:18:00 +0800

clonezilla (2.3.4-78) unstable; urgency=low

  * VMFS supported is improved. Now it works if the blkid can identify the partition as VMFS_volume_member.

 -- Steven Shiau <steven@nchc.org.tw>  Mon, 22 Feb 2010 09:58:00 +0800

clonezilla (2.3.4-77) unstable; urgency=low

  * Packages usplash and usplash-theme-clonezilla were removed in the packages list in create-ubuntu-live, because in Lucid usplash will conflict with plymouth.
  * More files in the packages libcairo2 and ttf-dejavu-core will be removed in the function dirty_hacking_rm_files_for_ocs_live in ocs-live-hook-functions.

 -- Steven Shiau <steven@nchc.org.tw>  Sun, 21 Feb 2010 21:52:00 +0800

clonezilla (2.3.4-76) unstable; urgency=low

  * Bug fixed: create-gparted-live failed to create due to set -e checking.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 20 Feb 2010 23:56:00 +0800

clonezilla (2.3.4-75) unstable; urgency=low

  * Bug fixed: kernel/net should not be removed in gparted-live-hook otherwise nfs won't be supported.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 20 Feb 2010 23:25:00 +0800

clonezilla (2.3.4-74) unstable; urgency=low

  * Comment in ocs-functions was updated.
  * Due to a output display bug in partclone.dd when restoring, it is not used to save an image. We still use dd to save and restore the image.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 20 Feb 2010 13:41:00 +0800

clonezilla (2.3.4-73) unstable; urgency=low

  * Disable starting crypto disk in Clonezilla live. Since we won't need on booting and it causes an issue (https://bugs.launchpad.net/puredyne-live/+bug/485858).

  * An option -bt|--bootstrap was added to programs create-(ubuntu|debian|gparted|drbl)-live so that cdebootstrap or debootstrap can be selected.

 -- Steven Shiau <steven@nchc.org.tw>  Sat, 20 Feb 2010 12:49:00 +0800

clonezilla (2.3.4-72) unstable; urgency=low

  * An option (-f) was added in create-(debian|gparted|drbl)-live so that we can assign the linux kernel arch.
  * lbzip2 was used as a default parallel bzip2 program since pbzip2 1.0.5 has an issue about memory usage.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 18 Feb 2010 14:15:00 +0800

clonezilla (2.3.4-71) unstable; urgency=low

  * Minor update about the prompt in ocs-resize-part.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 17 Feb 2010 18:07:00 +0800

clonezilla (2.3.4-70) unstable; urgency=low

  * Function ocs-functions was improved in coding about running partprobe, sfdisk -R.

 -- Steven Shiau <steven@nchc.org.tw>  Wed, 17 Feb 2010 13:32:00 +0800

clonezilla (2.3.4-69) unstable; urgency=low

  * Force to info kernel that the partition table has been changed after partition file system is restored. This makes BSD system restoring work.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 16 Feb 2010 21:53:00 +0800

clonezilla (2.3.4-68) unstable; urgency=low

  * Filesystem ufs was added in the partclone supported file system in drbl-ocs.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 16 Feb 2010 19:12:00 +0800

clonezilla (2.3.4-67) unstable; urgency=low

  * Filesystem vmfs was added in the partclone supported file system in drbl-ocs.conf.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 16 Feb 2010 15:57:00 +0800

clonezilla (2.3.4-66) unstable; urgency=low

  * Lzma compression option was changed to be "-3" by default.
  * Option -z5|-z5p (for xz|pxz) and -z6|-z6p (for lzip|plzip) were added in ocs-sr and drbl-ocs.

 -- Steven Shiau <steven@nchc.org.tw>  Tue, 16 Feb 2010 11:02:00 +0800

clonezilla (2.3.4-65) unstable; urgency=low

  * Initial deb release.

 -- Steven Shiau <steven@nchc.org.tw>  Thu, 11 Feb 2010 16:23:00 +0800
